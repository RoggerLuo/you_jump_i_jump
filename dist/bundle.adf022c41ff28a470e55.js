!function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();a(62),a(65),a(64);var o=a(61),s=i(o),l=a(60),c=i(l),d=a(24),p=i(d),u=a(27),f=i(u),h=a(6),m=i(h),v=a(8),g=i(v),y=a(11),b=i(y),w=a(2),_=i(w);a(63);var C=function(){function e(){var t=this;return n(this,e),console.log("app init"),this._initFramework7(),this._initRouter(),this.loading=new b.default,_.default.subscribe("pageInited",function(){t.loading.hide()}),g.default.ENV_PRODUCT?void document.addEventListener("deviceready",this._onDeviceReady.bind(this),!1):void document.addEventListener("DOMContentLoaded",this._onDeviceReady.bind(this),!1)}return r(e,[{key:"_onDeviceReady",value:function(){console.log("onDeviceReady"),this._authIdentity(),this._listenAndroidBackButtonEvent()}},{key:"_initFramework7",value:function(){console.log("initFramework7"),window.$=Dom7,window.bpmApp=new Framework7({animateNavBackIcon:!0,pushState:!0,sortable:!1}),window.mainView=bpmApp.addView(".view-main",{dynamicNavbar:!0,domCache:!0})}},{key:"_authIdentity",value:function(){var e=this;return this.loading.show("加载中"),bpmApp.params.modalButtonOk="确定",g.default.ENV_PRODUCT?void f.default.verifyIdentity().then(function(t){e._gotoIndexPage()}).catch(function(t){e.loading.hide(),bpmApp.alert(t,"",function(){return m.default.logout()})}):void m.default.getCurrentUserInfo().then(function(){e._gotoIndexPage()})}},{key:"_gotoIndexPage",value:function(){if("#detail"===bpmApp.mainView.url){var e=this._getQueryString("id"),t=this._getQueryString("type"),a=this._getQueryString("taskId"),i=this._getQueryString("operationType"),n=this._getQueryString("taskSid"),r=this._getQueryString("circulationTaskId");return e&&t?void new p.default({id:e,type:t,taskId:a,taskSid:n,operationType:i,circulationTaskId:r}):(this.loading.hide(),void bpmApp.alert("参数错误","",function(){return m.default.logout()}))}new c.default}},{key:"_getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?a[2]:null}},{key:"_initRouter",value:function(){new s.default}},{key:"_listenAndroidBackButtonEvent",value:function(){cordova.exec(null,null,"CoreAndroid","overrideBackbutton",[!0]),cordova.exec(function(e){if("backbutton"==e.action){if("function"==typeof window.ANDROID_BACK_EVENT)return window.ANDROID_BACK_EVENT(),void(window.ANDROID_BACK_EVENT=null);mainView.router.back(),1==bpmApp.views[0].history.length&&m.default.logout()}},null,"CoreAndroid","messageChannel",[])}}]),e}();new C},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(){function e(t,i){a(this,e),this.template=t,this.data=i}return i(e,[{key:"render",value:function(){return Template7.compile(this.template)(this.data)}}]),e}();t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={};window.Event={publish:function(e,t){if(i[e]){if("object"==a(i[e]))return void i[e].forEach(function(e){e(t)});i[e](t)}},subscribe:function(e,t){return"textComponentInput"==e||"dateComponentInput"==e||"subFormTextComponentInput"==e||"calculateComponentChange"==e?(i[e]||(i[e]=[]),void i[e].push(t)):void(i[e]=t)},unsubscribe:function(e){delete i[e]},init:function(){delete i.textComponentInput,delete i.subFormTextComponentInput,delete i.dateComponentInput,delete i.calculateComponentChange}},t.default=Event},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();a(86);var r=function(){$(".toast-container").off("click").off("transitionEnd").remove()},o=function(e){var t=$('<div class="toast-container show">'),a='<div class="toast-msg">'+e+"</div>";return t.html(a),t},s=function(e,t){var a=$('<div class="toast-container icon show">'),i="";return i=t?'<div class="toast-icon"><i class="iconfont icon-chenggong"></i></div>':'<div class="toast-icon"><i class="iconfont icon-shibai"></i></div>',i=i+'<div class="toast-msg">'+e+"</div>",a.html(i),a},l=function(e){$("body").append(e),e.css("margin-top",e.outerHeight()/-2+"px").css("margin-left",e.outerWidth()/-2+"px"),e.addClass("fadein")},c=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.msg=t,this.options=a}return n(e,[{key:"show",value:function(){r(),this.box=o(this.msg),this._show()}},{key:"showSuccess",value:function(){this.box=s(this.msg,!0),this._show()}},{key:"showFail",value:function(){this.box=s(this.msg,!1),this._show()}},{key:"_show",value:function(){var e=this;l(this.box),setTimeout(function(){return e.hide()},this.options.timeout||1500)}},{key:"hide",value:function(){var e=this;this.box.removeClass("fadein").transitionEnd(function(){return e.box.remove()})}}]),e}();t.default=c},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),r=i(n),o=a(6),s=i(o),l=function(e){e.path=e.path.indexOf("?")>-1?e.path+"&t="+Date.now():e.path+"?t="+Date.now();var t={url:r.default.API+e.path,type:"GET",contentType:"application/json",dataType:"json",timeout:6e4,cache:!1};window.ENV_PRODUCT||(window.accessToken="392a34147b1d4d0ea45b67ea74bcdd08"),window.accessToken&&(e.headers={Authorization:"Bearer "+window.accessToken,from:"client"}),$.each(t,function(t,a){e[t]||(e[t]=a)}),("POST"===e.type.toUpperCase()||"PUT"===e.type.toUpperCase())&&e.contentType&&e.contentType.indexOf("json")>-1&&(e.data=JSON.stringify(e.data));var a=e.complete;e.complete=function(e,t){return bpmApp.hideIndicator(),401==t?(bpmApp.params.modalButtonOk="确定",void bpmApp.alert("认证过期,请重新打开","",function(){return s.default.logout()})):void(a&&a())},console.log("调用接口:\n%s,\n参数列表:",e.url,e.data),$.ajax(e)};t.default={getAccessToken:function(e){e.path="token",e.headers={from:"client"},e.type="POST",l(e)},getMyFlowList:function(e){e.path="repository/process-definitions?start=0&size=99999&orgId="+e.orgId,e.dataType="text",l(e)},getTodoNotifyUnreadNum:function(e){e.path="runtime/summaries",l(e)},getFlowForms:function(e){e.path="repository/process-definitions/"+e.id+"/prestart?processType="+e.processType,e.dataType="text",l(e)},launchFlow:function(e){e.path="runtime/process-definitions/"+e.id+"/process-instances?processType="+e.processType,e.type="POST",l(e)},saveFlowDarft:function(e){e.path="runtime/process-definitions/"+e.id+"/process-drafts?processType="+e.processType,e.type="POST",l(e)},getMyFlowsByApproving:function(e){e.path="runtime/process-instances?start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="runtime/process-instances?start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getMyFlowsByFinished:function(e){e.path="history/process-instances?start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="history/process-instances?start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getFlowsByDraft:function(e){e.path="runtime/process-drafts?start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="runtime/process-drafts?start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},approveTask:function(e){e.path="runtime/tasks/"+e.taskId+"?processType="+e.processType,e.type="PUT",l(e)},getFlowsByPending:function(e){e.path="runtime/tasks?status=Pending&start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="runtime/tasks?status=Pending&start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getFlowsByApproved:function(e){e.path="history/tasks?status=Approved&start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="history/tasks?status=Approved&start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getFlowByUnread:function(e){e.path="history/circulations?status=UnRead&start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="history/circulations?status=UnRead&start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getFlowByRead:function(e){e.path="history/circulations?status=Read&start="+e.startIndex+"&size="+e.size,e.nameLike&&(e.path="history/circulations?status=Read&start="+e.startIndex+"&size="+e.size+"&nameLike="+e.nameLike),e.dataType="text",l(e)},getFlowDetail:function(e){e.instanceId==e.taskId&&(e.taskId=""),e.taskId||(e.taskId=""),e.circulationTaskId&&(e.taskId=""),e.path="history/process-instances/"+e.instanceId+"?processType="+e.processType+"&taskId="+e.taskId,e.dataType="text",l(e)},getFlowDraftDetail:function(e){e.path="runtime/process-drafts/"+e.instanceId,l(e)},addFlowComment:function(e){e.path="history/process-instances/"+e.instanceId+"/comments?processType="+e.processType,e.type="POST",l(e)},removeFlow:function(e){e.path="history/process-instances/"+e.instanceId+"?processType="+e.processType,e.type="DELETE",l(e)},removeFlowDraft:function(e){e.path="runtime/process-drafts/"+e.id,e.type="DELETE",e.dataType="text",l(e)},getDelegations:function(e){e.path="identity/delegations",e.dataType="text",l(e)},addDelegation:function(e){e.path="identity/delegations",e.type="PUT",e.dataType="text",l(e)},cancelDelegation:function(e){e.path="identity/delegations?orgId="+e.orgId+"&roleId="+e.roleId,e.type="DELETE",e.dataType="text",l(e)},getOrganizations:function(e){e.path=e.orgId?"identity/organizations?orgId="+e.orgId:"identity/organizations",e.dataType="text",l(e)},getOrganizationEmployees:function(e){e.path="identity/organizations/"+e.orgId+"/employees?includeChild=true",l(e)},queryEmployee:function(e){e.path="identity/employees?nameLike="+e.query+"&start=0&size=10",e.dataType="text",l(e)},getFlowDetailByDraft:function(e){e.path="runtime/process-drafts/"+e.id,e.dataType="text",l(e)},updateFlowDraft:function(e){e.path="runtime/process-drafts/"+e.id,e.type="PUT",e.dataType="text",l(e)},approve:function(e){e.path="runtime/tasks/"+e.id+"?processType="+e.processType,e.type="PUT",e.dataType="text",l(e)},revokeFlow:function(e){e.path="runtime/tasks/withdraw?processType="+e.processType,e.data={processInstanceId:e.instanceId,processResult:"WithdrawFirst",comment:e.comment},e.isRevokeApprove&&(e.data.processResult="Withdraw",e.data.userTaskId=e.taskId),e.type="PUT",e.dataType="text",l(e)},invalidFlow:function(e){e.path="runtime/process-instances/"+e.instanceId+"/actions?processType="+e.processType,e.data={action:"revoke",comment:e.comment},e.type="POST",e.dataType="text",l(e)},remindFlow:function(e){e.path="runtime/process-instances/"+e.instanceId+"/actions?processType="+e.processType,e.data={action:"remind"},e.type="POST",e.dataType="text",l(e)},noticeOthers:function(e){e.path="history/process-instances/"+e.instanceId+"/notices?processType="+e.processType,e.data=e.users,e.type="POST",e.dataType="text",l(e)},getAllEmployeesByOrg:function(e){e.path="identity/organizations/"+e.orgId+"/employees?start=0&size=999999999&includeChild=true",e.dataType="text",l(e)},uploadImageOfBase64:function(e){e.path="repository/base64",e.type="POST",l(e)},submitFlowDraft:function(e){e.path="runtime/process-drafts/"+e.id+"/actions",e.type="POST",e.dataType="text",l(e)},markNotifyStatusToRead:function(e){e.path="history/circulations/"+e.id+"?circulationTaskId="+e.circulationTaskId,e.type="PUT",e.dataType="text",l(e)},previewFile:function(e){e.path="repository/files/"+e.mediaId+"/preview?dest_type=jpg&source_type="+e.sourceType,l(e)},getDatabaseViewResult:function(e){e.path="source/dataSources/"+e.id+"/view",e.type="POST",e.dataType="text",l(e)},getFlowFormSettings:function(e){e.taskId==e.instanceId&&(e.taskId="",e.from||(e.from="Start")),e.from||(e.from=""),e.path="history/process-instances/formSetting/"+e.instanceId+"?taskId="+e.taskId+"&from="+e.from,e.dataType="text",l(e)},getFlowNextApprovers:function(e){e.path="history/process-instances/updateFormInstance/"+e.taskId,e.type="PUT",e.dataType="text",l(e)},getFlowNextApproverByConditionBranch:function(e){e.path="history/process-instances/manual/"+e.instanceId+"/"+e.flowId,e.dataType="text",l(e)}}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(14),s=i(o),l=a(1),c=i(l),d=function(){function e(t,a,i){n(this,e),s.default.notNull(t),this.component=t,this.templateInput=a,this.templateDetail=i}return r(e,[{key:"render",value:function(){return this.component.display?"":new c.default(this.templateInput,this.component).render()}},{key:"renderDetail",value:function(){return new c.default(this.templateDetail,this.component).render()}},{key:"validate",value:function(e){if(this.component.readonly)return this.validateSuccess();var t=e||$("#"+this.component._id).val();return this.component.required&&s.default.isEmpty(t)?this.validateFail(this.component.title+"不能为空"):this.validateSuccess()}},{key:"validateSuccess",value:function(){return{pass:!0}}},{key:"validateFail",value:function(e){return{pass:!1,msg:e}}}]),e}();t.default=d},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(8),s=i(o),l=a(51),c=i(l),d=a(52),p=i(d),u=function(){function e(){n(this,e)}return r(e,null,[{key:"getInstance",value:function(){return s.default.ENV_PRODUCT?p.default:c.default}},{key:"getCurrentUserInfo",value:function(){return window.currentUser?window.currentUser:this.getInstance().getCurrentUserInfo()}},{key:"getCurrentUserId",value:function(){if(window.currentUser)return window.currentUser.user_id;throw new Error("not found user")}},{key:"getTicket",value:function(){return this.getInstance().getTicket()}},{key:"chooseImages",value:function(){return this.getInstance().chooseImages()}},{key:"takePicture",value:function(){return this.getInstance().takePicture()}},{key:"chooseFiles",value:function(){return this.getInstance().chooseFiles()}},{key:"logout",value:function(){cordova.exec(function(){},function(e){},"WorkPlus_WebView","exit",[])}},{key:"previewImage",value:function(e,t){return this.getInstance().previewImage(e,t)}},{key:"downloadFile",value:function(e,t,a,i,n){this.getInstance().downloadFile(e,t,a,i,n)}},{key:"scanCode",value:function(){return this.getInstance().scanCode()}},{key:"openWebView",value:function(e){return this.getInstance().openWebView(e)}}]),e}();t.default=u},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={"<":"&lt;",">":"&gt;"},o=function(e){for(var t in r)e=e.replace(new RegExp(t,"g"),r[t]);return e},s=function e(t){if(t&&"object"===("undefined"==typeof t?"undefined":n(t)))for(var a in t)t[a]="string"==typeof t[a]?o(t[a]):e(t[a]);else"string"==typeof t&&(t=o(t));return t},l=function(){function e(){a(this,e)}return i(e,null,[{key:"escape",value:function(e){return s(e)}}]),e}();t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.API="/",window.MEDIA_API="http://120.236.169.14:7081/v1/medias/images/",window.ENV_PRODUCT=!0,t.default={API:window.API,MEDIA_API:window.MEDIA_API,ENV_PRODUCT:window.ENV_PRODUCT}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(14),s=i(o),l=a(8),c=(i(l),function(e){return e.substring(0,e.indexOf(" "))}),d=function(e){var t=e.substring(e.indexOf(" ")+1,e.length);return $(t)},p=function(){function e(){n(this,e)}return r(e,[{key:"bindEvent",value:function(e){s.default.notNull(e);for(var t in e)d(t).on(c(t),e[t])}},{key:"routeTo",value:function(e,t){window.ANDROID_BACK_EVENT=null,mainView.router.load({url:e,query:t})}},{key:"back",value:function(e){mainView.router.back(e)}},{key:"packageMediaURL",value:function(e){var t=this;return e instanceof Array?void e.forEach(function(e){e.icon&&(e.icon=t._packageMedisURL(e.icon)),e.processInstance&&e.processInstance.processDefinition&&(e.processInstance.processDefinition.icon=t._packageMedisURL(e.processInstance.processDefinition.icon)),e.processDefinition&&(e.processDefinition.icon=t._packageMedisURL(e.processDefinition.icon))}):_packageMedisURL(e)}},{key:"_packageMedisURL",value:function(e){return"/repository/files/"+e+"?access_token="+window.accessToken}}]),e}();t.default=p},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(95),s=i(o);a(66);var l=a(96),c=i(l),d=a(97),p=i(d),u=a(1),f=i(u),h=a(3),m=i(h),v=a(4),g=i(v),y=a(29),b=i(y),w=a(98),_=i(w),C=a(99),k=i(C),x=a(7),T=i(x),S=function(e){e.children&&e.children.forEach(function(t){t.identifier=e.identifier,t.displayName=T.default.escape(t.name)}),e.employees&&e.employees.forEach(function(e){e.displayName=T.default.escape(e.name)}),$(".org-tree"+e.identifier).append(new f.default(c.default,e).render()),$("#tree-children"+e.id).append(new f.default(p.default,e).render()),$("#tree-extend"+e.id).addClass("active"),$("#tree-children"+e.id).addClass("inited")},P=function(e,t){e.children&&e.children.forEach(function(t){t.identifier=e.identifier,t.displayName=T.default.escape(t.name)}),e.employees&&e.employees.forEach(function(e){e.displayName=T.default.escape(e.name)}),$("#tree-children"+e.id).append(new f.default(p.default,e).render()),$("#tree-extend"+e.id).addClass("active"),$("#tree-children"+e.id).addClass("inited"),$("#tree-children"+e.id+" .tree-select-employee").click(function(e){return t(e)})},O=function(e,t){e.forEach(function(e){$("#select-employee"+e.id+t).addClass("selected")})},I=null,D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.hasOwnProperty("single")||(t.single=!1),this.selected=[],this.params=t,this.mark={identifier:Date.now()}}return r(e,[{key:"show",value:function(e,t){bpmApp.popup(new f.default(s.default,this.mark).render()),this._bindEvent(),this._showContactTree(),this.finishCallback=e,t&&t.length>0&&(this.selected=JSON.parse(JSON.stringify(t))),window.ANDROID_BACK_EVENT=this.hide}},{key:"hide",value:function(){bpmApp.hideIndicator(),bpmApp.closeModal(),window.ANDROID_BACK_EVENT=null}},{key:"_showContactTree",value:function(){var e=this;setTimeout(function(){return bpmApp.showIndicator()},100),g.default.getOrganizations({success:function(t){t=JSON.parse(t);var a=t[0];a.identifier=e.mark.identifier,S(a),e.tree=new b.default(a),e._bindTreeEvent(),O(e.selected,a.id),e._updateSelectedInfo()},complete:function(){return setTimeout(function(){return bpmApp.hideIndicator()},100)},error:function(e){new m.default("获取组织机构树失败").show()}})}},{key:"_bindTreeEvent",value:function(){var e=this;$(".tree-select-employee").click(function(t){return e._handleSelectEmployee(t)}),$(document).on("click",".tree-select-org"+this.mark.identifier,function(t){return e._handleSelectOrg(t)}),$(".root-element").click(function(t){return e._extendChildren(t)}),$(".children-element").click(function(t){return e._extendChildren(t)})}},{key:"_extendChildren",value:function(e){var t=this,a=$(e.target).data("id");a&&($("#tree-extend"+a).hasClass("active")?($("#tree-children"+a).hide(),$("#tree-extend"+a).removeClass("active")):$("#tree-children"+a).hasClass("inited")?($("#tree-children"+a).show(),$("#tree-extend"+a).addClass("active")):1===$("#tree-children"+a).length&&(bpmApp.showIndicator(),g.default.getOrganizations({orgId:a,dataType:"text",success:function(e){var a=JSON.parse(e)[0];a.identifier=t.mark.identifier,P(a,t._handleSelectEmployee.bind(t)),t.tree.concat(a),O(t.selected,a.id)},complete:function(){return bpmApp.hideIndicator()},error:function(e,t){new m.default("获取组织机构树失败").show()}})))}},{key:"_handleSelectEmployee",value:function(e){e.stopPropagation();var t=$(e.target).data("id"),a=this.tree.getOrganizationByEmpId(t);if($("#select-employee"+t).hasClass("selected")){$("#select-employee"+t).removeClass("selected");var i=this.tree.settingEmployeeCheckboxUnSelect(t);this.tree.settingParentCheckboxStatusToUnSelectIfNecessary(a,!1),this._removeSelectedEmployee(i)}else{if(this.selected.length>0&&this.params.single)return void new m.default(this.params.tips||"最多只能选择一个人员").show();$("#select-employee"+t).addClass("selected");var n=this.tree.settingEmployeeCheckboxSelected(t);this.tree.settingParentCheckboxStatusToSelectedIfNecessary(a,!1),this._addSelectedEmployee(n)}this._updateSelectedInfo()}},{key:"_handleSelectOrg",value:function(e){var t=this;if(this.params.single)return void new m.default(this.params.tips||"最多只能选择一个人员").show();var a=this.tree.getOrganizationByOrgId($(e.target).data("orgid"));bpmApp.showIndicator(),g.default.getAllEmployeesByOrg({orgId:a.id,success:function(i){i=JSON.parse(i),$(e.target).hasClass("selected")?($(e.target).removeClass("selected"),t.tree.settingAllChildrenCheckboxStatusToUnSelect(a),t.tree.settingParentCheckboxStatusToUnSelectIfNecessary(a,!0),i.data&&i.data.forEach(function(e){t._removeSelectedEmployee(e)})):($(e.target).addClass("selected"),t.tree.settingAllChildrenCheckboxStatusToSelected(a),t.tree.settingParentCheckboxStatusToSelectedIfNecessary(a,!0),i.data&&i.data.forEach(function(e){e.uniqueId=""+e.id+a.id,t._addSelectedEmployee(e)})),t._updateSelectedInfo()},complete:function(){return bpmApp.hideIndicator()},error:function(e){new m.default("获取组织雇员失败").show()}})}},{key:"_bindEvent",value:function(){var e=this;$("#contact-cancel"+this.mark.identifier).click(function(t){return e.hide()}),$("#contact-search-input"+this.mark.identifier).click(function(t){return e._showSearchInput()}),$("#contact-search-input"+this.mark.identifier).on("input",function(t){return e._queryEmployee(t)}),$(".search-tips"+this.mark.identifier).click(function(t){$("#contact-search-input"+e.mark.identifier).focus(),e._showSearchInput(),$(".search-tips"+e.mark.identifier).hide()}),$("#searchbar-cancel"+this.mark.identifier).click(function(t){return e._hideSearchInput()}),$("#selected-finish"+this.mark.identifier).click(function(t){return e._selectContactFinish()}),$(".contact-search-result"+this.mark.identifier).click(function(t){return e._hideSearchInput()})}},{key:"_showSearchInput",value:function(){$("#contact-search-input"+this.mark.identifier).removeClass("hide"),$("#contact-search-input"+this.mark.identifier).addClass("show"),$("#search-tip-content"+this.mark.identifier).hide(),$("#searchbar-cancel"+this.mark.identifier).css({opacity:1,display:"block"}),$(".contact-search-result"+this.mark.identifier).show()}},{key:"_hideSearchInput",value:function(){$("#contact-search-input"+this.mark.identifier).removeClass("show"),$("#contact-search-input"+this.mark.identifier).addClass("hide"),$("#search-tip-content"+this.mark.identifier).show(),$(".searchbar-clear"+this.mark.identifier).css("opacity",0),$("#searchbar-cancel"+this.mark.identifier).css({opacity:0,display:"none"}),$("#contact-search-input"+this.mark.identifier).val(""),$(".contact-search-result"+this.mark.identifier).hide(),$(".contact-search-result"+this.mark.identifier).removeClass("show"),$(".contact-search-result"+this.mark.identifier).html(""),$(".search-tips"+this.mark.identifier).show(),$(".org-tree"+this.mark.identifier).show()}},{key:"_queryEmployee",value:function(e){var t=this,a=$(e.target).val();return I&&clearTimeout(I),a?($(".searchbar-clear"+this.mark.identifier).css("opacity",1),$(".searchbar-clear"+this.mark.identifier).click(function(e){$("#contact-search-input"+t.mark.identifier).val(""),$(".contact-search-result"+t.mark.identifier).html(""),$(".searchbar-clear"+t.mark.identifier).css("opacity",0),$(".contact-search-result"+t.mark.identifier).removeClass("show"),$(".org-tree"+t.mark.identifier).show(),$("#contact-search-input"+t.mark.identifier).focus()}),$(".contact-search-result"+this.mark.identifier).hasClass("show")||$(".contact-search-result"+this.mark.identifier).addClass("show"),void(I=setTimeout(function(){g.default.queryEmployee({query:a,success:function(e){e=JSON.parse(e),t._renderSearchResult(e.data,a)},error:function(e){new m.default("搜索联系人失败").show()}})},300))):($(".contact-search-result"+this.mark.identifier).html(""),$(".contact-search-result"+this.mark.identifier).removeClass("show"),$(".searchbar-clear"+this.mark.identifier).css("opacity",0),void $(".org-tree"+this.mark.identifier).show())}},{key:"_renderSearchResult",value:function(e,t){var a=this;return $(".contact-search-result"+this.mark.identifier).html(""),$(".org-tree"+this.mark.identifier).hide(),e?(this.selected.length>0&&this.selected.forEach(function(t){e.forEach(function(e){e.id==t.id&&(e.selected=!0)})}),e.forEach(function(e){e.displayName=T.default.escape(e.name),e.name.indexOf(t)>-1&&(e.displayName=e.displayName.substring(0,e.displayName.indexOf(t))+"<span>"+t+"</span>"+e.displayName.substring(e.displayName.indexOf(t)+t.length,e.displayName.length))}),$(".contact-search-result"+this.mark.identifier).append(new f.default(k.default,e).render()),$(".item-icon-add").click(function(t){return a._addSeearchEmployee(t,e)}),void $(".item-icon-delete").click(function(t){return a._removeSearchEmployee(t,e)})):void $(".contact-search-result"+this.mark.identifier).append(_.default)}},{key:"_addSeearchEmployee",value:function(e,t){var a=this;if(e.stopPropagation(),this.selected.length>0&&this.params.single)return void new m.default(this.params.tips||"最多只能选择一个人员").show();var i=$(e.target).data("id"),n=t.filter(function(e){return e.id==i})[0];this._addSelectedEmployee(n),this._updateSelectedInfo(),$(".item-icon-add"+n.id).remove(),$(".query-result-item"+n.id).append('<div class="item-icon item-icon-delete item-icon-delete'+n.id+'" data-id="'+n.id+'"><i class="iconfont icon-guanbi-xiao" data-id="'+n.id+'"></i></div>'),$(".item-icon-delete"+n.id).click(function(e){return a._removeSearchEmployee(e,t)})}},{key:"_removeSearchEmployee",value:function(e,t){var a=this,i=$(e.target).data("id"),n=t.filter(function(e){return e.id==i})[0];this._removeSelectedEmployee(n),this._updateSelectedInfo(),e.stopPropagation(),$(".item-icon-delete"+n.id).remove(),$(".query-result-item"+n.id).append('<div class="item-icon item-icon-add item-icon-add'+n.id+'" data-id="'+n.id+'"><i class="iconfont icon-tianjia-lanse" data-id="'+n.id+'"></i></div>'),$(".item-icon-add"+n.id).click(function(e){return a._addSeearchEmployee(e,t)})}},{key:"_selectContactFinish",value:function(){return 0===this.selected.length?void new m.default("请选择人员").show():(this.hide(),void this.finishCallback(this.selected))}},{key:"_updateSelectedInfo",value:function(){if(this.selected.length>0){$("#selected-num"+this.mark.identifier).text("("+this.selected.length+")");var e="";this.selected.map(function(t){return e+=t.name+"，"}),$("#selected-name"+this.mark.identifier).text(e.substring(0,e.length-1))}0==this.selected.length&&($("#selected-num"+this.mark.identifier).text(""),$("#selected-name"+this.mark.identifier).text(""))}},{key:"_addSelectedEmployee",value:function(e){var t=this.selected.filter(function(t){return t.id==e.id});0===t.length&&this.selected.push(e)}},{key:"_removeSelectedEmployee",value:function(e){var t=this.selected.filter(function(t){return t.id==e.id})[0];this.selected.splice(this.selected.indexOf(t),1)}}]),e}();t.default=D},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(114),s=i(o);a(72);var l=a(1),c=i(l),d=function(){function e(){n(this,e),this.loading=!1}return r(e,[{key:"show",value:function(e){var t=e;t||(t="提交中"),$("body").append(new c.default(s.default,{alertInfo:t}).render()),this.loading=!0}},{key:"isLoading",value:function(){return this.loading}},{key:"hide",value:function(){$(".loading-block").remove(),this.loading=!1}}]),e}();t.default=d},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(49),s=i(o),l=a(50),c=i(l),d=a(31),p=i(d),u=a(32),f=i(u),h=a(36),m=i(h),v=a(34),g=i(v),y=a(33),b=i(y),w=a(43),_=i(w),C=a(22),k=i(C),x=a(48),T=i(x),S=a(42),P=i(S),O=a(41),I=i(O),D=a(28),E=i(D),M=a(30),j=i(M),L=a(7),A=i(L),N=function(e,t){if(!t)return e;var a=[];return e&&e.forEach(function(e){var i=t.fields.filter(function(t){return t.fieldId==e.name})[0];i&&(e.required=i.required,e.readonly=!i.editable,t.filterEditable&&(e.display=e.readonly,a.push(e)),
t.filterEditableAndDisplay&&(i.editable||i.display)&&a.push(e),t.filterDisplay&&i.display&&a.push(e))}),a},z=function(e){var t=[];return e.forEach(function(a){a.displayTips=A.default.escape(a.tips),a.title=A.default.escape(a.title),a.value=A.default.escape(a.value),a.defaultValue=A.default.escape(a.defaultValue),a.maxLength=a.maxLength||9999999,"text"!==a.type&&"number"!==a.type&&"money"!==a.type&&"email"!==a.type||t.push(new s.default(a)),"mobile"!==a.type&&"phone"!==a.type||t.push(new s.default(a)),"textarea"===a.type&&t.push(new c.default(a)),"date"===a.type&&t.push(new p.default(a)),"date_range"===a.type&&t.push(new f.default(a)),"image"===a.type&&t.push(new m.default(a)),"file"===a.type&&t.push(new g.default(a)),"description"===a.type&&t.push(new b.default(a)),"selection"===a.type&&t.push(new _.default(a)),"multi_selection"===a.type&&t.push(new k.default(a)),"sub_form"===a.type&&t.push(new T.default(a,e)),"select_org"===a.type&&t.push(new P.default(a)),"select_employee"===a.type&&t.push(new I.default(a)),"calculate"===a.type&&t.push(new E.default(a,e)),"database_view"===a.type&&t.push(new j.default(a,e))}),t},B=function(e,t){var a="";return t?(e.forEach(function(e){a=a.concat(e.renderDetail())}),a):(e.forEach(function(e){a=a.concat(e.render())}),a)},F=function(e){return B(e,!0)},R=function(){function e(t,a){n(this,e),this.components=z(N(t,a))}return r(e,[{key:"render",value:function(){return B(this.components)}},{key:"renderDetail",value:function(){return F(this.components)}},{key:"validate",value:function(){for(var e in this.components){var t=this.components[e].validate();if(!t.pass)return t}return{pass:!0}}},{key:"bindEvent",value:function(){this.components.forEach(function(e){e.bindEvent&&e.bindEvent()})}},{key:"renderTo",value:function(e){$(e).append(B(this.components)),this.bindEvent()}},{key:"getValues",value:function(){var e={};return this.components.forEach(function(t){e[t.component.name]=t.getValue()}),e}},{key:"getNewValues",value:function(){var e={};return this.components.forEach(function(t){t.getSnapshootValue?e[t.component.name]=t.getSnapshootValue():e[t.component.name]=t.getValue()}),e}},{key:"getSnapshoot",value:function(){var e=[];return this.components.forEach(function(t){var a=t.component;t.getSnapshootValue?a.value=t.getSnapshootValue():a.value=t.getValue(),e.push(a)}),e}},{key:"isEmpty",value:function(){return!this.components.length}}]),e}();t.default=R},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(123),s=i(o);a(76);var l=a(21),c=i(l),d="date",p="date_time",u="selection",f=function(e,t,a){for(var i=[],n=e;n<=t;n++)i.push(n<10?"0"+n+a:""+n+a);return{values:i,textAlign:"center"}},h=function(e){console.log(e);for(var t=[],a=0;a<=59;a++)a%e==0&&t.push(a<10?"0"+a+"分":a+"分");return{values:t,textAlign:"center"}},m=function(e){return e.substring(0,e.length-1)},v=function(e){var t=$(".picker-item.picker-selected");if(e===d){var a=m($(t[0]).attr("data-picker-value")),i=m($(t[1]).attr("data-picker-value")),n=m($(t[2]).attr("data-picker-value"));return{value:a+"-"+i+"-"+n,year:a,month:i,day:n}}if(e===p){var r=m($(t[0]).attr("data-picker-value")),o=m($(t[1]).attr("data-picker-value")),s=m($(t[2]).attr("data-picker-value")),l=m($(t[3]).attr("data-picker-value")),c=m($(t[4]).attr("data-picker-value"));return{value:r+"-"+o+"-"+s+" "+l+":"+c,year:r,month:o,day:s,hours:l,minutes:c}}if(e===u)return{value:$(t[0]).attr("data-picker-value")}},g=function(e,t){return e=parseInt(e),e<10?"0"+e+t:""+e+t},y=function(){function e(t,a){n(this,e),this.type=t,this.values=a,this.modalOverlay=new c.default}return r(e,[{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];this.defaultValue=t,this.timeInterval=a||1,bpmApp.pickerModal(s.default),this.modalOverlay.show(this._closeModal),this._initDatePicker(),this._bindEvent(),this.callback=e,window.ANDROID_BACK_EVENT=this._hide.bind(this)}},{key:"_closeModal",value:function(){bpmApp.closeModal(".custom-picker-modal"),window.ANDROID_BACK_EVENT=null}},{key:"_hide",value:function(){this.modalOverlay.hide(),bpmApp.closeModal(".custom-picker-modal"),window.ANDROID_BACK_EVENT=null}},{key:"_initDatePicker",value:function(){var e=this;this.pickerDevice=bpmApp.picker({input:"#picker-device",container:"#picker-date-container",toolbar:!1,closeByOutsideClick:!1,momentumRatio:20,value:this._initValue(),cols:this._initCols(),onChange:function(t,a,i){if(e.type!=u){var n=i[0].substring(0,i[0].length-1),r=i[1].substring(0,i[1].length-1),o=i[2].substring(0,i[2].length-1),s=new Date(n,r,0).getDate();o>s&&t.cols[2].setValue(s+"日",100)}}}),this.pickerDevice.open()}},{key:"_bindEvent",value:function(){var e=this;$("#custom-picker-modal-cancel").click(function(){return e._hide()}),$("#custom-picker-modal-finish").click(function(){e._hide(),e.callback(v(e.type))})}},{key:"_initValue",value:function(){var e=new Date;return this.type===d?(this.defaultValue.year=this.defaultValue.year||e.getFullYear(),this.defaultValue.month=this.defaultValue.month||e.getMonth()+1,this.defaultValue.day=this.defaultValue.day||e.getDate(),[this.defaultValue.year+"年",g(this.defaultValue.month,"月"),g(this.defaultValue.day,"日")]):this.type===p?(this.defaultValue.year=this.defaultValue.year||e.getFullYear(),this.defaultValue.month=this.defaultValue.month||e.getMonth()+1,this.defaultValue.day=this.defaultValue.day||e.getDate(),this.defaultValue.hours=this.defaultValue.hours||e.getHours(),this.defaultValue.minutes=this.defaultValue.minutes||e.getMinutes(),[this.defaultValue.year+"年",g(this.defaultValue.month,"月"),g(this.defaultValue.day,"日"),g(this.defaultValue.hours,"时"),g(this.defaultValue.minutes,"分")]):this.type===u?[this.defaultValue.value||this.values[0]]:[]}},{key:"_initCols",value:function(){var e=[];if(this.type===u)return e.push({values:this.values,textAlign:"center"}),e;var t=1950,a=2050,i=1,n=12,r=1,o=31;return this.type===d&&(e.push(f(t,a,"年")),e.push(f(i,n,"月")),e.push(f(r,o,"日"))),this.type===p&&(e.push(f(t,a,"年")),e.push(f(i,n,"月")),e.push(f(r,o,"日")),e.push(f(0,23,"时")),e.push(h(this.timeInterval))),e}}]),e}();t.default=y},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(){function e(){a(this,e)}return i(e,null,[{key:"notNull",value:function(e){if(!e)throw new Error("param illegal")}},{key:"isEmpty",value:function(e){return!e}}]),e}();t.default=n},function(e,t){e.exports='<div class=flow-list-empty> <div class=empty-icon> <i class="iconfont icon-sousuowujieguo1"></i> </div> <div class=empty-tip>搜索无结果</div> </div>'},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(118),s=i(o),l=a(1),c=i(l),d=a(3),p=i(d),u=a(7),f=i(u);a(74);var h=function(e){e.forEach(function(e){e.users=[],e.orgs=[],e.roles=[],e.candidates&&e.candidates.forEach(function(t){t.displayText=f.default.escape(t.text),"EMPLOYEE"==t.cate||"boss"==t.cate?e.users.push(t):"ORG"==t.cate?e.orgs.push(t):e.roles.push(t)})})},m=function(e,t){var a=e.filter(function(e){return e.id==t})[0];a.selected=!a.selected},v=function(e){var t=e.filter(function(e){return e.selected});return t.map(function(e){return e.text}).join("、")},g=function(){function e(t){n(this,e),t.forEach(function(e){return e.id=""+e.taskKey+Date.now()}),h(t),this.approvers=t,this.results=[]}return r(e,[{key:"renderTo",value:function(e){this.approvers.forEach(function(t){e.append(new c.default(s.default,[t]).render())}),this._bindEvent()}},{key:"getValue",value:function(){var e=[];return this.approvers.forEach(function(t){if(t.results&&t.results.length>0){var a={};a.taskKey=t.taskKey,a.candidates=[],t.results.forEach(function(e){a.candidates.push({value:e.value})}),e.push(a)}}),e}},{key:"validate",value:function(){for(var e=0;e<this.approvers.length;e++){var t=this.approvers[e];if(!t.results||0==t.results.length)return{pass:!1,msg:t.title}}return{pass:!0}}},{key:"_bindEvent",value:function(){var e=this;this.approvers.forEach(function(t){$(".tree-select-approver"+t.id).click(function(a){return e._handleSelectApprover(a,t)})}),$(".approver-buttons-row a:first-child").addClass("active"),$(".approver-tabs div:first-child").addClass("active")}},{key:"_handleSelectApprover",value:function(e,t){e.stopPropagation();var a=$(e.target).data("id");if($("#select-approver"+a+t.id).hasClass("selected"))$("#select-approver"+a+t.id).removeClass("selected");else{if(t.previousNodeSpecifiedSingle&&t.results&&t.results.length>0)return void new p.default(t.title+"只能单选").show();$("#select-approver"+a+t.id).addClass("selected")}m(t.candidates,a);var i=v(t.candidates);i?($("#approver-name"+t.id).text(i),$("#approver-name"+t.id).addClass("active")):($("#approver-name"+t.id).text("请选择"),$("#approver-name"+t.id).removeClass("active")),t.results=t.candidates.filter(function(e){return e.selected})}}]),e}();t.default=g},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c);a(91);var p=a(148),u=i(p),f=a(1),h=i(f),m=a(4),v=i(m),g=a(15),y=i(g),b=a(7),w=i(b),_=null,C=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.defaultStart=0,e.defaultSize=10,e._bindEvent(),e.flowlistData=[],e.approvedListView=null,e}return o(t,e),s(t,[{key:"_bindEvent",value:function(){var e=this;$(document).on("click",".flow-list-item",function(t){return e._showFlowDetail(t)}),$(".infinite-scroll").on("infinite",function(){e.loading||e.query||e._loadingMore()}),$(".infinite-query-scroll").on("infinite",function(){e.queryLoading||e.query&&e.queryList()})}},{key:"_showFlowDetail",value:function(e){var a=this,i=$(e.target).data("id"),n=this.flowlistData.filter(function(e){return e.cid==i})[0];n&&(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_detail.html",n),n.unread&&(this.flowlistData.splice(this.flowlistData.indexOf(n),1),v.default.markNotifyStatusToRead({id:n.processInstance.id,circulationTaskId:n.circulationTaskId,success:function(e){a._handleNotify(i)},error:function(e){}})))}},{key:"renderList",value:function(e,t,a){var i=this;e.forEach(function(e){e.processDefinition&&(e.processDefinition.name=w.default.escape(e.processDefinition.name)),e.processInstance&&e.processInstance.processDefinition&&(e.processInstance.processDefinition.name=w.default.escape(e.processInstance.processDefinition.name)),e.cid||(e.cid=""+e.id+Date.now()),e=w.default.escape(e)}),this.packageMediaURL(e),e.forEach(function(e){var t=i.flowlistData.filter(function(t){var a=t.id;return a==e.id})[0];t&&i.flowlistData.splice(i.flowlistData.indexOf(t),1)}),this.flowlistData=this.flowlistData.concat(e),$(t).append(new h.default(u.default,e).render()),10==e.length?$(t+"-loading").show():$(t+"-loading").hide(),this._loadingMore=a}},{key:"renderQueryList",value:function(e){var t=this;$(".flow-list-empty").remove(),this.packageMediaURL(e),e.forEach(function(e){var a="";a=e.processInstance?e.processInstance.processDefinition.name+"-"+e.processInstance.startUser.name+"-"+e.processInstance.sn:e.startUser?e.processDefinition.name+"-"+e.startUser.name+"-"+e.sn:""+e.processDefinition.name,e.cid||(e.cid=""+e.id+Date.now());var i=a.indexOf(t.query);e.queryName=a.substring(0,i)+"<span>"+t.query+"</span>"+a.substring(i+t.query.length,a.length)}),this.flowlistData=this.flowlistData.concat(e),$("#query-result-list").append(new h.default(u.default,e).render()),10==e.length?$("#query-result-list-loading").show():$("#query-result-list-loading").hide()}},{key:"handleQueryResuult",value:function(e){return $("#query-result-list").html(""),$(".query-result-list").show(),$(".tabs").hide(),e=JSON.parse(e),e.data?void this.renderQueryList(e.data):void $("#query-result-list").append(y.default)}},{key:"handleListStartSize",value:function(e,t,a){return 10==e.length?t+a:t}},{key:"listenListScroll",value:function(e){var t=this,a=$(".infinite-scroll"),i=0;$(e).data("id",0),a[0].addEventListener("touchstart",function(e){i=e.changedTouches[0].pageY}),a[0].addEventListener("touchmove",function(t){var a=t.changedTouches[0].pageY-i;$(e).data("id")<45&&a>50&&($(e).css("margin-top","0px"),$(e).css("margin-bottom","-5px"),$(e).data("id",50))}),a[0].addEventListener("touchend",function(e){console.log("touchend"),console.log(e.changedTouches[0].pageY)}),$(".list-search-tips").click(function(e){$("#list-search-input").focus(),$(".list-search-tips").hide(),$("#list-search-input").removeClass("hide"),$("#list-search-input").addClass("show"),$(".list-searchbar-cancel").show()}),$("#list-search-input").on("input",function(e){_&&clearTimeout(_);var a=$(e.target).val();return a?($(".list-searchbar-clear").css("opacity",1),void(_=setTimeout(function(){$("#query-result-list").html(""),t.query=a,t.pendingQueryListFinished=!1,t.approvedQueryListFinished=!1,t.approvingQueryListFinished=!1,t.finishedQueryListFinished=!1,t.draftQueryListFinished=!1,t.unreadQueryListFinished=!1,t.readQueryListFinished=!1,t.pendingQueryListStart=0,t.approvedQueryListStart=0,t.approvingQueryListStart=0,t.finishedQueryListStart=0,t.draftQueryListStart=0,t.unreadQueryListStart=0,t.readQueryListStart=0,t.queryList()},300))):($(".list-searchbar-clear").css("opacity",0),$("#query-result-list").html(""),void $("#query-result-list-loading").hide())}),$(".list-searchbar-clear").click(function(e){$(".list-searchbar-clear").css("opacity",0),$("#query-result-list").html(""),$("#list-search-input").val(""),$("#query-result-list-loading").hide(),setTimeout(function(){$("#list-search-input").focus()},300)}),$("#list-searchbar-cancel").click(function(e){$(".list-searchbar-cancel").hide(),$(".list-searchbar-clear").css("opacity",0),$("#list-search-input").val(""),$(".list-search-tips").show(),$("#list-search-input").removeClass("show"),$("#list-search-input").addClass("hide"),$("#query-result-list").html(""),$(".query-result-list").hide(),$(".tabs").show(),t.query=""})}}]),t}(d.default);t.default=C},function(e,t){e.exports='<div class=flow-list-empty> <div class=empty-icon> <i class="iconfont icon-wushuju"></i> </div> <div class=empty-tip>暂无数据</div> </div>'},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABGdBTUEAALGPC/xhBQAABiJJREFUeAHtnUlu20AQRUl5nu1tjuADZG/kGtkFQa4UIHBWuUaQdXKAHCE7w5M8D0p9wh0KgtXRQFaxSr8AmqRaYnX9x252k812WbzYYDAo7+7uPj4/P38oy/JQ9rdTGtfdV0CY9YXZ716vd7y2tvZF9gfIdYk/kvDm9vb2m6yPsE/zrYDA/bG+vv5e1n9KgVoK3O+E6xvqaO5fIL8D3E9SLX8e/QL3/Ssg1fWn8vr6+qeE8tZ/OIzgFQV+lTc3N5dSPbNB9Yo63j+SarrfI1zvGMfnH2x745OZEkEBAo5AMRMDAWfEiZBEwBEoZmIg4Iw4EZIIOALFTAwEnBEnQhIBR6CYiYGAM+JESCLgCBQzMRBwRpwISQQcgWImBgLOiBMhiYAjUMzEQMAZcSIkEXAEipkYCDgjToQkAo5AMRMDAWfEiZBEwBEoZmIg4Iw4EZIIOALFTAwEnBEnQtJyhCBei0HGBBfyWk5xf39fPD4+Fk9PT4W8olN9dWlpqZDXOorl5eVC3sSrFhkk/tph3H+GV1eq1wzdR/ISwMPDQ9Hv9yu4k8YEuAC9s7NTQZ/0dx6+FwYwSufFxUUhr+LMpfvm5mYFGiU8goUAjGr49PT0XxU8LxhU4fv7+8Xq6uq8hzL/vXvAV1dXVcltWklU23t7e8XGxkbTh1Y9nut6CI0oVMttGBppZ2dnhUxr0cbh1Y7pFjCqZQBo21D1oxXu1VwCRumC8Fi3bclX237aOr5LwLjupj5tW8IMHxclWLqTwx+52XYHGGDRz9U2+NSoMZqOyx1g9HMthMadMDTqvJk7wJYie2xRuwKM6hmtZyvDyWVRe8wTryvA1t0VwLXOw7SwXQHGddDaNFvvTcTqCnAXxO3CSTYNeFeAu3D960IewgLuwiM8PGnyZK5KcBfE7cJJNs0J5gowhthYWxfyMI0GrgCjBFsKvLKyUo3lmkZg6++6AgyxMHbKyjw+/HcH2FJkmSbf6tya2a87wKgmLSBvbW0VXWjkTUvaHWAEiOGtmuOY0XLe3vY5Z7pLwChJgKxlu7u77hpXSRuXgJF5VJkYw9y2oeRaXBKaisstYAiAYa1tNnwAVrOmaArq8HFcA0YgBwcHVWkeDqqJbYDF4Hfv5n7gewKQxkjP+7QH13fUDJb97RRTE+swgCEGnvRgxOUsA+RSSxnX9kgWCnACA9Ao0RhDhWXcc2SU1vT6KNaaXa+U17bXIQGPigbAaUEaSivgRgQ6Grv945nRHLWwD6BYFtEWM+oFIk3AwWETMAEHVyB4eCzBBBxcgeDhhekmoZ+L25RpjZsdWLAPwzYs9X2xTgv6xKlvjO1I5g4wIGIuLLwjlNZNvy8EyBjcN7xgJEk6OTydAJ2/kwWgeKPwf7cdNUQHZNzSxPRKWDwA72QJBlTcS8bL3iilXTHkZTg/eBaNBdC7eqesUyUYUPEkaFjErsD9Xz4AGiNMALtLZg4YjR9McILHfCi53g3Xba3hRJNoZQoYJfb8/PxfS3eSDHv5DhpqGKzX5pCiSbQwAYySiknMLKdjmEScJr6DKhtDf6yu0eqAcX3FJGYRquNJTwCUZowdQytc21RvVaK/enJyslBwARQnM+K2aDyqAp5lrJT2Gd+WPzQmLWouVcAWZ3BbwGY5Lkry5eXlLD+d+TeqgBfpujuOiPZkaqqA0w3/ccEvwufp4YdWrKqAtYKin1oBAq61CLlFwCGx1kERcK1FyC0CDom1DoqAay1CbhFwSKx1UARcaxFyi4BDYq2DUn9cWLvmloYCLMEaKhv6IGBD8TVcE7CGyoY+CNhQfA3XBKyhsqEPAjYUX8M1AWuobOiDgA3F13BNwBoqG/ogYEPxNVwTsIbKhj4I2FB8DdcErKGyoQ8CNhRfwzUBa6hs6IOADcXXcE3AGiob+iBgQ/E1XBOwhsqGPgjYUHwN1z2Zra2v4Yg+9BUA2568s/tb3zU9aigAtjK7T++rhjP60FdA2B6XQrmUCcm+y/pIPwv02JYCUj3/kEnY3uEaPJCN9/igLWc8rq4CL3DBdFAm1yjJMkHIR5lD4oMkHMq+z/+InAJasLUw6wszXHOPZXa9L4ALCf4Cpgk5XxWwX1YAAAAASUVORK5CYII="},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(e){return"YYYY-MM-DD"===e?"date":"YYYY-MM-DD HH:mm"===e?"date_time":"date"},r=function(){function e(){a(this,e)}return i(e,null,[{key:"initTypeByFormat",value:function(e){return n(e)}},{key:"initDefaultValue",value:function(e,t){var a={value:e,year:e.substring(0,4),month:e.substring(5,e.lastIndexOf("-"))};return"date"===n(t)?10==e.length?a.day=e.substring(e.lastIndexOf("-")+1,e.length):a.day=e.substring(e.lastIndexOf("-")+1,e.lastIndexOf(" ")):10==e.length?(a.day=e.substring(e.lastIndexOf("-")+1,e.length),a.hours="00",a.minutes="00"):(a.day=e.substring(e.lastIndexOf("-")+1,e.lastIndexOf(" ")),a.hours=e.substring(e.lastIndexOf(" ")+1,e.lastIndexOf(":")),a.minutes=e.substring(e.lastIndexOf(":")+1,e.length)),a}},{key:"compareDate",value:function(e,t,a){var i=e.match(/(\d+)/g),n=t.match(/(\d+)/g),r=new Date(i[0],parseInt(i[1])-1,i[2]),o=new Date(n[0],parseInt(n[1])-1,n[2]);return a?r>=o:r<=o}},{key:"compareDateByToday",value:function(e,t){console.log(e);var a=e.match(/(\d+)/g),i=new Date(a[0],parseInt(a[1])-1,a[2]),n=new Date;return t?i.getYear()>=n.getYear()&&i.getMonth()>=n.getMonth()&&i.getDate()>=n.getDate():i<=n}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate();return t+"-"+a+"-"+i}},{key:"compareDateByYesterday",value:function(e,t,a){var i=e.match(/(\d+)/g),n=new Date(i[0],parseInt(i[1])-1,i[2]),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()-parseInt(t));return a?n>=o:n<=o}},{key:"compareDateByTomorrow",value:function(e,t,a){var i=e.match(/(\d+)/g),n=new Date(i[0],parseInt(i[1])-1,i[2]),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+parseInt(t));return a?n>=o:n<=o}},{key:"getDate",value:function(e,t){var a=null;a=t?new Date(Date.now()-24*parseInt(e)*60*60*1e3):new Date(Date.now()+24*parseInt(e)*60*60*1e3);var i=a.getFullYear(),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,r=a.getDate()<10?"0"+a.getDate():a.getDate();return i+"-"+n+"-"+r}}]),e}();t.default=r},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(){function e(){a(this,e)}return i(e,[{key:"show",value:function(e){var t=this;$(".modal-overlay").addClass("modal-overlay-visible"),$(".modal-overlay").on("click",function(){t.hide(),e()})}},{key:"hide",value:function(){$(".modal-overlay").removeClass("modal-overlay-visible")}}]),e}();t.default=n},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(115),u=i(p),f=a(116),h=i(f),m=a(13);i(m);a(73);var v=a(117),g=i(v),y=a(21),b=i(y),w=a(1),_=i(w),C=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a.result=[],a.cacheResult=[],a.modalOverlay=new b.default,a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&0===this.result.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.component.readonly||$("#multi-selection"+this.component._id).click(function(t){return e._showPicker()})}},{key:"show",value:function(e){this._showPicker(),this.callback=e}},{key:"_showPicker",value:function(){var e=this;this.component.options.forEach(function(e){e.selected=!1}),this.result.length>0&&this.result.forEach(function(t){var a=e.component.options.filter(function(e){return t._id==e._id});a&&a.forEach(function(e){return e.selected=!0})}),bpmApp.pickerModal(new _.default(g.default,this.component.options).render()),this.modalOverlay.show(this._closeModal),this._bindPickerEvent(),this.cacheResult=this.result}},{key:"_closeModal",value:function(){bpmApp.closeModal(".custom-picker-modal")}},{key:"_hide",value:function(){this.modalOverlay.hide(),this._closeModal()}},{key:"_bindPickerEvent",value:function(){var e=this;$("#custom-picker-modal-cancel").click(function(){return e._hide()}),$("#custom-picker-modal-finish").click(function(){e.result=e.cacheResult,e._showSelectResult(),e._hide(),e.callback&&e.callback(e.cacheResult)}),$(".multi-selection-item").click(function(t){return e._selectOption(t)})}},{key:"_selectOption",value:function(e){var t=$(e.target).data("id");$(e.target).data("text");if(t){if($(e.target).hasClass("active")){var a=this.cacheResult.filter(function(e){return e._id==t})[0];return this.cacheResult.splice(this.cacheResult.indexOf(a),1),void $(e.target).removeClass("active")}var i=this.component.options.filter(function(e){return e._id==t})[0];this.cacheResult.push(i),$(e.target).addClass("active")}}},{key:"_showSelectResult",value:function(){if(0===this.result.length){var e=this.component.displayTips;return this.component.required&&(e=e.concat("&nbsp;").concat("(必填)")),$("#multi-selection-label"+this.component._id).html(e),void $("#multi-selection-label"+this.component._id).removeClass("multi-selection-label")}var t="";this.result.forEach(function(e){t=t.concat(e.value+", ")}),t=t.substring(0,t.length-2),$("#multi-selection-label"+this.component._id).html(t),$("#multi-selection-label"+this.component._id).addClass("multi-selection-label"),Event.publish("textComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id,type:this.component.type,fromSubForm:this.component.fromSubForm})}},{key:"getSnapshootValue",value:function(){return this.result}},{key:"getValue",value:function(){var e=this,t=[];return this.component.options.forEach(function(a){var i=e.result.filter(function(e){return e._id==a._id})[0];i&&t.push(a.name)}),t.join(",")}},{key:"_initValue",value:function(){if(this.component.value){this.result=this.component.value;var e="";this.result.forEach(function(t){e=e.concat(t.value+", ")}),e=e.substring(0,e.length-2),this.component.displayValue=e}}}]),t}(d.default);t.default=C},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();a(83);var o=a(138),s=i(o),l=a(1),c=i(l),d=a(16),p=i(d),u=function(){function e(t){n(this,e),this.params=t}return r(e,[{key:"renderTo",value:function(e){e.html(""),e.append(new c.default(s.default,[this.params]).render()),this._bindEvent()}},{key:"getValue",value:function(){var e=[],t={};return t.taskKey=this.params.taskKey,t.taskName=this.params.taskName,t.subAssignmentInfoVos=[],this.params.subAssignmentInfoVos.forEach(function(e){var a=[];e.nextApprover.getValue()&&e.nextApprover.getValue()[0]&&(a=e.nextApprover.getValue()[0].candidates),t.subAssignmentInfoVos.push({subProcDefId:e.subProcDefId,subProcDefName:e.subProcDefName,candidates:a})}),e.push(t),e}},{key:"validate",value:function(){var e=!0,t="";return this.params.subAssignmentInfoVos.forEach(function(a){var i=a.nextApprover.validate();i.pass||(e=!1,t="请选择触发子流程")}),{pass:e,msg:t}}},{key:"_bindEvent",value:function(){this.params.subAssignmentInfoVos.forEach(function(e){e.taskKey=e.subProcDefId,e.nextApprover=new p.default([e]),e.nextApprover.renderTo($("#"+e.subProcDefId))})}}]),e}();t.default=u},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c);a(88);var p=a(12),u=i(p),f=a(4),h=i(f),m=a(3),v=i(m),g=a(144),y=i(g),b=a(143),w=i(b),_=a(145),C=i(_),k=a(1),x=i(k),T=a(6),S=i(T),P=a(11),O=i(P),I=a(10),D=i(I),E=a(2),M=i(E),j=a(8),L=(i(j),a(7)),A=i(L),N=a(25),z=i(N),B=function(e){return new Date(e.replace(/-/g,"/"))},F=function(e){if(e.tasks){var t=e.tasks[e.tasks.length-1].processResult;if("WithdrawFirst"==t)return!0}return!1},R=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type&&(e.processDefinition={processType:e.type},e.processInstance={id:e.id,processDefinition:{processType:e.type}},e.taskId&&(e.fromTodo=!0,e.id=e.taskId),a.type=e.type,e.subFlowDetail||(window.ANDROID_BACK_EVENT=S.default.logout),"Circulation"==e.operationType&&(e.from="Circulation",h.default.markNotifyStatusToRead({id:e.processInstance.id,circulationTaskId:e.circulationTaskId,success:function(e){},error:function(e){}})),"Error"!=e.operationType&&"End"!=e.operationType||(e.from="Start"),("Notify"==e.operationType||e.subFlowDetail)&&(e.from="Unrelated")),a.flow=e,a.id=a.flow.processInstance?a.flow.processInstance.id:a.flow.id,a.type=a.flow.processInstance?a.flow.processInstance.processDefinition.processType:a.flow.processDefinition.processType,a._initFlowDetail(),a.loading=new O.default,a}return o(t,e),s(t,[{key:"_initFlowDetail",value:function(){var e=this;return this.flow.type||bpmApp.showIndicator(),this.flow.isDraft?(this.flow.status="Draft",this.flow.startUser={id:S.default.getCurrentUserId(),name:S.default.getCurrentUserInfo().name},this.flow.currentUserId=S.default.getCurrentUserId(),void h.default.getFlowDetailByDraft({id:this.id,success:function(t){t=JSON.parse(t),t.startUser=S.default.getCurrentUserInfo(),t.status="Draft",t.currentUserId=S.default.getCurrentUserId(),e.flowDetail=t,h.default.getFlowFormSettings({instanceId:e.id,from:"Draft",success:function(a){t.formSettings=a,e._renderFlowDetail(t)},complete:bpmApp.hideIndicator(),error:function(e){new v.default("获取流程详情失败").show()}})},complete:bpmApp.hideIndicator(),error:function(e){new v.default("获取流程详情失败").show()}})):void h.default.getFlowDetail({instanceId:this.id,processType:this.type,taskId:this.flow.id,circulationTaskId:this.flow.circulationTaskId,success:function(t){t=JSON.parse(t),e.flowDetail=t,h.default.getFlowFormSettings({instanceId:e.id,taskId:e.flow.taskSid||e.flow.id,from:e.flow.from,success:function(a){t.formSettings=a,e._renderFlowDetail(t)},complete:bpmApp.hideIndicator(),error:function(e){new v.default("获取流程详情失败").show()}})},complete:function(){bpmApp.hideIndicator(),M.default.publish("pageInited")},error:function(e){new v.default("获取流程详情失败").show()}})}},{key:"_renderFlowDetail",value:function(e){this._renderFlowHeader(e);try{this._renderFlowContent(e)}catch(e){console.log(e)}this._renderFlowHandleResult(e),
this._renderStatusBtn(e),this.flow.subFlowDetail||this._bindEvent()}},{key:"_renderFlowHeader",value:function(e){e.processDefinition.name=A.default.escape(e.processDefinition.name),e.startUser.name=A.default.escape(e.startUser.name),this.flow.subFlowDetail?($("#flow-sub-header").html(""),$("#flow-sub-header").append(new x.default(y.default,e).render())):($("#flow-header").html(""),$("#flow-header").append(new x.default(y.default,e).render()))}},{key:"_renderFlowContent",value:function(e){e.approveToMe=!1,"string"==typeof e.snapshoot&&(e.snapshoot=JSON.parse(e.snapshoot)),"string"==typeof e.formInstance&&(e.formInstance=JSON.parse(e.formInstance)),"string"==typeof e.processDefinition.formDefinition&&(e.processDefinition.formDefinition=JSON.parse(e.processDefinition.formDefinition));var t=e.processDefinition.formDefinition.components;t.forEach(function(t){var a=e.snapshoot.filter(function(e){return e.name==t.name})[0];a&&(t.value=a.value,a.value||(t.value=e.formInstance[t.name]))}),e.snapshoot=t,e.snapshoot.forEach(function(e){e.fromDetail=!0}),e.currentUserId=S.default.getCurrentUserId(),e.curApprovers&&(e.approveToMe=e.curApprovers.filter(function(e){return e.id==S.default.getCurrentUserId()}).length>0),this.componentsDetail=e.snapshoot;var a=null;e.formSettings&&(a=JSON.parse(e.formSettings),a.filterDisplay=!0);var i=new u.default(this.componentsDetail,a);this.flow.subFlowDetail?($("#flow-sub-detail").html(""),$("#flow-sub-detail").append(i.renderDetail())):($("#flow-detail").html(""),$("#flow-detail").append(i.renderDetail()),i.bindEvent())}},{key:"_renderFlowHandleResult",value:function(e){var a=this,i=[];e.comments&&e.comments.forEach(function(e){if(e.isComment=!0,e.pictures){var t=e.pictures.split(","),a=[];t.forEach(function(e,t){a.push({src:"/repository/files/"+e+"?access_token="+window.accessToken,mediaId:e,index:t})}),e.pictures=a}e.attachments&&(e.attachments=JSON.parse(e.attachments),e.attachments.forEach(function(e){return e.id=e.mediaId+parseInt(1e3*Math.random())})),e.timestamp=B(e.createDate),e.editor=A.default.escape(e.editor),i.push(e)}),e.tasks&&(e.parentProcessInstance&&(e.tasks[0].parent=e.parentProcessInstance),e.tasks.forEach(function(e){if(e.isTask=!0,e.attachment&&(e.attachment="/repository/files/"+e.attachment+"?access_token="+window.accessToken),e.updateDate&&(e.createDate=e.updateDate),e.files&&(e.files=JSON.parse(e.files),e.files.forEach(function(e){return e.id=e.mediaId+parseInt(1e3*Math.random())})),e.timestamp=B(e.createDate),"Pending"==e.status&&(e.timestamp=B("2050-1-1 10:10:10")),"Approved"===e.status&&"Start"!==e.processResult&&(a.hasApproved=!0),"WithdrawFirst"==e.processResult){var t=JSON.parse(JSON.stringify(e));t.timestamp=B(t.createDate)-1,t.status="",t.itemName="撤回",t=A.default.escape(t),i.push(t),delete e.comments}if("Withdraw"==e.processResult){var n=JSON.parse(JSON.stringify(e));n.timestamp=B(n.createDate)-1,n.status="",n.itemName="撤回审批",n=A.default.escape(n),i.push(n),delete e.comments}if("Exception"==e.processResult){var r=JSON.parse(JSON.stringify(e));r.timestamp=B(r.createDate)-1,r.status="Approved",r.processResult="Pass",r=A.default.escape(r),i.push(r),delete e.comments,delete e.approver,delete e.name}e.exception&&(e.status="Approved",e.processResult="Pass"),e=A.default.escape(e),i.push(e)})),e.circulationTasks&&e.circulationTasks.forEach(function(e){e.isCirculationTask=!0;var t="",a="";e.details.forEach(function(e){"Read"==e.status?t+=e.userName+",":a+=e.userName+","}),e.readNames=t.substring(0,t.length-1),e.unreadNames=a.substring(0,a.length-1),e.timestamp=B(e.createDate),e=A.default.escape(e),i.push(e)}),e.subTasks&&e.subTasks.forEach(function(e){e.isSubTask=!0,e.starterName=e.actName,e.timestamp=B(e.createDate),e=A.default.escape(e),i.push(e)}),i.length>0&&(i.sort(function(e,t){return e.timestamp-t.timestamp}),this.flow.subFlowDetail?($("#flow-sub-handle-result").html(""),$("#flow-sub-handle-result").append(new x.default(w.default,i).render())):($("#flow-handle-result").html(""),$("#flow-handle-result").append(new x.default(w.default,i).render())),i.forEach(function(e){if(e.isTask&&e.files&&e.files.forEach(function(e){a._downloadAndPreviewAttachment(e)}),e.isComment){var i=[];$("#comment-image"+e.id+".comment-image img").each(function(){i.push($(this).data("id")),$(this).click(function(e){S.default.previewImage(i,$(e.target).data("index"))})}),e.attachments&&e.attachments.forEach(function(e){a._downloadAndPreviewAttachment(e)})}e.isSubTask&&e.details.forEach(function(e){$("#sub-task"+e.id).click(function(i){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",a).call(a,"pages/flow_sub_detail.html",{id:e.id,type:"Normal",subFlowDetail:!0})})})}))}},{key:"_downloadAndPreviewAttachment",value:function(e){var t=this;$("#file-download"+e.id).click(function(t){t.stopPropagation(),$("#file-download"+e.id).hasClass("download")||($("#file-download"+e.id).addClass("download"),$("#file-download"+e.id).text("0%"),S.default.downloadFile(e.mediaId,e.name,function(){$("#file-download"+e.id).text("已下载"),new v.default("下载成功").show()},function(){new v.default("下载失败").show(),$("#file-download"+e.id).text("下载"),$("#file-download"+e.id).removeClass("download")},function(t){$("#file-download"+e.id).text(parseInt(100*t)+"%")}))}),$("#file-detail"+e.id).click(function(a){var i=e.name.toLowerCase();return i.lastIndexOf(".gif")>-1||i.lastIndexOf(".jpeg")>-1||i.lastIndexOf(".jpg")>-1||i.lastIndexOf(".png")>-1?void S.default.previewImage([e.mediaId],0):i.lastIndexOf(".doc")>-1||i.lastIndexOf(".docx")>-1||i.lastIndexOf("ppt")>-1||i.lastIndexOf(".pptx")>-1||i.lastIndexOf(".xls")>-1||i.lastIndexOf("xlsx")>-1?void t._previewFile(e.mediaId,"office"):i.lastIndexOf(".pdf")>-1?void t._previewFile(e.mediaId,"pdf"):void new v.default("该文件暂不支持预览").show()})}},{key:"_renderStatusBtn",value:function(e){if(!this.flow.subFlowDetail){if("Unrelated"==this.flow.from&&(e.currentUserId=""),e.fromTodo=this.flow.fromTodo,e.fromApproved=this.flow.fromApproved,e.invalid=F(this.flowDetail),e.tasks){var t=e.tasks[e.tasks.length-1];"Exception"==t.processResult&&(e.fromTodo=!1,e.status="Pass")}$("#flow-status-btn").html(""),$("#flow-status-btn").append(new x.default(C.default,e).render())}}},{key:"_bindEvent",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",this).call(this,{"click #flow-comment":this._comment.bind(this),"click #flow-handle":this._handle.bind(this),"click #flow-remove":this._remove.bind(this),"click #flow-revoke":this._revoke.bind(this,!1),"click #flow-remind":this._remind.bind(this),"click #flow-resubmit":this._resubmit.bind(this),"click #flow-submit":this._submit.bind(this),"click #flow-notify":this._notify.bind(this),"click #flow-edit":this._edit.bind(this),"click #flow-revoke-approve":this._revoke.bind(this,!0),"click #flow-invalid":this._invalidFlow.bind(this)}),M.default.subscribe("updateFlowDetail",function(){e._initFlowDetail()}),M.default.subscribe("updateFlowDraft",function(){e._initFlowDetail()}),M.default.subscribe("flowDraftSubmited",function(){setTimeout(function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)},500)}),M.default.subscribe("backToList",function(){setTimeout(function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)},1e3)})}},{key:"_handle",value:function(){this.flow.hasApproved=this.hasApproved,this.flow.flowDetail=this.flowDetail,this.flow.flowDetail.snapshoot.forEach(function(e){return e.fromDetail=!1});var e=JSON.parse(JSON.stringify(this.flow));M.default.init(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_handle.html",e)}},{key:"_comment",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_comment.html",this.flow)}},{key:"_remove",value:function(){var e=this;window.ANDROID_BACK_EVENT=bpmApp.closeModal,bpmApp.params.modalButtonCancel="取消",bpmApp.params.modalButtonOk="删除",bpmApp.confirm("删除操作不可逆，请确定是否删除？","",function(){e.loading.show(),h.default.removeFlowDraft({id:e.id,success:function(a){M.default.publish("removeFlowDraftSuccess",e.flow.cid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)},complete:function(){e.loading.hide(),window.ANDROID_BACK_EVENT=null},error:function(e){new v.default("删除失败").show()}})})}},{key:"_revoke",value:function(e){var a=this;window.ANDROID_BACK_EVENT=bpmApp.closeModal,bpmApp.params.modalButtonCancel="取消",bpmApp.params.modalButtonOk="确定",bpmApp.prompt("请填写撤回原因","",function(i){return i?(a.loading.show(),void h.default.revokeFlow({instanceId:a.id,processType:a.type,comment:i,isRevokeApprove:e,taskId:a.flow.id,success:function(e){new v.default("撤回成功").showSuccess(),M.default.publish("revokeFlowSuccess",a.flow.id),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",a).call(a)},complete:function(){a.loading.hide(),window.ANDROID_BACK_EVENT=null},error:function(e){var t=JSON.parse(e.response);return t&&30200==t.code?void new v.default("撤回节点不允许撤回").showFail():void new v.default("撤回失败").showFail()}})):(new v.default("请填写撤回原因").show(),void setTimeout(function(){return a._revoke(e)},1e3))})}},{key:"_remind",value:function(){var e=this;this.loading.show(),h.default.remindFlow({instanceId:this.id,processType:this.type,success:function(e){new v.default("催办成功").showSuccess()},complete:function(){return e.loading.hide()},error:function(e){new v.default("催办失败").showFail()}})}},{key:"_resubmit",value:function(){var e={cid:this.flow.cid,id:this.flowDetail.processDefinition.id,processType:this.type,resubmit:!0,orgId:this.flowDetail.processDefinition.orgId,components:this.componentsDetail,taskId:this.flow.id,fromMessage:this.flow.type,processDefinition:{userTaskUser:this.flowDetail.userTaskUsers,subAssignmentUser:this.flowDetail.subAssignmentUsers,circulationUser:this.flowDetail.circulationUsers},formSettings:JSON.parse(this.flowDetail.formSettings)};l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_resubmit.html",e)}},{key:"_submit",value:function(){var e=this;return"Normal"==this.type?this.flowDetail.userTaskUser||this.flowDetail.subAssignmentUser||this.flowDetail.circulationUser?void new z.default(this.flowDetail).show(function(t){e._submitToServer("",t)}):void this._submitToServer():void new D.default({single:!0}).show(function(t){e._submitToServer(t[0].id)})}},{key:"_submitToServer",value:function(e,a){var i=this;this.loading.show();var n={action:"submit",approver:e};a&&a.userTaskUsers&&(n.userTaskUsers=a.userTaskUsers),a&&a.circulationUsers&&(n.circulationUsers=a.circulationUsers),a&&a.subAssignmentUsers&&(n.subAssignmentUsers=a.subAssignmentUsers),h.default.submitFlowDraft({id:this.id,data:n,success:function(e){new v.default("提交成功").showSuccess(),M.default.publish("removeFlowDraftSuccess",i.flow.cid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",i).call(i)},complete:function(){return i.loading.hide()},error:function(e){var a=JSON.parse(e.responseText);return a.code&&4005==a.code?void bpmApp.alert("系统无法找到对应审批人，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",i).call(i)}):a.code&&4006==a.code?void bpmApp.alert("找不到符合条件的分支节点，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",i).call(i)}):void new v.default("提交失败").showFail()}})}},{key:"_notify",value:function(){var e=this;(new D.default).show(function(t){e.loading.show(),h.default.noticeOthers({instanceId:e.id,processType:e.type,users:t.map(function(e){return e.id}),success:function(e){M.default.publish("updateUnreadNum"),new v.default("知会成功").showSuccess()},complete:function(){return e.loading.hide()},error:function(e){new v.default("知会失败").showFail()}})})}},{key:"_edit",value:function(){var e=JSON.parse(this.flowDetail.formSettings);e&&(e.filterEditableAndDisplay=!0);var a={id:this.flowDetail.processDefinition.id,cid:this.flow.cid,draftId:this.id,processType:this.type,edit:!0,orgId:this.flowDetail.processDefinition.orgId,components:this.componentsDetail,formSettings:e,processDefinition:{userTaskUser:this.flowDetail.userTaskUser,circulationUser:this.flowDetail.circulationUser,subAssignmentUser:this.flowDetail.subAssignmentUser}};l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_launch.html",a)}},{key:"_previewFile",value:function(e,t){bpmApp.showIndicator(),h.default.previewFile({mediaId:e,sourceType:t,success:function(e){return 0==e.dest_ids.length?void new v.default("文件预览失败").show():void S.default.previewImage(e.dest_ids,0)},complete:function(){return bpmApp.hideIndicator()},error:function(e){new v.default("文件预览失败").show()}})}},{key:"_invalidFlow",value:function(){var e=this;window.ANDROID_BACK_EVENT=bpmApp.closeModal,bpmApp.params.modalButtonCancel="取消",bpmApp.params.modalButtonOk="确定",bpmApp.prompt("请填写作废原因","",function(a){return a?(e.loading.show(),void h.default.invalidFlow({instanceId:e.flow.id,processType:e.type,comment:a,success:function(a){new v.default("作废成功").showSuccess(),M.default.publish("revokeFlowSuccess",e.flow.id),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)},complete:function(){e.loading.hide(),window.ANDROID_BACK_EVENT=null},error:function(e){new v.default("作废失败").showFail()}})):(new v.default("请填写作废原因").show(),void setTimeout(function(){return e._invalidFlow()},1e3))})}}]),t}(d.default);t.default=R},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(147),s=i(o),l=a(1),c=i(l),d=a(3),p=i(d),u=a(23),f=i(u),h=a(16),m=i(h),v=function(){function e(t){n(this,e),this.processDefinition=t}return r(e,[{key:"show",value:function(e){bpmApp.popup(new c.default(s.default).render()),this._bindEvent(),this.finishCallback=e,window.ANDROID_BACK_EVENT=this.hide,this._renderContent()}},{key:"_renderContent",value:function(){this.processDefinition.userTaskUser&&(this.processDefinition.userTaskUser.title="请选择下节点审批人",this.nextApprover=new m.default([this.processDefinition.userTaskUser]),this.nextApprover.renderTo($("#launch-next-approver-container"))),this.processDefinition.circulationUser&&(this.processDefinition.circulationUser.title="请选择下节点传阅对象",this.nextCirculationSelection=new m.default([this.processDefinition.circulationUser]),this.nextCirculationSelection.renderTo($("#launch-next-circulation-container"))),this.processDefinition.subAssignmentUser&&(this.subProcess=new f.default(this.processDefinition.subAssignmentUser),this.subProcess.renderTo($("#launch-sub-process-container")))}},{key:"hide",value:function(){bpmApp.hideIndicator(),bpmApp.closeModal(),window.ANDROID_BACK_EVENT=null}},{key:"confirm",value:function(){var e=void 0;return this.nextApprover&&(e=this.nextApprover.validate()),this.nextCirculationSelection&&(e=this.nextCirculationSelection.validate()),this.subProcess&&(e=this.subProcess.validate()),e.pass?(this.hide(),void this.finishCallback({subAssignmentUsers:this.subProcess&&this.subProcess.getValue(),userTaskUsers:this.nextApprover&&this.nextApprover.getValue(),circulationUsers:this.nextCirculationSelection&&this.nextCirculationSelection.getValue()})):void new p.default(e.msg).show()}},{key:"_bindEvent",value:function(){var e=this;$("#launch-plus-back").click(function(t){return e.hide()}),$("#launch-plus-confirm").click(function(t){return e.confirm()})}}]),e}();t.default=v},function(e,t){e.exports='{{#each this}} <li class=swipeout style=margin-top:0;margin-bottom:0 data-id={{mediaId}} id=swipeout{{id}}> <div class=swipeout-content> <div class=file-block> <div class="list-block file-detail" style=margin-left:0> <i class="iconfont fujian"></i> <div class=fujian-border></div> <div class=file-name>{{name}}</div> <div class=file-size>{{size}}</div> </div> </div> </div> <div class=swipeout-actions-right> <a href=# class=swipeout-delete>删除</a> </div> </li> {{/each}}'},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(6),s=i(o),l=a(4),c=i(l),d=function(){function e(){n(this,e)}return r(e,null,[{key:"verifyIdentity",value:function(){return new Promise(function(e,t){var a=function(e){return{userId:e[1].user_id,orgId:e[1].employee.org_code,domainId:e[1].domain_id,ticket:e[0].user_ticket}},i=function(a){c.default.getAccessToken({data:a,success:function(t){window.accessToken=t.accessToken,e()},error:function(e,a){t("登录失败，请重试！")}})};Promise.all([s.default.getTicket(),s.default.getCurrentUserInfo()]).then(a).then(i)})}}]),e}();t.default=d},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),_get=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},_component=__webpack_require__(5),_component2=_interopRequireDefault(_component),_calculate=__webpack_require__(93),_calculate2=_interopRequireDefault(_calculate),_calculate_detail=__webpack_require__(94),_calculate_detail2=_interopRequireDefault(_calculate_detail),_event=__webpack_require__(2),_event2=_interopRequireDefault(_event),calculateTimeDiff=null,getSubFormComponent=function(e,t){var a=null;return e.forEach(function(e){"sub_form"===e.type&&e.children.forEach(function(i){i.name==t.name&&(a=e)})}),a},getComponentByName=function(e,t){var a=e.filter(function(e){return e.name==t})[0];return a?a:e.parent?e.parent.filter(function(e){return e.name==t})[0]:null},sumComponentValue=function(e,t){var a=0;return t.value.forEach(function(t){var i=getComponentByName(e,t.name);i&&i.value&&(a+=i.value);var n=getSubFormComponent(e,t);n&&n.value&&n.value.forEach(function(e){e[t.name]&&(a+=e[t.name])})}),1*parseFloat(a).toFixed(t.digits)},dateDiffComponentValue=function(e,t,a){var i="";if(t.start.name&&t.end.name){var n=getComponentByName(e,t.start.name),r=getComponentByName(e,t.end.name);if(!n||!r)return;var o=null,s=null,l=null,c=null;if("date_range"==n.type&&n.value&&("start"==t.start.type&&(o=n.value.from.match(/(\d+)/g)),"end"==t.start.type&&(o=n.value.to.match(/(\d+)/g))),"date_range"==r.type&&r.value&&("start"==t.end.type&&(s=r.value.from.match(/(\d+)/g)),"end"==t.end.type&&(s=r.value.to.match(/(\d+)/g))),"date"==n.type&&n.value&&(o=n.value.match(/(\d+)/g)),"date"==r.type&&r.value&&(s=r.value.match(/(\d+)/g)),o&&s){if(l=new Date(o[0],o[1]-1,o[2]),"YYYY-MM-DD"!=n.format&&(l=new Date(o[0],o[1]-1,o[2],o[3],o[4])),c=new Date(s[0],s[1]-1,s[2]),"YYYY-MM-DD"!=r.format&&(c=new Date(s[0],s[1]-1,s[2],s[3],s[4])),calculateTimeDiff=c-l,a){var d=6e4,p=60*d,u=24*p,f=parseInt((c-l)/u),h=parseInt((c-l-f*u)/p),m=parseInt((c-l-f*u-h*p)/d);return f+"天"+h+"时"+m+"分"}i=(c-l)/864e5+"天"}}return i},meanComponentValue=function(e,t){var a=0,i=0;return t.value.forEach(function(t){var n=getComponentByName(e,t.name);n&&(i++,n.value&&(a+=n.value));var r=getSubFormComponent(e,t);r&&(r.value?r.value.forEach(function(e){e[t.name]&&(a+=e[t.name]),i++}):i++)}),1*parseFloat(a/i).toFixed(t.digits)},formulaComponentValue=function formulaComponentValue(componentsData,formulaValue){if(!formulaValue)return"";var fieldNames=formulaValue.match(/\${.*?}/gim);fieldNames&&fieldNames.forEach(function(e){var t=getComponentByName(componentsData,e.replace("${","").replace("}",""));t&&(formulaValue=formulaValue.replace(e,t.value||0));var a=getSubFormComponent(componentsData,{name:e.replace("${","").replace("}","")});if(a){var i=0;if(a.value){var n=e.replace("${","").replace("}","");a.value.forEach(function(e){e[n]&&(i+=e[n])})}formulaValue=formulaValue.replace(e,i)}});var result=0;try{result=eval(formulaValue)}catch(e){return result}return"Infinity"==result?0:isNaN(result)?0:parseFloat(result)},initValue=function(e,t){"sum"===e.rule.type&&(e.value=sumComponentValue(t,e.rule.sumValue)),"dateDiff"===e.rule.type&&(e.value=dateDiffComponentValue(t,e.rule.dateDiffValue)),"timeDiff"===e.rule.type&&(e.value=dateDiffComponentValue(t,e.rule.timeDiffValue,!0)),"mean"===e.rule.type&&(e.value=meanComponentValue(t,e.rule.meanValue)),"formula"===e.rule.type&&(e.value=formulaComponentValue(t,e.rule.value)),_event2.default.publish("calculateComponentChange",{name:e.name,value:e.value,_id:e._id})},showCalculateValue=function(e,t){$("#calculate-value"+e).text(t)},Calculate=function(e){function t(e,a){_classCallCheck(this,t),initValue(e,a);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,_calculate2.default,_calculate_detail2.default));return i.componentsData=a,i}return _inherits(t,e),_createClass(t,[{key:"bindEvent",value:function(){var e=this;_event2.default.subscribe("textComponentInput",function(t){e._updateCalculateResult(t)}),_event2.default.subscribe("subFormTextComponentInput",function(t){e._updateCalculateResult(t)}),_event2.default.subscribe("dateComponentInput",function(t){e._updateCalculateResult(t)}),this._updateCalculateResult(this.component)}},{key:"_updateCalculateResult",value:function(e){var t=this;this.componentsData.forEach(function(a){a.name==e.name&&e._id==a._id&&(a.value=e.value,initValue(t.component,t.componentsData),showCalculateValue(t.component._id,t.component.value))})}},{key:"validate",value:function(){return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"getValue",value:function(){return calculateTimeDiff?calculateTimeDiff:this.component.value}},{key:"getSnapshootValue",value:function(){return this.component.value}}]),t}(_component2.default);exports.default=Calculate},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function e(t,a){t.selected=a,t.employees&&t.employees.forEach(function(e){a?$("#select-employee"+e.id+t.id).addClass("selected"):$("#select-employee"+e.id+t.id).removeClass("selected"),e.selected=a}),t.children&&t.children.forEach(function(t){a?$("#select-org"+t.id).addClass("selected"):$("#select-org"+t.id).removeClass("selected"),t.selected=a,$("#tree-extend"+t.id).hasClass("active")&&e(t,a)})},r=null,o=function e(t,a,i){if(t.id==a&&(r=t),t.children){for(var n=!1,o=0;o<t.children.length;o++)if(t.children[o].id==a){if(n=!0,i)return void(r=t);r=t.children[o]}!n&&t.children&&t.children.forEach(function(t){e(t,a,i)})}},s=function(e,t){o(e,t,!0)},l=function e(t,a){var i=!1;t.employees&&t.employees.forEach(function(e){""+e.id+t.id==a&&(i=!0,r=t)}),!i&&t.children&&t.children.forEach(function(t){e(t,a)})},c=function e(t,a){s(t,a.id);var i=r;if(i){var n=!0;i.employees&&i.employees.forEach(function(e){e.selected||(n=!1)}),i.children&&i.children.forEach(function(e){e.selected||(n=!1)}),n&&!i.selected&&($("#select-org"+i.id).addClass("selected"),i.selected=!0,e(t,i))}},d=function e(t,a){s(t,a.id);var i=r;i&&i.selected&&($("#select-org"+i.id).removeClass("selected"),i.selected=!1,e(t,i))},p=function(e,t){if(!t&&e.selected)return $("#select-org"+e.id).removeClass("selected"),void(e.selected=!1);var a=!0;e.employees&&e.employees.forEach(function(e){e.selected||(a=!1)}),e.children&&e.children.forEach(function(e){e.selected||(a=!1)}),a&&!e.selected&&($("#select-org"+e.id).addClass("selected"),e.selected=!0)},u=null,f=function e(t,a,i){var n=!1;t.employees&&t.employees.forEach(function(e){""+e.id+t.id==a&&(n=!0,e.selected=i,p(t,i),e.uniqueId=""+e.id+t.id,u=e)}),!n&&t.children&&t.children.forEach(function(t){e(t,a,i)})},h=function(){function e(t){a(this,e),this.tree=t}return i(e,[{key:"concat",value:function(e){this._concat(this.tree,e)}},{key:"_concat",value:function(e,t){var a=this;if(e.children){var i=e.children.filter(function(e){return e.id==t.id});return 1===i.length?(i[0].selected&&(t.selected=!0,this.settingAllChildrenCheckboxStatusToSelected(t)),void e.children.splice(e.children.indexOf(i[0]),1,t)):void e.children.forEach(function(e){a._concat(e,t)})}}},{key:"settingAllChildrenCheckboxStatusToSelected",value:function(e){n(e,!0)}},{key:"settingAllChildrenCheckboxStatusToUnSelect",value:function(e){n(e,!1)}},{key:"getOrganizationByOrgId",value:function(e){return o(this.tree,e),r}},{key:"getOrganizationByEmpId",value:function(e){return l(this.tree,e),r}},{key:"settingParentCheckboxStatusToSelectedIfNecessary",value:function(e){c(this.tree,e)}},{key:"settingParentCheckboxStatusToUnSelectIfNecessary",value:function(e){d(this.tree,e)}},{key:"settingEmployeeCheckboxSelected",value:function(e){return f(this.tree,e,!0),u}},{key:"settingEmployeeCheckboxUnSelect",value:function(e){return f(this.tree,e,!1),u}}]),e}();t.default=h},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(100),u=i(p),f=a(101),h=i(f),m=a(2),v=i(m),g=a(4),y=i(g),b=a(6),w=i(b),_=function(e,t){return t.filter(function(t){return t.joinComponent==e})[0]},C=function(e,t){var a={};return e.joins.forEach(function(i){e[i.joinComponent]&&(a[i.joinComponent]=e[i.joinComponent]),i.joinComponent==t.name&&(a[i.joinComponent]={name:t.name,type:t.type,value:t.value},e[i.joinComponent]=a[i.joinComponent])}),a},k=function(e){function t(e,a){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return i.componentsData=a,i}return o(t,e),s(t,[{key:"bindEvent",value:function(){var e=this;v.default.subscribe("textComponentInput",function(t){t.value&&e._getValue(t)}),$("#database-view-detail"+this.component._id).click(function(t){var a=e.component.urlValue;a=a.lastIndexOf("?")>-1?a+"&"+e.component.name+"="+e.component.value:a+"?"+e.component.name+"="+e.component.value,w.default.openWebView(a)})}},{key:"_getValue",value:function(e){var t=this;_(e.name,this.component.joins)&&(this.component.fromSubForm&&e.fromSubForm?this.componentsData.forEach(function(a){a.name==e.name&&e._id==a._id&&t._queryDb(e)}):this._queryDb(e))}},{key:"_queryDb",value:function(e){var t=this;y.default.getDatabaseViewResult({id:this.component.dataSourceId,data:{formInstanceId:this.component.formInstanceId,tableName:this.component.tableName,displayColumn:this.component.displayColumn,joins:this.component.joins,whereValue:this.component.whereValue,dataValueMap:C(this.component,e)},success:function(e){t.component.value=e,$("#database-value"+t.component._id).text(e)},error:function(e){}})}},{key:"getValue",value:function(){return this.component.value?this.component.value:$("#database-value"+this.component._id).text()}},{key:"validate",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}}]),t}(d.default);t.default=k},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(102),u=i(p),f=a(103),h=i(f),m=a(13),v=i(m);a(67);var g=a(20),y=i(g),b=a(2),w=i(b),_=function(e){return"specified"==e.gt.type?e.gt.value:"today"==e.gt.type?y.default.getCurrentDate():"yesterday"==e.gt.type?y.default.getDate(e.gt.day,!0):"tomorrow"==e.gt.type?y.default.getDate(e.gt.day,!1):y.default.getCurrentDate()},C=function(e){return"specified"==e.lt.type?e.lt.value:"today"==e.lt.type?y.default.getCurrentDate():"yesterday"==e.lt.type?y.default.getDate(e.lt.day,!0):"tomorrow"==e.lt.type?y.default.getDate(e.lt.day,!1):y.default.getCurrentDate()},k=function(e){return"请选择"+_(e)+"与"+C(e)+"之间的日期"},x=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){if(this.component.readonly)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this);if(!this.component.required)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this);
if(!$("#date-value-"+this.component._id).hasClass("active"))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"不能为空");var e=this.result.value;if(this.component.gt.enable&&this.component.lt.enable){if("specified"==this.component.gt.type&&!y.default.compareDate(e,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if("specified"==this.component.lt.type&&!y.default.compareDate(e,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if(("today"==this.component.gt.type||"today"==this.component.lt.type)&&!y.default.compareDateByToday(e,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if("yesterday"==this.component.gt.type&&!y.default.compareDateByYesterday(e,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if("yesterday"==this.component.lt.type&&!y.default.compareDateByYesterday(e,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if("tomorrow"==this.component.gt.type&&!y.default.compareDateByTomorrow(e,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component));if("tomorrow"==this.component.lt.type&&!y.default.compareDateByTomorrow(e,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,k(this.component))}if(this.component.gt.enable){if("specified"==this.component.gt.type&&!y.default.compareDate(e,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须大于"+this.component.gt.value);if("today"==this.component.gt.type&&!y.default.compareDateByToday(e,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须大于"+y.default.getCurrentDate());if("yesterday"==this.component.gt.type&&!y.default.compareDateByYesterday(e,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须大于"+y.default.getDate(this.component.gt.day,!0));if("tomorrow"==this.component.gt.type&&!y.default.compareDateByTomorrow(e,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须大于"+y.default.getDate(this.component.gt.day,!1))}if(this.component.lt.enable){if("specified"==this.component.lt.type&&!y.default.compareDate(e,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须小于"+this.component.lt.value);if("today"==this.component.lt.type&&!y.default.compareDateByToday(e,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须小于"+y.default.getCurrentDate());if("yesterday"==this.component.lt.type&&!y.default.compareDateByYesterday(e,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须小于"+y.default.getDate(this.component.lt.day,!0));if("tomorrow"==this.component.lt.type&&!y.default.compareDateByTomorrow(e,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.title+"必须小于"+y.default.getDate(this.component.lt.day,!1))}return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.component.readonly||(this.picker=new v.default(y.default.initTypeByFormat(this.component.format)),$("#date"+this.component._id).click(function(t){return e.picker.show(e._showDate.bind(e),e.result,e.component.timeInterval)}))}},{key:"_showDate",value:function(e){this.result=e,$("#date-value-"+this.component._id).html(e.value),$("#date-value-"+this.component._id).addClass("active"),w.default.publish("dateComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id})}},{key:"getValue",value:function(){return this.result?this.result.value:""}},{key:"_initValue",value:function(){this.component.value&&(this.result=y.default.initDefaultValue(this.component.value,this.component.format))}}]),t}(d.default);t.default=x},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(104),u=i(p),f=a(105),h=i(f),m=a(13),v=i(m),g=a(20),y=i(g),b=function(e){return"specified"==e.gt.type?e.gt.value:"today"==e.gt.type?y.default.getCurrentDate():"yesterday"==e.gt.type?y.default.getDate(e.gt.day,!0):"tomorrow"==e.gt.type?y.default.getDate(e.gt.day,!1):y.default.getCurrentDate()},w=function(e){return"specified"==e.lt.type?e.lt.value:"today"==e.lt.type?y.default.getCurrentDate():"yesterday"==e.lt.type?y.default.getDate(e.lt.day,!0):"tomorrow"==e.lt.type?y.default.getDate(e.lt.day,!1):y.default.getCurrentDate()},_=function(e){return"请选择"+b(e)+"与"+w(e)+"之间的日期"},C=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){if(this.component.readonly)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this);var e=void 0,a=null;if(this.startResult&&this.endResult&&("YYYY-MM-DD"===this.component.format?(e=new Date(this.startResult.year+"/"+this.startResult.month+"/"+this.startResult.day),a=new Date(this.endResult.year+"/"+this.endResult.month+"/"+this.endResult.day)):(e=new Date(this.startResult.year+"/"+this.startResult.month+"/"+this.startResult.day+" "+this.startResult.hours+":"+this.startResult.minutes),a=new Date(this.endResult.year+"/"+this.endResult.month+"/"+this.endResult.day+" "+this.endResult.hours+":"+this.endResult.minutes)),e>a))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"不能大于"+this.component.endTitle);if(!(this.component.required||this.startResult&&this.endResult))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this);if(!$("#date-range-start-value"+this.component._id).hasClass("active"))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"不能为空");if(!$("#date-range-end-value"+this.component._id).hasClass("active"))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"不能为空");if(this.component.gt.enable&&this.component.lt.enable){if("specified"==this.component.gt.type){if(!y.default.compareDate(this.startResult.value,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDate(this.endResult.value,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("specified"==this.component.lt.type){if(!y.default.compareDate(this.startResult.value,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDate(this.endResult.value,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("today"==this.component.gt.type||"today"==this.component.lt.type){if(!y.default.compareDateByToday(this.startResult.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDateByToday(this.endResult.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("yesterday"==this.component.gt.type){if(!y.default.compareDateByYesterday(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDateByYesterday(this.endResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("yesterday"==this.component.lt.type){if(!y.default.compareDateByYesterday(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDateByYesterday(this.endResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("tomorrow"==this.component.gt.type){if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDateByTomorrow(this.endResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}if("tomorrow"==this.component.lt.type){if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component));if(!y.default.compareDateByTomorrow(this.endResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,_(this.component))}}if(this.component.gt.enable){if("specified"==this.component.gt.type){if(!y.default.compareDate(this.startResult.value,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须大于"+this.component.gt.value);if(!y.default.compareDate(this.endResult.value,this.component.gt.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须大于"+this.component.gt.value)}if("today"==this.component.gt.type){if(!y.default.compareDateByToday(this.startResult.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须大于"+y.default.getCurrentDate());if(!y.default.compareDateByToday(this.startResult.value,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须大于"+y.default.getCurrentDate())}if("yesterday"==this.component.gt.type){if(!y.default.compareDateByYesterday(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须大于"+y.default.getDate(this.component.gt.day,!0));if(!y.default.compareDateByYesterday(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须大于"+y.default.getDate(this.component.gt.day,!0))}if("tomorrow"==this.component.gt.type){if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须大于"+y.default.getDate(this.component.gt.day,!1));if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.gt.day,!0))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须大于"+y.default.getDate(this.component.gt.day,!1))}}if(this.component.lt.enable){if("specified"==this.component.lt.type){if(!y.default.compareDate(this.startResult.value,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须小于"+this.component.lt.value);if(!y.default.compareDate(this.endResult.value,this.component.lt.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须小于"+this.component.lt.value)}if("today"==this.component.lt.type){if(!y.default.compareDateByToday(this.startResult.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须小于"+y.default.getCurrentDate());if(!y.default.compareDateByToday(this.startResult.value,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须小于"+y.default.getCurrentDate())}if("yesterday"==this.component.lt.type){if(!y.default.compareDateByYesterday(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须小于"+y.default.getDate(this.component.lt.day,!0));if(!y.default.compareDateByYesterday(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须小于"+y.default.getDate(this.component.lt.day,!0))}if("tomorrow"==this.component.lt.type){if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.startTitle+"必须大于"+y.default.getDate(this.component.lt.day,!1));if(!y.default.compareDateByTomorrow(this.startResult.value,this.component.lt.day,!1))return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,this.component.endTitle+"必须大于"+y.default.getDate(this.component.lt.day,!1))}}return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.component.readonly||(this.picker=new v.default(y.default.initTypeByFormat(this.component.format)),$("#date-range-start"+this.component._id).click(function(){return e.picker.show(e._showStartDate.bind(e),e.startResult,e.component.timeInterval)}),$("#date-range-end"+this.component._id).click(function(){return e.picker.show(e._showEndDate.bind(e),e.endResult,e.component.timeInterval)}))}},{key:"getValue",value:function(){return{from:this.startResult?this.startResult.value:"",to:this.endResult?this.endResult.value:""}}},{key:"_showStartDate",value:function(e){this.startResult=e,$("#date-range-start-value"+this.component._id).html(e.value),$("#date-range-start-value"+this.component._id).addClass("active"),Event.publish("dateComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id})}},{key:"_showEndDate",value:function(e){this.endResult=e,$("#date-range-end-value"+this.component._id).html(e.value),$("#date-range-end-value"+this.component._id).addClass("active"),Event.publish("dateComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id})}},{key:"_initValue",value:function(){this.component.value&&(this.component.value.from&&(this.startResult=y.default.initDefaultValue(this.component.value.from,this.component.format)),this.component.value.to&&(this.endResult=y.default.initDefaultValue(this.component.value.to,this.component.format)))}}]),t}(d.default);t.default=C},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(106),u=i(p),f=a(107),h=i(f);a(68);var m=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default))}return o(t,e),s(t,[{key:"validate",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"getValue",value:function(){return""}}]),t}(d.default);t.default=m},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(108),u=i(p),f=a(109),h=i(f);a(69);var m=a(6),v=i(m),g=a(26),y=i(g),b=a(1),w=i(b),_=a(2),C=i(_),k=a(3),x=i(k),T=a(4),S=i(T),P=function(e){$(e).removeClass("hide"),$(e).addClass("show")},O=function(e){$(e).removeClass("show"),$(e).addClass("hide")},I=function(e){return $(e).hasClass("show")},D=function(e){e&&e.forEach(function(e){e.size||(e.size=""),"number"==typeof e.size&&(parseInt(e.size/1e3)<1e3?e.size=parseInt(e.size/1e3)+"KB":e.size=parseFloat(e.size/1e6).toFixed(1)+"MB")})},E=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a.result=[],a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&0===this.result.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.result.length>0&&(this.result.forEach(function(t){e.component.readonly||$("#swipeout"+t.id).on("deleted",function(t){return e._removeFileItem(t)}),$("#file-detail-item"+t.id).click(function(a){var i=t.name.toLowerCase();return i.lastIndexOf(".gif")>-1||i.lastIndexOf(".jpeg")>-1||i.lastIndexOf(".jpg")>-1||i.lastIndexOf(".png")>-1?(console.log("x=="),void v.default.previewImage([t.mediaId],0)):i.lastIndexOf(".doc")>-1||i.lastIndexOf(".docx")>-1||i.lastIndexOf("ppt")>-1||i.lastIndexOf(".pptx")>-1||i.lastIndexOf(".xls")>-1||i.lastIndexOf("xlsx")>-1?void e._previewFile(t.mediaId,"office"):i.lastIndexOf(".pdf")>-1?void e._previewFile(t.mediaId,"pdf"):void new x.default("该文件暂不支持预览").show()}),$("#file-detail-item-download"+t.id).click(function(e){e.stopPropagation(),$("#file-detail-item-download"+t.mediaId).hasClass("download")||($("#file-detail-item-download"+t.mediaId).addClass("download"),$("#file-detail-item-download"+t.mediaId).text("0%"),v.default.downloadFile(t.mediaId,t.name,function(){new x.default("下载成功").show()},function(){new x.default("下载失败").show()},function(e){$("#file-detail-item-download"+t.mediaId).text(parseInt(100*e)+"%")}))})}),this.component.readonly||($("#file-plus"+this.component._id).click(function(t){return e._chooseFile()}),this.filePlusClickEvent=!0)),this.component.readonly||$("#file"+this.component._id).click(function(t){return e._chooseFile()})}},{key:"_chooseFile",value:function(){var e=this;v.default.chooseFiles().then(function(t){return e._showFile(t)})}},{key:"_showFile",value:function(e){var t=this;e.forEach(function(e){return e.id=""+e.mediaId+parseInt(1e3*Math.random())}),this.result.length+e.length>5&&(e=e.slice(0,5-this.result.length)),D(e),this.result=this.result.concat(e),5==this.result.length&&$("#file-plus"+this.component._id).hide(),I("#file"+this.component._id)&&(O("#file"+this.component._id),P("#file-list"+this.component._id),this.filePlusClickEvent||$("#file-plus"+this.component._id).click(function(e){return t._chooseFile()})),this._appendFileItem(e),C.default.publish("pleaseCheckCommentBtn")}},{key:"_appendFileItem",value:function(e){var t=this;$("#file-list-result"+this.component._id).append(new w.default(y.default,e).render()),e.forEach(function(e){$("#swipeout"+e.id).on("deleted",function(e){return t._removeFileItem(e)})})}},{key:"_removeFileItem",value:function(e){5==this.result.length&&$("#file-plus"+this.component._id).show();var t=$(e.target).data("id"),a=this.result.filter(function(e){return e.mediaId==t})[0];this.result.splice(this.result.indexOf(a),1),0==this.result.length&&(P("#file"+this.component._id),O("#file-list"+this.component._id)),C.default.publish("pleaseCheckCommentBtn")}},{key:"getValue",value:function(){return this.result.map(function(e){return e.mediaId})}},{key:"getSnapshootValue",value:function(){return this.result}},{key:"_initValue",value:function(){this.component.value&&(this.component.value.forEach(function(e){return e.id=""+e.mediaId+parseInt(1e3*Math.random())}),this.result=this.component.value)}},{key:"_previewFile",value:function(e,t){bpmApp.showIndicator(),S.default.previewFile({mediaId:e,sourceType:t,success:function(e){return 0==e.dest_ids.length?void new x.default("文件预览失败").show():void v.default.previewImage(e.dest_ids,0)},complete:function(){return bpmApp.hideIndicator()},error:function(e){new x.default("文件预览失败").show()}})}}]),t}(d.default);t.default=E},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(14),s=i(o),l=a(1),c=i(l);a(70);var d=a(110),p=i(d),u=function(){function e(t){n(this,e),s.default.notNull(t),this.data=t}return r(e,[{key:"renderTo",value:function(e){$(e).append(new c.default(p.default,this.data).render())}}]),e}();t.default=u},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(112),u=i(p),f=a(113),h=i(f);a(71);var m=a(6),v=i(m),g=a(111),y=i(g),b=a(1),w=i(b),_=a(2),C=i(_),k=a(8),x=(i(k),function(e){$(e).removeClass("hide"),$(e).addClass("show")}),T=function(e){$(e).removeClass("show"),$(e).addClass("hide")},S=function(e){return $(e).hasClass("show")},P=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a.result=[],a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&0===this.result.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;$(".image-detail"+this.component._id).click(function(t){return e._previewImageByDetail(t)}),$("#image"+this.component._id).click(function(t){return e._showActionSheet()}),this.result.length>0&&($("#image-plus"+this.component._id).click(function(t){return e._showActionSheet()}),this.result.forEach(function(t){$("#image-item"+t.id).click(function(t){return e._previewImage(t)}),$(".image-detail"+t.id).click(function(t){return e._previewImage(t)}),$("#image-shangchu"+t.id).click(function(t){return e._removeImageItem(t)})}),this.imagePlusClickEvent=!0)}},{key:"_showActionSheet",value:function(){var e=this;if(!this.component.readonly){var t=[{text:"打开相册",onClick:function(t){return v.default.chooseImages().then(function(t){return e._showImage(t)})}},{text:"打开相机",onClick:function(t){return v.default.takePicture().then(function(t){return e._showImage(t)})}}],a=[{text:"取消",color:"red"}];bpmApp.actions([t,a]),window.ANDROID_BACK_EVENT=bpmApp.closeModal,$(".actions-modal").on("actions:close",function(e){window.ANDROID_BACK_EVENT=null})}}},{key:"_showImage",value:function(e){var t=this;e.forEach(function(e){return e.id=""+e.mediaId+parseInt(1e3*Math.random())}),e.length+this.result.length>5&&(e=e.slice(0,5-this.result.length)),this.result=this.result.concat(e),5==this.result.length&&$("#image-plus"+this.component._id).hide(),S("#image"+this.component._id)&&(T("#image"+this.component._id),x("#image-list"+this.component._id),this.imagePlusClickEvent||$("#image-plus"+this.component._id).click(function(e){return t._showActionSheet()})),this._appendImageItem(e),C.default.publish("pleaseCheckCommentBtn")}},{key:"_appendImageItem",value:function(e){var t=this;e.forEach(function(e){e.src="/repository/files/"+e.mediaId+"?access_token="+window.accessToken}),$("#image-list-result"+this.component._id).append(new w.default(y.default,e).render()),e.forEach(function(e){$("#image-item"+e.id).click(function(e){return t._previewImage(e)}),$("#image-shangchu"+e.id).click(function(e){return t._removeImageItem(e)})})}},{key:"_removeImageItem",value:function(e){5==this.result.length&&$("#image-plus"+this.component._id).show();var t=$(e.target).data("id"),a=this.result.filter(function(e){return e.mediaId==t})[0];this.result.splice(this.result.indexOf(a),1),$(e.target.parentNode).remove(),0==this.result.length&&(x("#image"+this.component._id),T("#image-list"+this.component._id)),e.preventDefault(),e.stopPropagation(),C.default.publish("pleaseCheckCommentBtn")}},{key:"_previewImage",value:function(e){var t=$(e.target).data("id"),a=this.getValue();v.default.previewImage(a,a.indexOf(t))}},{key:"_previewImageByDetail",value:function(e){var t=$(e.target).data("id"),a=this.getValue();v.default.previewImage(a,a.indexOf(t))}},{key:"getValue",value:function(){return this.result.map(function(e){return e.mediaId})}},{key:"_initValue",value:function(){if(this.component.value){var e=[];this.component.value.forEach(function(t){"string"==typeof t?e.push({id:""+t+parseInt(1e3*Math.random()),mediaId:t,src:"/repository/files/"+t+"?access_token="+window.accessToken}):t.id=""+t.mediaId+parseInt(1e3*Math.random())}),e.length>0?(this.component.value=e,this.result=e):this.result=this.component.value}}}]),t}(d.default);t.default=P},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(119),s=i(o),l=a(1),c=i(l),d=a(22),p=i(d),u=function(e,t){var a=[],i=e.find(function(e){return e.id==t});return i&&i.candidates.forEach(function(e){a.push({_id:e.id,name:e.value,value:e.text,displsy:""})}),a},f=function(){function e(t){n(this,e),t.forEach(function(e){return e.id=Date.now()}),this.params=t,this.results={}}return r(e,[{key:"renderTo",value:function(e){e.append(new c.default(s.default,this.params).render()),this._bindEvent()}},{key:"getValue",value:function(){var e=this,t=[];return this.params.forEach(function(a){var i={};i.taskKey=a.taskKey,i.candidates=[],e.results[a.id].forEach(function(e){i.candidates.push({value:e.name})}),t.push(i)}),t.length?t:""}},{key:"validate",value:function(){return this.params.length==Object.keys(this.results).length?{pass:!0}:{pass:!1,msg:this.params[0].title}}},{key:"_bindEvent",value:function(){var e=this;$(".next-selection-item").click(function(t){return e._showSelectionPanel(t)})}},{key:"_showSelectionPanel",value:function(e){var t=this,a=$(e.target).data("id");this.multiSelectionComponent=new p.default({type:"multi_selection",name_type:"string",name:"next-selection"+Date.now(),required:!0,defaultValue:[],options:u(this.params,a),_id:"next-selection"+Date.now(),
value:this.results[a],tips:"",titile:"测试"}),this.multiSelectionComponent.show(function(i){if(t.results[a]=i,0==i.length)return $(e.target).removeClass("active"),void $(e.target).text("请选择");var n="";i.forEach(function(e){n+=e.value+","}),$(e.target).addClass("active"),$(e.target).text(n.substring(0,n.length-1))})}}]),e}();t.default=f},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(122),s=i(o);a(75);var l=a(120),c=i(l),d=a(121),p=i(d),u=a(1),f=i(u),h=a(3),m=i(h),v=a(4),g=i(v),y=a(39),b=i(y),w=function(e){e.children&&e.children.forEach(function(t){t.identifier=e.identifier}),$(".org-tree"+e.identifier).append(new f.default(c.default,e).render()),$("#tree-children"+e.id).append(new f.default(p.default,e).render()),$("#tree-extend"+e.id).addClass("active"),$("#tree-children"+e.id).addClass("inited")},_=function(e){e.children&&e.children.forEach(function(t){t.identifier=e.identifier}),$("#tree-children"+e.id).append(new f.default(p.default,e).render()),$("#tree-extend"+e.id).addClass("active"),$("#tree-children"+e.id).addClass("inited")},C=function(e){e.forEach(function(e){$("#select-org"+e.id).addClass("selected")})},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.hasOwnProperty("single")||(t.single=!1),this.selected=[],this.params=t,this.mark={identifier:Date.now()}}return r(e,[{key:"show",value:function(e,t){bpmApp.popup(new f.default(s.default,this.mark).render()),this._bindEvent(),this._showOrgTree(),this.finishCallback=e,this.selected=JSON.parse(JSON.stringify(t)),window.ANDROID_BACK_EVENT=this.hide}},{key:"hide",value:function(){this.selected=[],bpmApp.hideIndicator(),bpmApp.closeModal(),window.ANDROID_BACK_EVENT=null,$(".organization-tree").html("")}},{key:"_showOrgTree",value:function(){var e=this;setTimeout(function(){return bpmApp.showIndicator()},100),g.default.getOrganizations({success:function(t){t=JSON.parse(t);var a=t[0];a.identifier=e.mark.identifier,w(a),e.tree=new b.default(a),e._bindTreeEvent(),C(e.selected),e._updateSelectedInfo()},complete:function(){return setTimeout(function(){return bpmApp.hideIndicator()},100)},error:function(e){console.log(e),new m.default("获取组织机构树失败").show()}})}},{key:"_bindTreeEvent",value:function(){var e=this;$(document).on("click",".tree-select-org"+this.mark.identifier,function(t){return e._handleSelectOrg(t)}),$(".root-element").click(function(t){return e._extendChildren(t)}),$(".children-element").click(function(t){return e._extendChildren(t)})}},{key:"_extendChildren",value:function(e){var t=this,a=$(e.target).data("id");a&&($("#tree-extend"+a).hasClass("active")?($("#tree-children"+a).hide(),$("#tree-extend"+a).removeClass("active")):$("#tree-children"+a).hasClass("inited")?($("#tree-children"+a).show(),$("#tree-extend"+a).addClass("active")):1===$("#tree-children"+a).length&&(bpmApp.showIndicator(),g.default.getOrganizations({orgId:a,dataType:"text",success:function(e){var a=JSON.parse(e)[0];a.identifier=t.mark.identifier,_(a),t.tree.concat(a),C(t.selected)},complete:function(){return bpmApp.hideIndicator()},error:function(e,t){new m.default("获取组织机构树失败").show()}})))}},{key:"_handleSelectOrg",value:function(e){if(this.params.single&&1==this.selected.length&&!$(e.target).hasClass("selected"))return void new m.default(this.params.tips||"最多只能选择一个机构").show();var t=this.tree.getOrganizationByOrgId($(e.target).data("orgid"));$(e.target).hasClass("selected")?($(e.target).removeClass("selected"),this._removeSelectedOrganization(t)):($(e.target).addClass("selected"),this.tree.settingAllChildrenCheckboxStatusToUnSelect(t,this.selected),this.tree.settingParentCheckboxStatusToUnSelectIfNecessary(t,this.selected),t.selected=!0,this._addSelectedOrganization(t)),this._updateSelectedInfo()}},{key:"_bindEvent",value:function(){var e=this;$("#organization-cancel").click(function(t){return e.hide()}),$("#selected-org-finish").click(function(t){return e._selectOrganizationFinish()})}},{key:"_selectOrganizationFinish",value:function(){return 0===this.selected.length?void new m.default("请选择机构").show():(this.finishCallback(this.selected),void this.hide())}},{key:"_updateSelectedInfo",value:function(){if(this.selected.length>0){$("#selected-org-num").text("("+this.selected.length+")");var e="";this.selected.map(function(t){return e+=t.name+","}),$("#selected-org-name").text(e.substring(0,e.length-1))}0==this.selected.length&&($("#selected-org-num").text(""),$("#selected-org-name").text(""))}},{key:"_addSelectedOrganization",value:function(e){var t=this.selected.filter(function(t){return t.id==e.id});0===t.length&&this.selected.push(e)}},{key:"_removeSelectedOrganization",value:function(e){var t=this.selected.filter(function(t){return t.id==e.id})[0];this.selected.splice(this.selected.indexOf(t),1)}}]),e}();t.default=k},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function e(t,a,i){t.selected=a,t.employees&&t.employees.forEach(function(e){a?$("#select-employee"+e.id+t.id).addClass("selected"):$("#select-employee"+e.id+t.id).removeClass("selected"),e.selected=a}),t.children&&t.children.forEach(function(t){a?$("#select-org"+t.id).addClass("selected"):$("#select-org"+t.id).removeClass("selected");var n=i.filter(function(e){return t.id==e.id})[0];n&&i.splice(i.indexOf(n),1),t.selected=a,$("#tree-extend"+t.id).hasClass("active")&&e(t,a,i)})},r=null,o=function e(t,a,i){if(t.id==a&&(r=t),t.children){for(var n=!1,o=0;o<t.children.length;o++)if(t.children[o].id==a){if(n=!0,i)return void(r=t);r=t.children[o]}!n&&t.children&&t.children.forEach(function(t){e(t,a,i)})}},s=function(e,t){o(e,t,!0)},l=function e(t,a){if(t.employees){var i=!1;t.employees.forEach(function(e){""+e.id+t.id==a&&(i=!0,r=t)}),!i&&t.children&&t.children.forEach(function(t){e(t,a)})}},c=function e(t,a,i){s(t,a.id);var n=r;if(n.id!=a.id){$("#select-org"+n.id).removeClass("selected"),n.selected=!1;var o=i.filter(function(e){return n.id==e.id})[0];o&&i.splice(i.indexOf(o),1),e(t,n,i)}},d=function(){function e(t){a(this,e),this.tree=t}return i(e,[{key:"concat",value:function(e){this._concat(this.tree,e)}},{key:"_concat",value:function(e,t){var a=this;if(e.children){var i=e.children.filter(function(e){return e.id==t.id});return 1===i.length?void e.children.splice(e.children.indexOf(i[0]),1,t):void e.children.forEach(function(e){a._concat(e,t)})}}},{key:"settingAllChildrenCheckboxStatusToSelected",value:function(e){n(e,!0)}},{key:"settingAllChildrenCheckboxStatusToUnSelect",value:function(e,t){n(e,!1,t)}},{key:"getOrganizationByOrgId",value:function(e){return o(this.tree,e),r}},{key:"getOrganizationByEmpId",value:function(e){return l(this.tree,e),r}},{key:"settingParentCheckboxStatusToUnSelectIfNecessary",value:function(e,t){c(this.tree,e,t)}}]),e}();t.default=d},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(14),s=i(o),l=a(1),c=i(l);a(77);var d=a(124),p=i(d),u=a(125),f=i(u),h=a(6),m=i(h),v=function(){return m.default.getCurrentUserInfo().employee.org_code+"ORG_ID"},g=function(){$(".modal-overlay").addClass("modal-overlay-visible")},y=function(){$(".modal-overlay").removeClass("modal-overlay-visible")},b=function(e){g(),bpmApp.pickerModal(e)},w=function(){y(),bpmApp.closeModal(".picker-modal.modal-in"),window.ANDROID_BACK_EVENT=null},_=function(e,t){var a=e.filter(function(e){return e.selected===!0});return a[0].org_id==t},C=function(){function e(t){n(this,e),s.default.notNull(t),this.positions=t}return r(e,[{key:"render",value:function(){if(this.positions&&!(this.positions.length<=1)){var e=window.localStorage.getItem(v());if(e){var t=null;if(this.positions.forEach(function(a){a.org_id==e&&(a.selected=!0,t=a)}),t)return void this._renderAndBindEvent(t)}this.positions[0].selected=!0,this._renderAndBindEvent(this.positions[0])}}},{key:"listenSwitch",value:function(e){this.callbackFn=e}},{key:"_renderAndBindEvent",value:function(e){var t=this;$("#position").html(""),$("#position").append(new c.default(p.default,e).render()),$(".switch-icon").on("click",function(){return t._switch()})}},{key:"_switch",value:function(){var e=this;b(new c.default(f.default,this.positions).render()),$(".modal-overlay").on("click",function(){return w()}),$(".posistion-item").on("click",function(t){w();var a=$(t.target).data("id");_(e.positions,a)||(e.callbackFn(a),e._switchPosition(a),window.localStorage.setItem(v(),a))}),window.ANDROID_BACK_EVENT=w}},{key:"_switchPosition",value:function(e){var t=this;this.positions.forEach(function(a){a.selected&&(a.selected=!1),a.org_id==e&&(a.selected=!0,t.currentPositionOrgId=e,t._renderAndBindEvent(a))})}}]),e}();t.default=C},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=a(5),p=i(d),u=a(127),f=i(u),h=a(128),m=i(h);a(78);var v=a(126),g=i(v),y=a(1),b=i(y),w=a(10),_=i(w),C=a(8),k=(i(C),a(7)),x=i(k),T=function(e){$(e).removeClass("hide"),$(e).addClass("show")},S=function(e){$(e).removeClass("show"),$(e).addClass("hide")},P=function(e){return $(e).hasClass("show")},O=function(e){e.value&&"object"==c(e.value)&&e.value.forEach(function(e){e.avatar&&e.avatar.indexOf("http://")==-1&&(e.src="/repository/files/"+e.avatar+"?access_token="+window.accessToken),e.userId&&(e.id=e.userId),e.name&&(e.name=x.default.escape(e.name))})},I=function(e){function t(e){n(this,t),O(e);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default,m.default));return a.result=[],a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&0===this.result.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.component.readonly||($("#employee"+this.component._id).click(function(t){e._showContactPicker(),e._showContactPicker()}),this.result.length>0&&($("#employee-plus"+this.component._id).click(function(t){return e._showContactPicker()}),this.result.forEach(function(t){$("#employss-delete"+t.id).click(function(t){return e._removeEmployeeItem(t)})}),this.employeePlusClickEvent=!0))}},{key:"_showContactPicker",value:function(){var e=this;this.isShowContactPicker||(this.isShowContactPicker=!0,new _.default({single:!this.component.allowMultiSelect}).show(function(t){e._showContact(t)},this.result),setTimeout(function(){e.isShowContactPicker=!1},500))}},{key:"_showContact",value:function(e){var t=this;this.component.allowMultiSelect||(this.result.length=0),e.forEach(function(e){e.avatar&&e.avatar.indexOf("http")==-1&&(e.src="/repository/files/"+e.avatar+"?access_token="+window.accessToken);var a=t.result.filter(function(t){return e.id==t.id});0==a.length&&t.result.push(e)}),$("#employee-list-result"+this.component._id).html(""),P("#employee"+this.component._id)&&(S("#employee"+this.component._id),T("#employee-list"+this.component._id),this.employeePlusClickEvent||($("#employee-plus"+this.component._id).click(function(e){return t._showContactPicker()}),this.employeePlusClickEvent=!0)),this._appendEmployeeItem(e),this._publishComponentInputEvent()}},{key:"_appendEmployeeItem",value:function(e){var t=this;$("#employee-list-result"+this.component._id).append(new b.default(g.default,e).render()),e.forEach(function(e){$("#employss-delete"+e.id).click(function(e){return t._removeEmployeeItem(e)})})}},{key:"_removeEmployeeItem",value:function(e){var t=$(e.target).data("id"),a=this.result.filter(function(e){return e.id==t})[0];0!=a.length&&(this.result.splice(this.result.indexOf(a),1),$("#employee-item"+t).remove(),0==this.result.length&&(T("#employee"+this.component._id),S("#employee-list"+this.component._id)),this._publishComponentInputEvent(),e.preventDefault(),e.stopPropagation())}},{key:"getValue",value:function(){var e=this.result.map(function(e){var t=e.id,a=e.name,i=0;if(t)for(var n=0;n<t.length;n++)i+=t[n].charCodeAt();for(var r=0;r<a.length;r++)i+=a[r].charCodeAt();return{id:t,name:a,sortOrder:i}}).sort(function(e,t){return e.sortOrder-t.sortOrder});return e.map(function(e){return e.id}).join(",")}},{key:"getSnapshootValue",value:function(){return this.result.map(function(e){return{id:e.id,avatar:e.avatar,name:e.name}})}},{key:"_initValue",value:function(){this.component.value&&(this.result=this.component.value)}},{key:"_publishComponentInputEvent",value:function(){Event.publish("textComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id,type:this.component.type,fromSubForm:this.component.fromSubForm})}}]),t}(p.default);t.default=I},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(130),u=i(p),f=a(131),h=i(f);a(79);var m=a(129),v=i(m),g=a(1),y=i(g),b=a(38),w=i(b),_=function(e){$(e).removeClass("hide"),$(e).addClass("show")},C=function(e){$(e).removeClass("show"),$(e).addClass("hide")},k=function(e){return $(e).hasClass("show")},x=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a.result=[],a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&0===this.result.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.component.readonly||($("#select-org"+this.component._id).click(function(t){return e._showOrganizationTree()}),this.result.length>0&&($("#org-plus"+this.component._id).click(function(t){return e._showOrganizationTree()}),this.result.forEach(function(t){$("#org-swipeout"+t.id).on("deleted",function(t){return e._removeFileItem(t)})}),this.orgPlusClickEvent=!0))}},{key:"_showOrganizationTree",value:function(){var e=this;this.isShowOrganizationTree||(this.isShowOrganizationTree=!0,new w.default({single:!this.component.allowMultiSelect}).show(function(t){e._showOrganizationDetail(t)},this.result),setTimeout(function(){e.isShowOrganizationTree=!1},500))}},{key:"_showOrganizationDetail",value:function(e){var t=this;this.component.allowMultiSelect||(this.result.length=0),e.forEach(function(e){var a=t.result.filter(function(t){return e.id==t.id});0==a.length&&t.result.push(e)}),$("#org-list-result"+this.component._id).html(""),k("#select-org"+this.component._id)&&(C("#select-org"+this.component._id),_("#org-list"+this.component._id),this.orgPlusClickEvent||($("#org-plus"+this.component._id).click(function(e){return t._showOrganizationTree()}),this.orgPlusClickEvent=!0)),this._appendFileItem(e),this._publishComponentInputEvent()}},{key:"_appendFileItem",value:function(e){var t=this;$("#org-list-result"+this.component._id).append(new y.default(v.default,e).render()),e.forEach(function(e){$("#org-swipeout"+e.id).on("deleted",function(e){return t._removeFileItem(e)})})}},{key:"_removeFileItem",value:function(e){var t=$(e.target).data("id"),a=this.result.filter(function(e){return e.id==t})[0];this.result.splice(this.result.indexOf(a),1),0==this.result.length&&(_("#select-org"+this.component._id),C("#org-list"+this.component._id)),this._publishComponentInputEvent(),e.preventDefault(),e.stopPropagation()}},{key:"getValue",value:function(){var e=this.result.map(function(e){var t=e.id,a=e.name,i=0;if(t)for(var n=0;n<t.length;n++)i+=t[n].charCodeAt();for(var r=0;r<a.length;r++)i+=a[r].charCodeAt();return{id:t,name:a,sortOrder:i}}).sort(function(e,t){return e.sortOrder-t.sortOrder});return e.map(function(e){return e.id}).join(",")}},{key:"getSnapshootValue",value:function(){return this.result.map(function(e){return{id:e.id,name:e.name}})}},{key:"_initValue",value:function(){this.component.value&&(this.component.value.forEach(function(e){e.id=e.orgId||e.id}),this.result=this.component.value)}},{key:"_publishComponentInputEvent",value:function(){Event.publish("textComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id,type:this.component.type,fromSubForm:this.component.fromSubForm})}}]),t}(d.default);t.default=x},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(132),u=i(p),f=a(133),h=i(f),m=a(13),v=i(m);a(80);var g=function(e){function t(e){n(this,t),e.value=e.value||e.defaultValue;var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default));return a._initValue(),a}return o(t,e),s(t,[{key:"validate",value:function(){return this.component.required&&!this.result.value?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateFail",this).call(this,"请选择"+this.component.title):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"bindEvent",value:function(){var e=this;if(!this.component.readonly){var t=this.component.options.map(function(e){return e.value});this.picker=new v.default("selection",t),$("#selection"+this.component._id).click(function(t){return e.picker.show(e._showSelection.bind(e),e.result)})}}},{key:"_showSelection",value:function(e){this.result=e,$("#selection-label"+this.component._id).html(e.value),$("#selection-label"+this.component._id).addClass("active"),e&&Event.publish("textComponentInput",{name:this.component.name,value:this.getValue(),_id:this.component._id,type:this.component.type,fromSubForm:this.component.fromSubForm})}},{key:"getValue",value:function(){return this.result.value}},{key:"_initValue",value:function(){return this.component.value?void(this.result={value:this.component.value}):void(this.result={})}}]),t}(d.default);t.default=g},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(134),s=i(o);a(81);var l=a(47),c=i(l),d=function(){function e(){n(this,e)}return r(e,[{key:"show",value:function(e){var t=this;bpmApp.popup(s.default),setTimeout(function(){return t._init()},500),this.callback=e,window.ANDROID_BACK_EVENT=this.hide.bind(this)}},{key:"_init",value:function(){var e=document.getElementById("signature-pad");e.width=$(".signature-page-content").width(),e.height=$(".signature-page-content").height(),this.signaturePad=new c.default(e,{backgroundColor:"rgba(255, 255, 255, 0)",penColor:"rgb(0, 0, 0)",maxWidth:3}),this._bindEvent()}},{key:"_bindEvent",value:function(){var e=this;$("#signature-pad").on("touchstart",function(e){$(".signature-tips").hide(),$(".signature-clear").addClass("active"),$(".signature-confirm").addClass("active")}),$(".signature-cancel").click(function(t){return e.hide()}),$(".signature-clear").click(function(t){return e._clearSignature()}),$(".signature-confirm").click(function(t){return e._saveSignature(t)})}},{key:"_clearSignature",value:function(){this.signaturePad.clear(),$(".signature-tips").show(),$(".signature-clear").removeClass("active"),$(".signature-confirm").removeClass("active")}},{key:"_saveSignature",value:function(e){$(e.target).hasClass("active")&&(this.callback(this.signaturePad.toDataURL()),this.hide())}},{key:"hide",value:function(){bpmApp.closeModal(),window.ANDROID_BACK_EVENT=null}}]),e}();t.default=d},function(e,t){"use strict";function a(e,t,a,i){this.startPoint=e,this.control1=t,this.control2=a,this.endPoint=i}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype.length=function(){for(var e=10,t=0,a=void 0,i=void 0,n=0;n<=e;n+=1){var r=n/e,o=this._point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var l=o-a,c=s-i;t+=Math.sqrt(l*l+c*c)}a=o,i=s}return t},a.prototype._point=function(e,t,a,i,n){return t*(1-e)*(1-e)*(1-e)+3*a*(1-e)*(1-e)*e+3*i*(1-e)*e*e+n*e*e*e},t.default=a},function(e,t){"use strict";function a(e,t,a){this.x=e,this.y=t,this.time=a||(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},a.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.default=a},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a=this,i=t||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(a._mouseButtonDown=!0,a._strokeBegin(e))},this._handleMouseMove=function(e){a._mouseButtonDown&&a._strokeUpdate(e)},this._handleMouseUp=function(e){1===e.which&&a._mouseButtonDown&&(a._mouseButtonDown=!1,a._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];a._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];a._strokeUpdate(t)},this._handleTouchEnd=function(e){var t=e.target===a._canvas;t&&(e.preventDefault(),a._strokeEnd(e))},this.on()}Object.defineProperty(t,"__esModule",{value:!0});var r=a(46),o=i(r),s=a(45),l=i(s);n.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},n.prototype.fromDataURL=function(e){var t=this,a=new Image,i=window.devicePixelRatio||1,n=this._canvas.width/i,r=this._canvas.height/i;this._reset(),a.src=e,a.onload=function(){t._ctx.drawImage(a,0,0,n,r)},this._isEmpty=!1},n.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var a=arguments.length,i=Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return(t=this._canvas).toDataURL.apply(t,[e].concat(i))}},n.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},n.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},n.prototype.isEmpty=function(){return this._isEmpty},n.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},n.prototype._strokeUpdate=function(e){var t=e.clientX,a=e.clientY,i=this._createPoint(t,a),n=this._addPoint(i),r=n.curve,o=n.widths;r&&o&&this._drawCurve(r,o.start,o.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time})},n.prototype._strokeEnd=function(e){var t=this.points.length>2,a=this.points[0];!t&&a&&this._drawDot(a),"function"==typeof this.onEnd&&this.onEnd(e)},n.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},n.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},n.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},n.prototype._createPoint=function(e,t,a){var i=this._canvas.getBoundingClientRect();return new o.default(e-i.left,t-i.top,a||(new Date).getTime())},n.prototype._addPoint=function(e){var t=this.points,a=void 0;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]),a=this._calculateCurveControlPoints(t[0],t[1],t[2]);var i=a.c2;a=this._calculateCurveControlPoints(t[1],t[2],t[3]);var n=a.c1,r=new l.default(t[1],i,n,t[2]),o=this._calculateCurveWidths(r);return t.shift(),{curve:r,widths:o}}return{}},n.prototype._calculateCurveControlPoints=function(e,t,a){var i=e.x-t.x,n=e.y-t.y,r=t.x-a.x,s=t.y-a.y,l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c={x:(t.x+a.x)/2,y:(t.y+a.y)/2},d=Math.sqrt(i*i+n*n),p=Math.sqrt(r*r+s*s),u=l.x-c.x,f=l.y-c.y,h=p/(d+p),m={x:c.x+u*h,y:c.y+f*h},v=t.x-m.x,g=t.y-m.y;return{c1:new o.default(l.x+v,l.y+g),c2:new o.default(c.x+v,c.y+g)}},n.prototype._calculateCurveWidths=function(e){var t=e.startPoint,a=e.endPoint,i={start:null,end:null},n=this.velocityFilterWeight*a.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(n);return i.start=this._lastWidth,i.end=r,this._lastVelocity=n,this._lastWidth=r,i},n.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},n.prototype._drawPoint=function(e,t,a){var i=this._ctx;i.moveTo(e,t),i.arc(e,t,a,0,2*Math.PI,!1),this._isEmpty=!1},n.prototype._drawCurve=function(e,t,a){var i=this._ctx,n=a-t,r=Math.floor(e.length());i.beginPath();for(var o=0;o<r;o+=1){var s=o/r,l=s*s,c=l*s,d=1-s,p=d*d,u=p*d,f=u*e.startPoint.x;f+=3*p*s*e.control1.x,f+=3*d*l*e.control2.x,f+=c*e.endPoint.x;var h=u*e.startPoint.y;h+=3*p*s*e.control1.y,h+=3*d*l*e.control2.y,h+=c*e.endPoint.y;var m=t+c*n;this._drawPoint(f,h,m)}i.closePath(),i.fill()},n.prototype._drawDot=function(e){var t=this._ctx,a="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,a),t.closePath(),t.fill()},n.prototype._fromData=function(e,t,a){for(var i=0;i<e.length;i+=1){var n=e[i];if(n.length>1)for(var r=0;r<n.length;r+=1){var s=n[r],l=new o.default(s.x,s.y,s.time);if(0===r)this._reset(),this._addPoint(l);else if(r!==n.length-1){var c=this._addPoint(l),d=c.curve,p=c.widths;d&&p&&t(d,p)}}else{this._reset();var u=n[0];a(u)}}},n.prototype._toSVG=function(){var e=this,t=this._data,a=this._canvas,i=0,n=0,r=a.width,o=a.height,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",a.width),s.setAttributeNS(null,"height",a.height),this._fromData(t,function(t,a){var i=document.createElementNS("http;//www.w3.org/2000/svg","path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var n="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" "+("C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" ")+(t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" ")+(t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3));i.setAttribute("d",n),i.setAttributeNS(null,"stroke-width",(2.25*a.end).toFixed(3)),i.setAttributeNS(null,"stroke",e.penColor),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"stroke-linecap","round"),s.appendChild(i)}},function(t){
var a=document.createElementNS("http://www.w3.org/2000/svg","circle"),i="function"==typeof e.dotSize?e.dotSize():e.dotSize;a.setAttributeNS(null,"r",i),a.setAttributeNS(null,"cx",t.x),a.setAttributeNS(null,"cy",t.y),a.setAttributeNS(null,"fill",e.penColor),s.appendChild(a)});var l="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+i+" "+n+" "+r+" "+o+'">',d=s.innerHTML;if(void 0===d){var p=s.childNodes,u=new XMLSerializer;d="";for(var f=0;f<p.length;f+=1)d+=u.serializeToString(p[f])}var h="</svg>",m=c+d+h;return l+btoa(m)},n.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,a){return t._drawCurve(e,a.start,a.end)},function(e){return t._drawDot(e)})},n.prototype.toData=function(){return this._data},t.default=n},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(135),u=i(p),f=a(137),h=i(f),m=a(136),v=i(m);a(82);var g=a(1),y=i(g),b=a(12),w=i(b),_=a(2),C=i(_),k=function(e){function t(e,a){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,v.default));return i.component.index=0,i.subForm=[],i.componentsData=a,i.subComponents=[],i}return o(t,e),s(t,[{key:"bindEvent",value:function(){var e=this;if(this.component.fromDetail||(C.default.subscribe("textComponentInput",function(t){e.component.children.forEach(function(a){a.name==t.name&&C.default.publish("subFormTextComponentInput",{name:e.component.name,value:e.getValue(),_id:e.component._id})})}),C.default.subscribe("calculateComponentChange",function(t){e.component.children.forEach(function(a){a.name==t.name&&C.default.publish("subFormTextComponentInput",{name:e.component.name,value:e.getValue(),_id:e.component._id})})})),this.subComponents.forEach(function(e){return e.bindEvent()}),$("#sub-form-btn"+this.component._id).click(function(t){e.component.readonly||e._initSubForm()}),!this.component.value)return void this._initSubForm();for(var t=JSON.parse(JSON.stringify(this.component.value)),a=function(a){e.component.children.forEach(function(e){e.value=t[a][e.name]}),e._initSubForm(!0)},i=0;i<t.length;i++)a(i)}},{key:"renderDetail",value:function(){var e=this,t="";if(this.component.value)for(var a=function(a){e.component.children.forEach(function(t){t.title&&t.title.indexOf("&nbsp")==-1&&(t.title="&nbsp;&nbsp;"+t.title),t.startTitle&&t.startTitle.indexOf("&nbsp")==-1&&(t.startTitle="&nbsp;&nbsp;"+t.startTitle),t.endTitle&&t.endTitle.indexOf("&nbsp")==-1&&(t.endTitle="&nbsp;&nbsp;"+t.endTitle),t.value=e.component.value[a][t.name]}),e.component.index=++e.component.index;var i=new w.default(e.component.children);t=t.concat(new y.default(e.templateDetail,e.component).render()),t=t.concat(i.renderDetail()),e.subComponents.push(i)},i=0;i<this.component.value.length;i++)a(i);else{this.component.index=++this.component.index;var n=new w.default(this.component.children);t=t.concat(new y.default(this.templateDetail,this.component).render()),t=t.concat(n.renderDetail()),this.subComponents.push(n)}return t}},{key:"validate",value:function(){for(var e=0;e<this.subForm.length;e++){var a=this.subForm[e].components.validate();if(!a.pass)return a}return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this)}},{key:"getValue",value:function(){for(var e=[],t=0;t<this.subForm.length;t++)e.push(this.subForm[t].components.getValues());return e}},{key:"getSnapshootValue",value:function(){for(var e=[],t=0;t<this.subForm.length;t++)e.push(this.subForm[t].components.getNewValues());return e}},{key:"_initSubForm",value:function(e){var t=this,a=this.component.children;a.forEach(function(e){e.fromSubForm=!0,e.required=t.component.required,e.readonly=t.component.readonly}),a.parent=this.componentsData,this.component.index=this.component.index?++this.component.index:1,this.component.index>1&&(a=[],this.component.children.forEach(function(t){var i=JSON.parse(JSON.stringify(t));i._id=""+i._id+Date.now(),e||(i.value=""),i.fromSubForm=!0,a.push(i)}),a.parent=this.componentsData),this.component.identifier=Date.now(),$("#sub-form-container"+this.component._id).append(new y.default(h.default,this.component).render());var i=new w.default(JSON.parse(JSON.stringify(a)));i.renderTo("#sub-form"+this.component.identifier+" .sub-from-component"),this.subForm.push({identifier:this.component.identifier,components:i}),$("#sub-form-delete"+this.component.identifier).click(function(e){return t._removeSubForm(e)})}},{key:"_removeSubForm",value:function(e){var t=$(e.target).data("id");$("#sub-form"+t).remove(),--this.component.index;var a=this.subForm.filter(function(e){return e.identifier==t})[0];this.subForm.splice(this.subForm.indexOf(a),1);var i=this.component.title;this.subForm.forEach(function(e,t){$(".sub-form-title-label"+e.identifier).text(i+" ("+(t+1)+")")})}}]),t}(d.default);t.default=k},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(5),d=i(c),p=a(139),u=i(p),f=a(140),h=i(f);a(84);var m=a(2),v=i(m),g=a(7),y=i(g),b=a(6),w=i(b),_=a(3),C=i(_),k=function(e){return"mobile"==e.type?void(e.inputType="tel"):"email"==e.type?void(e.inputType="email"):void(e.inputType="text")},x=function(e){e.value&&(e.value=y.default.escape(e.value))},T=function(e){function t(e){return n(this,t),k(e),x(e),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default,h.default))}return o(t,e),s(t,[{key:"bindEvent",value:function(){var e=this;return this.component.readonly?void $("#"+this.component._id).attr("readonly",!0):($("#"+this.component._id).on("input",function(){v.default.publish("textComponentInput",{name:e.component.name,value:e.getValue(),_id:e.component._id,type:e.component.type,fromSubForm:e.component.fromSubForm})}),$("#"+this.component._id).on("click",function(t){var a=$(".launch-page-content"),i=$("#"+e.component._id);setTimeout(function(){a.scrollTop(i.offset().top+a.scrollTop()-94,100)},500);var n=$("#"+e.component._id);0==n[0].selectionStart&&(n[0].selectionStart=n.val().length,n[0].selectionEnd=n.val().length)}),$("#scan"+this.component._id).on("click",function(t){w.default.scanCode().then(function(t){$("#"+e.component._id).val(t),$("#"+e.component._id).trigger("input")}).catch(function(e){new C.default("扫一扫加载失败").show()})}),void(this.component.defaultValue&&setTimeout(function(){return $("#"+e.component._id).trigger("input")},2e3)))}},{key:"validate",value:function(){if(this.component.readonly)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateSuccess",this).call(this);var e=$("#"+this.component._id).val()||this.component.value,a="";return this.component.required&&!e?this.validateFail(this.component.title+"不能为空"):e&&this.component.maxLength&&e.length>this.component.maxLength?this.validateFail(this.component.title+"超过最大长度限制"):(e&&"email"===this.component.type&&(a=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/),e&&"mobile"===this.component.type&&(a=/^1[34578]\d{9}$/),e&&"phone"===this.component.type&&(a=/^(\d{3,4}-)?(\d{7,14})+(-\d{1,4})?$/),a&&!a.test(e)?this.validateFail(this.component.title+"格式错误"):this.validateSuccess())}},{key:"getValue",value:function(){var e=$("#"+this.component._id).val()||this.component.value;return"int"==this.component.name_type?e?parseInt(e):0:"double"==this.component.name_type?e?1*parseFloat(e).toFixed(10):0:e}}]),t}(d.default);t.default=T},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=a(5),c=i(l),d=a(141),p=i(d),u=a(142),f=i(u);a(85);var h=a(7),m=i(h),v=a(6),g=i(v),y=a(3),b=i(y),w=function(e){e.value&&(e.value=m.default.escape(e.value))},_=function(e){function t(e){return n(this,t),w(e),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,p.default,f.default))}return o(t,e),s(t,[{key:"bindEvent",value:function(){var e=this;return this.component.readonly?void $("#"+this.component._id).attr("readonly",!0):($("#"+this.component._id).on("click",function(t){var a=$(".launch-page-content"),i=$("#"+e.component._id);setTimeout(function(){a.scrollTop(i.offset().top+a.scrollTop()-94,100)},500);var n=$("#"+e.component._id);0==n[0].selectionStart&&(n[0].selectionStart=n.val().length,n[0].selectionEnd=n.val().length)}),$("#scan"+this.component._id).on("click",function(t){g.default.scanCode().then(function(t){$("#"+e.component._id).val(t),$("#"+e.component._id).trigger("input")}).catch(function(e){new b.default("扫一扫加载失败").show()})}),this.component.defaultValue&&setTimeout(function(){return $("#"+e.component._id).trigger("input")},2e3),void $("#"+this.component._id).on("input",function(){Event.publish("textComponentInput",{name:e.component.name,value:e.getValue(),_id:e.component._id,type:e.component.type,fromSubForm:e.component.fromSubForm})}))}},{key:"validate",value:function(){var e=$("#"+this.component._id).val()||this.component.value;return this.component.required&&!e?this.validateFail(this.component.title+"不能为空"):e&&this.component.maxLength&&e.length>this.component.maxLength?this.validateFail(this.component.title+"超过最大长度限制"):this.validateSuccess()}},{key:"getValue",value:function(){return $("#"+this.component._id).val()||this.component.value}}]),t}(c.default);t.default=_},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function(){function e(){a(this,e)}return i(e,null,[{key:"getCurrentUserInfo",value:function(){return new Promise(function(e,t){var a={user_id:"67f4f3b4188444ddbdb35b27a8a4429d",domain_id:"atwork",name:"张三",employee:{org_code:"xx",positions:[{corp_name:"深圳恒拓高科信息技术有限公司",org_name:"产品研发部",org_id:"5",job_title:"测试",type:"DEPT"},{corp_name:"深圳恒拓高科信息技术有限公司",org_name:"产品研发部",org_id:"xxxxxx2",job_title:"测试",type:"ORG"}]}};window.currentUser=a,e(a)})}},{key:"getTicket",value:function(){return new Promise(function(e,t){e({user_ticket:"xxx"})})}},{key:"chooseImages",value:function(){return new Promise(function(e,t){e([{mediaId:"xxxx"},{mediaId:"xxxx2"}])})}},{key:"takePicture",value:function(){return new Promise(function(e,t){e([{mediaId:"xxxx"}])})}},{key:"chooseFiles",value:function(){return new Promise(function(e,t){e([{mediaId:"xxxx",name:"测试.png",size:"100kb"},{mediaId:"xxxx2",name:"测试2.png",size:"1MB"}])})}},{key:"logout",value:function(){console.log("logout")}},{key:"previewImage",value:function(){return new Promise(function(e,t){e()})}},{key:"downloadFile",value:function(e,t,a,i,n){a()}},{key:"scanCode",value:function(){return new Promise(function(e,t){e("hi")})}},{key:"openWebView",value:function(e){console.log("openWebView:"+e)}}]),e}();t.default=n},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(8),s=i(o),l=function(){function e(){n(this,e)}return r(e,null,[{key:"getCurrentUserInfo",value:function(){return new Promise(function(e,t){cordova.exec(function(t){window.currentUser=t,e(t)},function(e){t(e)},"WorkPlus_Contact","getCurrentUserInfo",[{needEmpInfo:!0}])})}},{key:"getTicket",value:function(){return new Promise(function(e,t){cordova.exec(function(t){e(t)},function(e){t(e)},"WorkPlus_Auth","getUserTicket",[])})}},{key:"chooseImages",value:function(){var e=[{multiple:!0}];return new Promise(function(t,a){cordova.exec(function(e){t(e)},function(e){a(e)},"WorkPlus_Image","chooseImages",e)})}},{key:"takePicture",value:function(){var e=[{editable:!1}];return new Promise(function(t,a){cordova.exec(function(e){t([e])},function(e){a(e)},"WorkPlus_Image","takePicture",e)})}},{key:"chooseFiles",value:function(){var e=[{multiple:!0}];return new Promise(function(t,a){cordova.exec(function(e){t(e)},function(e){a(e)},"WorkPlus_Files","chooseFiles",e)})}},{key:"logout",value:function(){cordova.exec(function(){},function(e){},"WorkPlus_WebView","exit",[])}},{key:"previewImage",value:function(e,t){var a=[{mediaIds:e,position:t}];return new Promise(function(e,t){cordova.exec(function(t){e()},function(e){t()},"WorkPlus_Image","showImages",a)})}},{key:"downloadFile",value:function(e,t,a,i,n){cordova.exec(function(r){var o=new FileTransfer,l=encodeURI(""+window.location.origin+s.default.API+"repository/files/"+e+"?access_token="+window.accessToken);o.onprogress=function(e){console.log(e),e.lengthComputable&&(console.log(e.loaded/e.total),n(e.loaded/e.total))},o.download(l,r+"/"+t,function(e){console.log("download complete: "+e.fullPath),a()},function(e){i(),console.log("download error source "+e.source),console.log("download error target "+e.target),console.log("upload error code"+e.code)},!1)},function(e){i()},"WorkPlus_Files","getUserFilePath",[{system:"file"}])}},{key:"scanCode",value:function(){return new Promise(function(e,t){cordova.exec(function(t){e(t)},function(e){t()},"WorkPlus_BarcodeScanner","scanner",[])})}},{key:"openWebView",value:function(e){cordova.exec(function(){},function(e){},"WorkPlus_WebView","openWebView",[{url:e,title:""}])}}]),e}();t.default=l},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c),p=a(12),u=i(p);a(87);var f=a(4),h=i(f),m=a(11),v=i(m),g=a(3),y=i(g),b=a(10),w=i(b),_=a(2),C=i(_),k=a(7),x=i(k),T=[{type:"image",title:"图片",defaultValue:[],required:!1,tips:"",_id:"thisiscommentimage",name:"thisiscommentimagename"},{type:"file",title:"文件",defaultValue:[],required:!1,tips:"",maxSize:10485760,_id:"thisiscommentfile",name:"thisiscommentfilename"}],S=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",a).call(a,{"click .send-btn":a._send.bind(a),"click #comment-back":a._back.bind(a),"click .comment-remind":a._selectContact.bind(a),"input #flow-comment-div":a._inputComment.bind(a)}),a.id=e.processInstance?e.processInstance.id:e.id,a.type=e.processInstance?e.processInstance.processDefinition.processType:e.processDefinition.processType,a.loading=new v.default,a._initComponent(),a.atUsers=[],C.default.subscribe("pleaseCheckCommentBtn",function(){var e=a.components.getValues();return 0==e.thisiscommentimagename.length&&0==e.thisiscommentfilename.length&&""==$("#flow-comment-div").html()?void $(".send-btn").removeClass("active"):void $(".send-btn").addClass("active")}),window.ANDROID_BACK_EVENT=a._back.bind(a),a.inputTextLength=0,a}return o(t,e),s(t,[{key:"_initComponent",value:function(){this.components=new u.default(T),this.components.renderTo("#comment-attention")}},{key:"_send",value:function(e){var a=this;if($(e.target).hasClass("active")){if($("#flow-comment-div").text().length>1e3)return void bpmApp.alert("","评论内容不能超过1000字");var i=[];$("#flow-comment-div span").each(function(){$(this).data("id")&&i.push($(this).data("id"))}),this.isSending||(this.isSending=!0,this.loading.show(),h.default.addFlowComment({instanceId:this.id,processType:this.type,data:{content:$("#flow-comment-div").html(),pictures:this.components.getValues().thisiscommentimagename.join(","),attachments:JSON.stringify(this.components.getNewValues().thisiscommentfilename),notifiedUsers:i},success:function(e){new y.default("评论成功").show(),C.default.publish("updateFlowDetail"),a.loading.hide(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",a).call(a)},error:function(e){a.isSending=!1,new y.default("评论失败").show()}}))}}},{key:"_inputComment",value:function(e){var t=this,a=$(e.target).text();return a?("@"===a.substring(a.length-1,a.length)&&a.length>=this.inputTextLength&&(a=$(e.target).html(),this.inputTextLength=a.length,window.getSelection().removeAllRanges(),(new w.default).show(function(e){a=a.replace(/<br>/g,""),"@"===a.substring(a.length-1,a.length)&&$("#flow-comment-div").html(a.substring(0,a.length-1)),"<div>@</div>"===a.substring(a.length-12,a.length)&&$("#flow-comment-div").html(a.substring(0,a.length-12)),t._appendAtUsers(e)})),this.inputTextLength=a.length,void this._settingSendBtnActiveStyle()):void $(".send-btn").removeClass("active")}},{key:"_selectContact",value:function(){var e=this;(new w.default).show(function(t){return e._appendAtUsers(t)})}},{key:"_appendAtUsers",value:function(e){console.log(window.getSelection()),this.atUsers=this.atUsers.concat(e);var t="";e.forEach(function(e){e=x.default.escape(e),t=t.concat('<span class="comment-at no-fastclick" contenteditable="false" data-id="'+e.id+'">@'+e.name+"</span>&nbsp;")}),$("#flow-comment-div").append(t),this._settingSendBtnActiveStyle()}},{key:"_listenKeyDown",value:function(e){console.log(e);var t=e.keyCode;if(8==t){$(e.target).html()}}},{key:"_settingSendBtnActiveStyle",value:function(){$(".send-btn").hasClass("active")||$(".send-btn").addClass("active")}},{key:"_back",value:function(e){var a=this;return $(".send-btn").hasClass("active")?(window.ANDROID_BACK_EVENT=bpmApp.closeModal,bpmApp.params.modalButtonCancel="取消",bpmApp.params.modalButtonOk="放弃",bpmApp.confirm("确定放弃评论？","",function(){window.ANDROID_BACK_EVENT=null,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",a).call(a)},function(){window.ANDROID_BACK_EVENT=a._back.bind(a)}),void(e&&(e.stopPropagation(),e.preventDefault()))):(window.ANDROID_BACK_EVENT=null,void l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",this).call(this))}}]),t}(d.default);t.default=S},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c);a(89);var p=a(4),u=i(p),f=a(11),h=i(f),m=a(3),v=i(m),g=a(44),y=i(g),b=a(10),w=i(b),_=a(2),C=i(_),k=a(6),x=i(k),T=a(26),S=i(T),P=a(1),O=i(P),I=a(12),D=i(I),E=a(146),M=i(E),j=a(23),L=i(j),A=a(37),N=(i(A),a(16)),z=i(N),B=function(e){e&&e.forEach(function(e){e.size||(e.size=""),"number"==typeof e.size&&(parseInt(e.size/1e3)<1e3?e.size=parseInt(e.size/1e3)+"KB":e.size=parseFloat(e.size/1e6).toFixed(1)+"MB")})},F=function(e,t){if(e)for(var a in e)t[a]=e[a];return JSON.stringify(t)},R=function(e,t){return t.forEach(function(t){var a=e.filter(function(e){return t.name==e.name});0==a.length&&e.push(t)}),JSON.stringify(e)},V=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",a).call(a,{"click .result-btn-item":a._selectApproveResult.bind(a),"click #signature-btn":a._showSignature.bind(a),"click .handle-save":a._handleSave.bind(a),"click .handle-next-approver":a._handleNextApprover.bind(a),"click .handle-finsih":a._handleFinish.bind(a),"click .handle-submit":a._handleSubmit.bind(a),"click .handle-signature":a._showSignature.bind(a),"click .approval-attachment-btn":a._addAttachment.bind(a)}),a.files=[],a.id=e.id,a.type=e.processInstance?e.processInstance.processDefinition.processType:e.processDefinition.processType,a.flow=e,a.loading=new h.default,a._renderHandleBtnByType(),a.handleMark=!1,a}return o(t,e),s(t,[{key:"_renderHandleBtnByType",value:function(){"Free"==this.type&&($(".handle-save").hide(),$(".handle-free-btns").show()),this.flow.hasApproved||$("#handle-back-btn").hide(),this._renderFormIfNecessary(),this._renderArtificialApprovalResultIfNecessary()}},{key:"_renderFormIfNecessary",value:function(){var e=this.flow.flowDetail.processDefinition.formDefinition.components,t=JSON.parse(this.flow.flowDetail.formSettings);t&&(t.filterEditable=!0,this.components=new D.default(e,t),this.components.isEmpty()||($("#flow-handle-from").show(),this.components.renderTo("#flow-handle-from")))}},{key:"_renderArtificialApprovalResultIfNecessary",value:function(){var e=this;if($("#normalApprovalResult").hide(),this.flow.flowDetail.manualFlows&&this.flow.flowDetail.manualFlows.length>0&&(this.flow.flowDetail.manualFlows.forEach(function(e){return e.manual=!0}),$("#artificialApprovalResult").append(new O.default(M.default,this.flow.flowDetail.manualFlows).render())),this.flow.flowDetail.approveItems&&this.flow.flowDetail.approveItems.length>0){var t=[];this.flow.flowDetail.approveItems.forEach(function(e){t.push({flowid:e.code,flowName:e.name})}),$("#artificialApprovalResult").append(new O.default(M.default,t).render())}var a=this.flow.flowDetail.tasks.filter(function(t){return t.id==e.id})[0];if(a&&a.countersign){var i=[];i.push({flowid:"Pass",flowName:"同意"}),i.push({flowid:"Deny",flowName:"不同意"}),$("#artificialApprovalResult").append(new O.default(M.default,i).render())}$(".result-btn-item").click(function(t){return e._selectApproveResult(t)})}},{key:"_renderApprovalOperatePlusIfNecessary",value:function(e,t){var a=this;if(e)return void u.default.getFlowNextApproverByConditionBranch({instanceId:this.id,flowId:t,success:function(e){$(".handle-save").addClass("active"),e=JSON.parse(e),a._renderNextApprover(e)},error:function(e){$(".handle-save").addClass("active")}});var i={};this.components.isEmpty()||(i=this.components.getValues()),i=JSON.stringify(i),u.default.getFlowNextApprovers({taskId:this.id,data:{formInstance:i},success:function(e){$(".handle-save").addClass("active"),e=JSON.parse(e),a._renderNextApprover(e)},error:function(e){$(".handle-save").addClass("active")}})}},{key:"_renderNextApprover",value:function(e){$("#handle-next-approver-container").html("");var t=["BackToFirst","Back","Deny"].indexOf($(".result-btn-item.active").data("id"))>-1;t||(this.flow.flowDetail.userTaskUsers=e.userTaskUsers,this.flow.flowDetail.circulationUsers=e.circulationUsers,this.flow.flowDetail.subAssignmentUsers=e.subAssignmentUsers,this.flow.flowDetail.userTaskUsers&&this.flow.flowDetail.userTaskUsers.length>0&&(this.flow.flowDetail.userTaskUsers.forEach(function(e){return e.title="请选择"+e.taskName+"节点审批人"}),this.nextApproverSelection=new z.default(this.flow.flowDetail.userTaskUsers),this.nextApproverSelection.renderTo($("#handle-next-approver-container"))),this.flow.flowDetail.circulationUsers&&this.flow.flowDetail.circulationUsers.length>0&&(this.flow.flowDetail.circulationUsers.forEach(function(e){return e.title="请选择下节点传阅对象"}),this.nextCirculationSelection=new z.default(this.flow.flowDetail.circulationUsers),this.nextCirculationSelection.renderTo($("#handle-next-circulation-container"))),this.flow.flowDetail.subAssignmentUsers&&this.flow.flowDetail.subAssignmentUsers.length>0&&(this.subProcess=new L.default(this.flow.flowDetail.subAssignmentUsers[0]),this.subProcess.renderTo($("#handle-sub-process-container"))))}},{key:"_handleSave",value:function(e){$(e.target).hasClass("active")&&this._submit()}},{key:"_handleSubmit",value:function(e){$(e.target).hasClass("active")&&($("#handle-deny").hasClass("active")&&(this.finished=!0),this._submit())}},{key:"_handleNextApprover",value:function(e){var t=this;if($(e.target).hasClass("active")){var a={single:!0,tips:"最多选择一个"};new w.default(a).show(function(e){t.approver=e[0].id,t._submit()})}}},{key:"_handleFinish",value:function(e){$(e.target).hasClass("active")&&(this.finished=!0,this._submit())}},{key:"_submit",value:function(){var e=this,t=["BackToFirst","Back","Deny"].indexOf($(".result-btn-item.active").data("id"))>-1;if(!this.components.isEmpty()&&!t){var a=this.components.validate();if(!a.pass)return void new v.default(a.msg).show()}var i=void 0;return t||(this.nextApproverSelection&&(i=this.nextApproverSelection.validate()),this.nextCirculationSelection&&(i=this.nextCirculationSelection.validate()),this.subProcess&&(i=this.subProcess.validate()),!i||i.pass)?this.handleMark?void 0:(this.handleMark=!0,window.ANDROID_BACK_EVENT=function(){console.log("android back event")},this.loading.show(),!this.attachment&&this.imageBase64Content?void u.default.uploadImageOfBase64({data:{base64Code:this.imageBase64Content,decode:!0},success:function(t){e.attachment=t.mediaId,e._submitApprove()},error:function(t){e.loading.hide(),new v.default("上传签字失败").show()}}):void this._submitApprove()):void new v.default(i.msg).show()}},{key:"_submitApprove",value:function(){var e=this,a={comment:$("#flow-comment-textarea").val(),processResult:$(".result-btn-item.active").data("id"),attachment:this.attachment,approver:this.approver,finished:this.finished||!1,files:JSON.stringify(this.files),itemName:$(".result-btn-item.active").text()};this.components.isEmpty()||(a.formInstance=F(this.components.getValues(),this.flow.flowDetail.formInstance),a.snapshoot=R(this.components.getSnapshoot(),this.flow.flowDetail.snapshoot));var i=["BackToFirst","Back","Deny"].indexOf($(".result-btn-item.active").data("id"))>-1;this.flow.flowDetail.manualFlows&&this.flow.flowDetail.manualFlows.length>0&&!i&&(a.processResult="Manual",a.flowId=$(".result-btn-item.active").data("id")),this.nextApproverSelection&&this.flow.flowDetail.userTaskUsers&&this.flow.flowDetail.userTaskUsers.length>0&&(a.userTaskUsers=this.nextApproverSelection.getValue()),this.nextCirculationSelection&&this.flow.flowDetail.circulationUsers&&this.flow.flowDetail.circulationUsers.length>0&&(a.circulationUsers=this.nextCirculationSelection.getValue()),this.subProcess&&this.flow.flowDetail.subAssignmentUsers&&this.flow.flowDetail.subAssignmentUsers.length>0&&(a.subAssignmentUsers=this.subProcess.getValue()),u.default.approve({id:this.id,processType:this.type,data:a,success:function(a){return new v.default("处理成功").show(),e.flow.type?void setTimeout(function(){return x.default.logout()},500):(C.default.publish("updateUnreadNum"),C.default.publish("updateTodoList",e.flow.cid),C.default.publish("backToList"),void l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e))},complete:function(){e.loading.hide(),window.ANDROID_BACK_EVENT=null,e.handleMark=!1},error:function(a){var i=JSON.parse(a.responseText);return i.code&&4005==i.code?(new v.default("处理成功").show(),e.flow.type?void setTimeout(function(){return x.default.logout()},1e3):(C.default.publish("updateUnreadNum"),C.default.publish("updateTodoList",e.flow.cid),C.default.publish("backToList"),void l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e))):i.code&&4006==i.code?void bpmApp.alert("找不到符合条件的分支节点，流程异常结束","",function(){C.default.publish("updateUnreadNum"),C.default.publish("updateTodoList",e.flow.cid),C.default.publish("backToList"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e);
}):void new v.default("处理失败").show()}})}},{key:"_selectApproveResult",value:function(e){var t=$(e.target).data("id");if("SignPass"!=t){$(".handle-signature").hide(),$("#signature-img").attr("src",""),$(".result-btn-item.active").removeClass("active"),$(e.target).addClass("active"),"Pass"!=t&&"SignPass"!=t||($(".handle-next-approver").addClass("active"),$(".handle-finsih").addClass("active"),$(".handle-submit").removeClass("active")),"BackToFirst"!=t&&"Back"!=t&&"Deny"!=t||($(".handle-submit").addClass("active"),$(".handle-next-approver").removeClass("active"),$(".handle-finsih").removeClass("active")),this.imageBase64Content=null,this.attachment=null;var a=["BackToFirst","Back","Deny"].indexOf($(".result-btn-item.active").data("id"))>-1;return $("#handle-next-approver-container").html(""),$("#handle-sub-process-container").html(""),$("#handle-next-circulation-container").html(""),this.nextApproverSelection=null,this.nextCirculationSelection=null,this.subProcess=null,a?void $(".handle-save").addClass("active"):($(".handle-save").removeClass("active"),void this._renderApprovalOperatePlusIfNecessary($(e.target).data("manual"),t))}}},{key:"_showSignature",value:function(){this.signature=new y.default,this.signature.show(this._showSignatureResult.bind(this))}},{key:"_showSignatureResult",value:function(e){var t=this;$(".result-btn-item.active").removeClass("active"),$("#signature-btn").addClass("active"),$(".handle-save").addClass("active"),$(".handle-next-approver").addClass("active"),$(".handle-finsih").addClass("active"),$(".handle-submit").removeClass("active"),$(".handle-signature").show(),$("#signature-img").attr("src",e),this.imageBase64Content=e.substring(22),u.default.uploadImageOfBase64({data:{base64Code:this.imageBase64Content,decode:!0},success:function(e){t.attachment=e.mediaId}})}},{key:"_addAttachment",value:function(){var e=this;x.default.chooseFiles().then(function(t){e.files.length+t.length>5&&(t=t.slice(0,5-e.files.length)),B(t),e.files=e.files.concat(t),5==e.files.length&&$(".approval-attachment-btn").hide(),$("#approval-attachment-result").append(new O.default(S.default,t).render()),t.forEach(function(t){$("#swipeout"+t.mediaId).on("deleted",function(t){return e._removeAttachment(t)})})})}},{key:"_removeAttachment",value:function(e){5==this.files.length&&$(".approval-attachment-btn").css("display","flex");var t=$(e.target).data("id"),a=this.files.filter(function(e){return e.mediaId==t});this.files.splice(this.files.indexOf(a[0]),1)}}]),t}(d.default);t.default=V},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c),p=a(12),u=i(p);a(90);var f=a(3),h=i(f),m=a(11),v=i(m),g=a(4),y=i(g),b=a(6),w=i(b),_=a(10),C=i(_),k=a(25),x=i(k),T=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.flow=e,a._initForms(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",a).call(a,{"click #launch-save":a._save.bind(a),"click #launch-submit":a._submit.bind(a)}),a.launchMark=!1,a}return o(t,e),s(t,[{key:"_initForms",value:function(){var e=this;if(this.flow.resubmit||this.flow.edit){if(this.flow.formSettings.filterEditableAndDisplay=!0,this.components=new u.default(this.flow.components,this.flow.formSettings),this.components.renderTo("#launch-from"),this.flow.resubmit){var t={};this.components.isEmpty()||(t=this.components.getValues()),t=JSON.stringify(t),y.default.getFlowNextApprovers({taskId:this.flow.taskId,data:{formInstance:t},success:function(t){t=JSON.parse(t),e.flow.processDefinition={userTaskUser:t.userTaskUsers[0],subAssignmentUser:t.subAssignmentUsers[0],circulationUser:t.circulationUsers[0]}},error:function(e){new h.default("获取流程详情失败").show()}})}}else y.default.getFlowForms({id:this.flow.id,processType:this.flow.processType,success:function(t){var a=JSON.parse(t),i=JSON.parse(a.formSettings);i&&(i.filterEditableAndDisplay=!0);var n=a.formDef;if(n){var r=JSON.parse(n).components;e.components=new u.default(r,i),e.components.renderTo("#launch-from"),e.flow.processDefinition=a}},error:function(e){new h.default("获取流程表单失败").show()}})}},{key:"_save",value:function(){var e=this,a=this.components.validate();return a.pass?void this._handle(!0,"保存",function(a){e.flow.edit&&Event.publish("updateFlowDraft"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)}):void new h.default(a.msg).show()}},{key:"_submit",value:function(){var e=this,a=this.components.validate();return a.pass?"Free"==this.flow.processType?void new C.default({single:!0,tips:"最多选择一个"}).show(function(a){e.approver=a[0].id,e._handle(!1,"发起",function(a){e.approver==w.default.getCurrentUserId()&&Event.publish("updateUnreadNum"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)})}):this.flow.processDefinition.userTaskUser||this.flow.processDefinition.subAssignmentUser||this.flow.processDefinition.circulationUser?void new x.default(this.flow.processDefinition).show(function(a){e.launchPlusData=a,e._handle(!1,"发起",function(a){Event.publish("updateUnreadNum"),Event.publish("updateTodoList",e.flow.cid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)})}):void this._handle(!1,"发起",function(a){Event.publish("updateUnreadNum"),Event.publish("updateTodoList",e.flow.cid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",e).call(e)}):void new h.default(a.msg).show()}},{key:"_handle",value:function(e,a,i){var n=this;if(!this.launchMark){this.launchMark=!0,this.loading=new v.default,this.loading.show();var r={id:this.flow.id,processType:this.flow.processType,data:{formInstance:JSON.stringify(this.components.getValues()),orgId:this.flow.orgId,approver:this.approver,snapshoot:JSON.stringify(this.components.getSnapshoot())},success:function(e){new h.default("流程"+a+"成功").showSuccess(),i()},complete:function(){return n.loading.hide()},error:function(e){var i=JSON.parse(e.responseText);return i.code&&4005==i.code?void bpmApp.alert("系统无法找到对应审批人，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",n).call(n)}):i.code&&4006==i.code?void bpmApp.alert("找不到符合条件的分支节点，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",n).call(n)}):(new h.default("流程"+a+"失败").showFail(),void(n.launchMark=!1))}};return this.launchPlusData&&(this.launchPlusData.userTaskUsers&&(r.data.userTaskUsers=this.launchPlusData.userTaskUsers),this.launchPlusData.circulationUsers&&(r.data.circulationUsers=this.launchPlusData.circulationUsers),this.launchPlusData.subAssignmentUsers&&(r.data.subAssignmentUsers=this.launchPlusData.subAssignmentUsers)),e?this.flow.edit?(r.id=this.flow.draftId,void y.default.updateFlowDraft(r)):void y.default.saveFlowDarft(r):this.flow.edit?void y.default.updateFlowDraft({id:this.flow.draftId,data:{formInstance:JSON.stringify(this.components.getValues()),orgId:this.flow.orgId,snapshoot:JSON.stringify(this.components.getSnapshoot())},success:function(e){y.default.submitFlowDraft({id:n.flow.draftId,data:{action:"submit",approver:n.approver},success:function(e){Event.publish("removeFlowDraftSuccess",n.flow.cid),Event.publish("flowDraftSubmited"),new h.default("流程"+a+"成功").showSuccess(),i()},complete:function(){return n.loading.hide()},error:function(e){var i=JSON.parse(e.responseText);return i.code&&4005==i.code?void bpmApp.alert("系统无法找到对应审批人，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",n).call(n)}):i.code&&4006==i.code?void bpmApp.alert("找不到符合条件的分支节点，请联系管理员","",function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",n).call(n)}):(new h.default("流程"+a+"失败").showFail(),void(n.launchMark=!1))}})},error:function(e){n.loading.hide(),new h.default("流程"+a+"失败").showFail(),n.launchMark=!1}}):this.flow.resubmit?void y.default.approve({id:this.flow.taskId,processType:this.flow.processType,data:{processResult:"Resubmit",approver:this.approver,finished:!1,formInstance:JSON.stringify(this.components.getValues()),snapshoot:JSON.stringify(this.components.getSnapshoot())},success:function(e){return n.flow.resubmit&&(Event.publish("backToList"),Event.publish("updateUnreadNum"),Event.publish("updateTodoList",n.flow.taskId)),new h.default("流程"+a+"成功").showSuccess(),n.flow.fromMessage?void setTimeout(function(){return w.default.logout()},1e3):void i()},complete:function(){return n.loading.hide()},error:function(e){new h.default("流程"+a+"失败").showFail(),n.launchMark=!1}}):void y.default.launchFlow(r)}}}]),t}(d.default);t.default=T},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=a(17),c=i(l),d=a(18),p=i(d),u=a(4),f=i(u),h=a(3),m=i(h),v=a(2),g=i(v),y=a(15),b=i(y),w=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.approvingListStart=e.defaultStart,e.approvingListSize=e.defaultSize,e.approvingQueryListStart=e.defaultStart,e.approvingQueryListSize=e.defaultSize,e.finishedListStart=e.defaultStart,e.finishedListSize=e.defaultSize,e.finishedQueryListStart=e.defaultStart,e.finishedQueryListSize=e.defaultSize,e.draftListStart=e.defaultStart,e.draftListSize=e.defaultSize,e.draftQueryListStart=e.defaultStart,e.draftQueryListSize=e.defaultSize,e._initApprovingList(),e._listenEvent(),e}return o(t,e),s(t,[{key:"_initApprovingList",value:function(){var e=this;this.approvingListFinished||(this.loading=!0,f.default.getMyFlowsByApproving({startIndex:this.approvingListStart,size:this.approvingListSize,success:function(t){return t=JSON.parse(t),t.data?(e.renderList(t.data,"#launch-pending",e._initApprovingList),e.approvingListStart=e.handleListStartSize(t.data,e.approvingListStart,e.approvingListSize),void(t.data.length<10&&(e.approvingListFinished=!0))):(0==e.approvingListStart&&($("#launch-pending").html(""),$("#launch-pending").append(p.default)),e.approvingListFinished=!0,void $("#launch-pending-loading").hide())},complete:function(){return e.loading=!1},error:function(e){new m.default("获取我的待办列表失败").show()}}))}},{key:"_queryApprovingList",value:function(){var e=this;this.approvingQueryListFinished||(this.queryLoading=!0,f.default.getMyFlowsByApproving({startIndex:this.approvingQueryListStart,size:this.approvingQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(e.renderQueryList(t.data),e.approvingQueryListStart=e.handleListStartSize(t.data,e.approvingQueryListStart,e.approvingQueryListSize),void(t.data.length<10&&(e.approvingQueryListFinished=!0))):(0!=e.approvingQueryListStart||e.approvingQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(b.default)),e.approvingQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new m.default("搜索列表失败").show()}}))}},{key:"_initFinishedList",value:function(){var e=this;this.finishedListFinished||(this.loading=!0,this.finishedListInited=!0,f.default.getMyFlowsByFinished({startIndex:this.finishedListStart,size:this.finishedListSize,success:function(t){return t=JSON.parse(t),t.data?(e.renderList(t.data,"#launch-finished",e._initFinishedList),e.finishedListStart=e.handleListStartSize(t.data,e.finishedListStart,e.finishedListSize),void(t.data.length<10&&(e.finishedListFinished=!0))):(0==e.finishedListStart&&($("#launch-finished").html(""),$("#launch-finished").append(p.default)),e.finishedListFinished=!0,void $("#launch-finished-loading").hide())},complete:function(){return e.loading=!1},error:function(e){new m.default("获取审批中列表失败").show()}}))}},{key:"_queryFinishedList",value:function(){var e=this;this.finishedQueryListFinished||(this.queryLoading=!0,f.default.getMyFlowsByFinished({startIndex:this.finishedQueryListStart,size:this.finishedQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(e.renderQueryList(t.data),e.finishedQueryListStart=e.handleListStartSize(t.data,e.finishedQueryListStart,e.finishedQueryListSize),void(t.data.length<10&&(e.finishedQueryListFinished=!0))):(0!=e.finishedQueryListStart||e.finishedQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(b.default)),e.finishedQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new m.default("搜索列表失败").show()}}))}},{key:"_initDraftList",value:function(){var e=this;this.draftListFinished||(this.loading=!0,this.draftListInited=!0,f.default.getFlowsByDraft({startIndex:this.draftListStart,size:this.draftListSize,success:function(t){if(t=JSON.parse(t),!t.data)return 0==e.draftListStart&&($("#launch-draft").html(""),$("#launch-draft").append(p.default)),e.draftListFinished=!0,void $("#launch-draft-loading").hide();var a=t.data.filter(function(e){if(null!=e.processDefinition)return e.isDraft=!0,e});e.renderList(a,"#launch-draft",e._initDraftList),e.draftListStart=e.handleListStartSize(t.data,e.draftListStart,e.draftListSize),t.data.length<10&&(e.draftListFinished=!0)},complete:function(){return e.loading=!1},error:function(e){new m.default("获取草稿列表失败").show()}}))}},{key:"_queryDraftList",value:function(){var e=this;this.draftQueryListFinished||(this.queryLoading=!0,f.default.getFlowsByDraft({startIndex:this.draftQueryListStart,size:this.draftQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(e.renderQueryList(t.data),e.draftQueryListStart=e.handleListStartSize(t.data,e.draftQueryListStart,e.draftQueryListSize),void(t.data.length<10&&(e.draftQueryListFinished=!0))):(0!=e.draftQueryListStart||e.draftQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(b.default)),e.draftQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new m.default("搜索列表失败").show()}}))}},{key:"_listenEvent",value:function(){var e=this;$("#tab-approving").on("tab:show",function(t){e._loadingMore=e._initApprovingList,e.queryList=e._queryApprovingList,$("#launch-list-search").show()}),$("#tab-finished").on("tab:show",function(t){e.finishedListInited||(e._initFinishedList(),e.loading=!1),e._loadingMore=e._initFinishedList,e.queryList=e._queryFinishedList,$("#launch-list-search").show()}),$("#tab-draft").on("tab:show",function(t){e.draftListInited||(e._initDraftList(),e.loading=!1),e._loadingMore=e._initDraftList,e.queryList=e._queryDraftList,$("#launch-list-search").hide(),$("#launch-list-search").css("margin-top","-50px"),$("#launch-list-search").css("margin-bottom","0px"),$("#launch-list-search").data("id",0)}),g.default.subscribe("removeFlowDraftSuccess",function(e){$("#flow-list-item"+e).remove(),0==$("#launch-draft .flow-list-item").length&&$("#launch-draft").append(p.default)}),g.default.subscribe("revokeFlowSuccess",function(e){$("#flow-list-item"+e).remove(),0==$("#launch-draft .flow-list-item").length&&$("#launch-draft").append(p.default)}),this.listenListScroll("#launch-list-search"),this.queryList=this._queryApprovingList}}]),t}(c.default);t.default=w},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=a(17),c=i(l),d=a(18),p=i(d),u=a(4),f=i(u),h=a(2),m=i(h),v=a(15),g=i(v),y=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.unreadListStart=e.defaultStart,e.unreadListSize=e.defaultSize,e.unreadQueryListStart=e.defaultStart,e.unreadQueryListSize=e.defaultSize,e.readListStart=e.defaultStart,e.readListSize=e.defaultSize,e.readQueryListStart=e.defaultStart,e.readQueryListSize=e.defaultSize,e._initUnreadList(),e._listenTabEvent(),e}return o(t,e),s(t,[{key:"_initUnreadList",value:function(){var e=this;this.unreadListFinished||(this.loading=!0,f.default.getFlowByUnread({startIndex:this.unreadListStart,size:this.unreadListSize,success:function(t){return t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.from="Circulation",e.unread=!0}),e.renderList(t.data,"#notify-list-unread",e._initUnreadList),e.unreadListStart=e.handleListStartSize(t.data,e.unreadListStart,e.unreadListSize),void(t.data.length<10&&(e.unreadListFinished=!0))):(0==e.unreadListStart&&($("#notify-list-unread").html(""),$("#notify-list-unread").append(p.default)),e.unreadListFinished=!0,void $("#notify-list-unread-loading").hide())},complete:function(){return e.loading=!1},error:function(e){$("#notify-list-unread").append(p.default)}}))}},{key:"_queryUnreadList",value:function(){var e=this;this.unreadQueryListFinished||(this.queryLoading=!0,f.default.getFlowByUnread({startIndex:this.unreadQueryListStart,size:this.unreadQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.from="Circulation"}),e.renderQueryList(t.data),e.unreadQueryListStart=e.handleListStartSize(t.data,e.unreadQueryListStart,e.unreadQueryListSize),void(t.data.length<10&&(e.unreadQueryListFinished=!0))):(0!=e.unreadQueryListStart||e.unreadQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(g.default)),e.unreadQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new Toast("搜索列表失败").show()}}))}},{key:"_handleNotify",value:function(e){$("#flow-list-item"+e).length>0&&($("#flow-list-item"+e).remove(),0==$("#notify-list-unread .flow-list-item").length&&$("#notify-list-unread").append(p.default),this._initReadList(),m.default.publish("updateUnreadNum"))}},{key:"_initReadList",value:function(){var e=this;this.readListFinished||(this.loading=!0,f.default.getFlowByRead({startIndex:this.readListStart,size:this.readListSize,success:function(t){return t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.from="Circulation"}),e.renderList(t.data,"#notify-list-read",e._initReadList),e.readListStart=e.handleListStartSize(t.data,e.readListStart,e.readListSize),void(t.data.length<10&&(e.readListFinished=!0))):(0==e.readListStart&&($("#notify-list-read").html(""),$("#notify-list-read").append(p.default)),e.readListFinished=!0,void $("#notify-list-read-loading").hide())},complete:function(){return e.loading=!1},error:function(e){$("#notify-list-read").append(p.default)}}),this.readListInited=!0)}},{key:"_queryReadList",value:function(){var e=this;this.readQueryListFinished||(this.queryLoading=!0,f.default.getFlowByRead({startIndex:this.readQueryListStart,size:this.readQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.from="Circulation"}),e.renderQueryList(t.data),e.readQueryListStart=e.handleListStartSize(t.data,e.readQueryListStart,e.readQueryListSize),void(t.data.length<10&&(e.readQueryListFinished=!0))):(0!=e.readQueryListStart||e.readQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(g.default)),e.readQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new Toast("搜索列表失败").show()}}))}},{key:"_listenTabEvent",value:function(){var e=this;$("#tab-read").on("tab:show",function(t){e.readListInited||(e._initReadList(),e.loading=!1),e._loadingMore=e._initReadList,e.queryList=e._queryReadList}),$("#tab-unread").on("tab:show",function(t){e._loadingMore=e._initUnreadList,e.queryList=e._queryUnreadList}),this.listenListScroll("#notify-list-search"),this.queryList=this._queryUnreadList}}]),t}(c.default);t.default=y},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(9),d=i(c);a(92);var p=a(149),u=i(p),f=a(150),h=i(f),m=a(4),v=i(m),g=a(10),y=i(g),b=a(13),w=i(b),_=a(1),C=i(_),k=a(3),x=i(k),T=a(11),S=i(T),P=6e4,O=60*P,I=24*O,D=function(e){var t=e.match(/(\d+)/g),a=new Date(t[0],t[1]-1,t[2],t[3],t[4]),i=new Date;if(a>i)return"0天0时0分";var n=parseInt(Math.abs(i-a)/I),r=parseInt((Math.abs(i-a)-n*I)/O),o=parseInt((Math.abs(i-a)-n*I-r*O)/P);return n+"天"+r+"时"+o+"分"},E=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._init(),e.loading=new S.default,e}return o(t,e),s(t,[{key:"_init",value:function(){var e=this;v.default.getDelegations({success:function(t){return e.data=JSON.parse(t).data,e.data?(e.data.forEach(function(e){e.id=""+e.organization.id+e.role.id,e.fromDate&&(e.proxyDuration=D(e.fromDate))}),$("#tab-proxy").append(new C.default(h.default,e.data).render()),void e._bindEvent()):void $("#tab-proxy").append(u.default)},error:function(e){new x.default("获取代理列表失败").show()}})}},{key:"_bindEvent",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",this).call(this,{"click .proxy-select-employee":this._selectEmployee.bind(this),"click .proxy-start-time":this._showDatePicker.bind(this),"click .proxy-start-btn":this._settingProxy.bind(this),"click .proxy-cancel-btn":this._cancelProxy.bind(this)})}},{key:"_selectEmployee",value:function(e){var t=this,a=$(e.target).data("id"),i={single:!0,tips:"最多选择一个"};new y.default(i).show(function(i){var n=i[0];$(e.target).val(n.name),t._getProxy(a).employee=n,t._checkProxyInputIsFinish(a)})}},{key:"_showDatePicker",value:function(e){var t=this,a=$(e.target).data("id");this.picker=new w.default("date_time"),this.picker.show(function(i){$(e.target).val(i.value),t._getProxy(a).fromDate=i.value,t._checkProxyInputIsFinish(a)})}},{key:"_checkProxyInputIsFinish",value:function(e){$("#proxy-select-employee"+e).val()&&$("#proxy-start-time"+e).val()&&$("#proxy-btn"+e).addClass("active")}},{key:"_getProxy",value:function(e){return this.data.filter(function(t){return t.id==e})[0]}},{key:"_settingProxy",value:function(e){var t=this,a=$(e.target).data("id"),i=this._getProxy(a);return i.employee?i.fromDate?(this.loading.show(),void v.default.addDelegation({data:{orgId:i.organization.id,roleId:i.role.id,agentId:i.employee.id,fromDate:i.fromDate+":00"},success:function(e){new x.default("设置代理成功").showSuccess(),t._settingProxySuccess(i)},complete:function(){return t.loading.hide()},error:function(e,t){new x.default("开始代理失败, 请重试").showFail()}})):void new x.default("请选择开始时间").show():void new x.default("请选择人员").show()}},{key:"_settingProxySuccess",value:function(e){var t=this;e.delegater={id:e.employee.id,name:e.employee.name},e.proxyDuration=D(e.fromDate),$("#proxy"+e.id).remove(),$("#proxy-line"+e.id).remove(),$("#tab-proxy").append(new C.default(h.default,[e]).render()),$("#proxy-cancel-btn"+e.id).click(function(e){return t._cancelProxy(e)})}},{key:"_cancelProxy",value:function(e){var t=this,a=$(e.target).data("id"),i=this._getProxy(a);this.loading.show(),v.default.cancelDelegation({orgId:i.organization.id,roleId:i.role.id,success:function(e){new x.default("取消代理成功").showSuccess(),t._cancelProxySuccess(i)},complete:function(){return t.loading.hide()},error:function(e,t){new x.default("取消代理失败, 请重试").showFail()}})}},{key:"_cancelProxySuccess",value:function(e){var t=this;delete this._getProxy(e.id).employee,delete this._getProxy(e.id).fromDate,e.delegater=null,$("#proxy"+e.id).remove(),$("#proxy-line"+e.id).remove(),$("#tab-proxy").append(new C.default(h.default,[e]).render()),$("#proxy-select-employee"+e.id).click(function(e){return t._selectEmployee(e)}),$("#proxy-start-time"+e.id).click(function(e){return t._showDatePicker(e)}),$("#proxy-btn"+e.id).click(function(e){return t._settingProxy(e)})}}]),t}(d.default);t.default=E},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=a(17),c=i(l),d=a(4),p=i(d),u=a(151),f=i(u),h=a(18),m=i(h),v=a(58),g=i(v),y=a(3),b=i(y),w=a(2),_=i(w),C=a(15),k=i(C),x=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.pendingListStart=e.defaultStart,e.pendingListSize=e.defaultSize,e.pendingQueryListStart=e.defaultStart,e.pendingQueryListSize=e.defaultSize,e.approvedListStart=e.defaultStart,e.approvedListSize=e.defaultSize,e.approvedQueryListStart=e.defaultStart,e.approvedQueryListSize=e.defaultSize,e._initPendingList(),e._listenEvent(),e}return o(t,e),s(t,[{key:"_initPendingList",value:function(e){var t=this;this.pendingListFinished||(this.loading=!0,p.default.getFlowsByPending({startIndex:this.pendingListStart,size:this.pendingListSize,success:function(e){return e=JSON.parse(e),e.data?(e.data.forEach(function(e){e.fromTodo=!0,e.fromApproved=!1,e.cid=""+e.id+Date.now()}),t.renderList(e.data,"#todo-pending",t._initPendingList),t.pendingListStart=t.handleListStartSize(e.data,t.pendingListStart,t.pendingListSize),void(e.data.length<10&&(t.pendingListFinished=!0))):(0==t.pendingListStart&&($("#todo-pending").html(""),$("#todo-pending").append(f.default)),t.pendingListFinished=!0,void $("#todo-pending-loading").hide())},complete:function(){return t.loading=!1},error:function(e){new b.default("获取我的待办列表失败").show()}}))}},{key:"_queryPendingList",value:function(){var e=this;this.pendingQueryListFinished||(this.queryLoading=!0,p.default.getFlowsByPending({startIndex:this.pendingQueryListStart,size:this.pendingQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.fromTodo=!0,e.fromApproved=!1,e.cid=""+e.id+Date.now()}),e.renderQueryList(t.data),e.pendingQueryListStart=e.handleListStartSize(t.data,e.pendingQueryListStart,e.pendingQueryListSize),void(t.data.length<10&&(e.pendingQueryListFinished=!0))):(0!=e.pendingQueryListStart||e.pendingQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(k.default)),e.pendingQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new b.default("搜索列表失败").show()}}))}},{key:"_initApprovedList",value:function(){var e=this;this.approvedListFinished||(this.loading=!0,p.default.getFlowsByApproved({startIndex:this.approvedListStart,size:this.approvedListSize,success:function(t){return t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.fromTodo=!1,e.fromApproved=!0,e.cid=""+e.id+Date.now()}),e.renderList(t.data,"#todo-approved",e._initApprovedList),e.approvedListStart=e.handleListStartSize(t.data,e.approvedListStart,e.approvedListSize),void(t.data.length<10&&(e.approvedListFinished=!0))):(0==e.approvedListStart&&($("#todo-approved").html(""),$("#todo-approved").append(m.default)),e.approvedListFinished=!0,void $("#todo-approved-loading").hide())},complete:function(){return e.loading=!1},error:function(e){new b.default("获取我的已办列表失败").show()}}),this.approvedListInited=!0)}},{key:"_queryApprovedList",value:function(){var e=this;this.approvedQueryListFinished||(this.queryLoading=!0,p.default.getFlowsByApproved({startIndex:this.approvedQueryListStart,size:this.approvedQueryListSize,nameLike:this.query,success:function(t){return $(".query-result-list").show(),$(".tabs").hide(),t=JSON.parse(t),t.data?(t.data.forEach(function(e){e.fromTodo=!1,e.fromApproved=!0,e.cid=""+e.id+Date.now()}),e.renderQueryList(t.data),
e.approvedQueryListStart=e.handleListStartSize(t.data,e.approvedQueryListStart,e.approvedQueryListSize),void(t.data.length<10&&(e.approvedQueryListFinished=!0))):(0!=e.approvedQueryListStart||e.approvedQueryListFinished||($("#query-result-list").html(""),$("#query-result-list").append(k.default)),e.approvedQueryListFinished=!0,void $("#query-result-list-loading").hide())},complete:function(){return e.queryLoading=!1},error:function(e){new b.default("搜索列表失败").show()}}))}},{key:"_listenEvent",value:function(){var e=this;$("#tab-pending").on("tab:show",function(t){e._loadingMore=e._initPendingList,e.queryList=e._queryPendingList,$("#todo-list-search").show()}),$("#tab-approved").on("tab:show",function(t){e.approvedListInited||(e._initApprovedList(),e.loading=!1),e._loadingMore=e._initApprovedList,e.queryList=e._queryApprovedList,$("#todo-list-search").show()}),$("#tab-proxy").on("tab:show",function(t){e.proxy||(e.proxy=new g.default),e._loadingMore=function(){return console.log("this tab is proxy")},$("#todo-list-search").hide(),$("#todo-list-search").css("margin-top","-50px"),$("#todo-list-search").css("margin-bottom","0px"),$("#todo-list-search").data("id",0)}),_.default.subscribe("updateTodoList",function(e){$("#flow-list-item"+e).remove(),0==$("#todo-pending .flow-list-item").length&&$("#todo-pending").append(f.default)}),_.default.subscribe("revokeFlowSuccess",function(e){$("#flow-list-item"+e).remove(),0==$("#todo-pending .flow-list-item").length&&$("#todo-pending").append(f.default)}),this.listenListScroll("#todo-list-search"),this.queryList=this._queryPendingList}}]),t}(c.default);t.default=x},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),l=function e(t,a,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=a(35),d=i(c),p=a(9),u=i(p),f=a(40),h=i(f),m=a(6),v=i(m),g=a(4),y=i(g),b=a(3),w=i(b),_=a(2),C=i(_),k=a(7),x=i(k),T=function(e){if(v.default.getCurrentUserInfo().employee.positions&&v.default.getCurrentUserInfo().employee.positions.length>1){var t=!1;return v.default.getCurrentUserInfo().employee.positions.forEach(function(a){a.org_id==e&&(t=!0)}),t}return!1},S=function(){return v.default.getCurrentUserInfo().employee.org_code+"ORG_ID"},P=function(e){if(e)return e;var t=window.localStorage.getItem(S());return t&&T(t)?t:v.default.getCurrentUserInfo().employee.positions[0].org_id},O=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._initPosition(),e._initFlow(),e._initUnread(),e._bindEvent(),C.default.subscribe("updateUnreadNum",function(){e._initUnread()}),e}return o(t,e),s(t,[{key:"_initPosition",value:function(){var e=this,t=v.default.getCurrentUserInfo().employee.positions;this.position=new h.default(t),this.position.render(),this.position.listenSwitch(function(t){return e._initFlow(t)})}},{key:"_initFlow",value:function(e){var t=this;this.orgId=P(e),y.default.getMyFlowList({orgId:this.orgId,success:function(e){return e=JSON.parse(e),e.data?void t._initGrid(e.data):void $("#bpm-grid").html("")},complete:function(){return C.default.publish("pageInited")},error:function(e){new w.default("获取我的流程列表失败").show()}})}},{key:"_initGrid",value:function(e){var t=this;e.forEach(function(e){e.name=x.default.escape(e.name)}),this.packageMediaURL(e),this.flowList=e,$("#bpm-grid").html(""),new d.default(e).renderTo("#bpm-grid"),$(".grid-item").click(function(e){return t._startFlow(e)})}},{key:"_startFlow",value:function(e){var a=$(e.target).data("id"),i=this.flowList.filter(function(e){return e.id==a}),n=i[0];n.orgId=this.orgId,C.default.init(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"routeTo",this).call(this,"pages/flow_launch.html",n)}},{key:"_initUnread",value:function(){y.default.getTodoNotifyUnreadNum({success:function(e){e.pendingCount>0&&($("#todo-unread").text(e.pendingCount),$("#todo-unread").css("display","inline-block")),0==e.pendingCount&&$("#todo-unread").css("display","none"),e.circulationCount>0&&($("#notify-unread").text(e.circulationCount),$("#notify-unread").css("display","inline-block")),0==e.circulationCount&&$("#notify-unread").css("display","none")},error:function(e){}})}},{key:"_bindEvent",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",this).call(this,{"click .index-back":v.default.logout})}}]),t}(u.default);t.default=O},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=a(55),s=i(o),l=a(59),c=i(l),d=a(56),p=i(d),u=a(57),f=i(u),h=a(24),m=i(h),v=a(53),g=i(v),y=a(54),b=i(y),w=function(){function e(){n(this,e),this.init()}return r(e,[{key:"init",value:function(){console.log("router init"),$(document).on("pageBeforeInit",function(e){var t=e.detail.page.name,a=e.detail.page.query;switch(t){case"launch":new s.default(a);break;case"resubmit":new s.default(a);break;case"detail":new m.default(a);break;case"todo-list":new c.default;break;case"launch-list":new p.default;break;case"notify-list":new f.default;break;case"comment":new g.default(a);break;case"handle":new b.default(a)}}),$(document).on("pageBeforeRemove",function(e){bpmApp.hideIndicator()})}}]),e}();t.default=w},function(e,t){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){window.Framework7=function(t){function i(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});o["onPage"+t]=function(t,a){return o.onPage(e,t,a)}}function n(){var e,t=l(this),a=t[0].scrollTop,i=t[0].scrollHeight,n=t[0].offsetHeight,r=t[0].getAttribute("data-distance"),o=t.find(".virtual-list"),s=t.hasClass("infinite-scroll-top");if(r||(r=50),"string"==typeof r&&r.indexOf("%")>=0&&(r=parseInt(r,10)/100*n),r>n&&(r=n),s)a<r&&t.trigger("infinite");else if(a+n>=i-r){if(o.length>0&&(e=o.eq(-1)[0].f7VirtualList,e&&!e.reachEnd&&!e.params.updatableScroll))return;t.trigger("infinite")}}function r(){o.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var o=this;o.version="1.5.0",o.params={root:"body",cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,routerRemoveTimeout:!1,routerRemoveWithTimeout:!1,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",pushStateOnLoad:!0,fastClicks:!0,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,fastClicksExclude:"",tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,showBarsOnPageScrollTop:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,swipeoutRemoveWithTimeout:!1,smartSelectOpenIn:"page",smartSelectBackText:"Back",smartSelectPopupCloseText:"Close",smartSelectPickerCloseText:"Done",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,scrollTopOnNavbarClick:!1,scrollTopOnStatusbarClick:!1,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",modalStack:!0,imagesLazyLoadThreshold:0,imagesLazyLoadSequential:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,notificationCloseButtonText:"Close",animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,material:!1,materialPageLoadDelay:0,materialPreloaderSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="75" width="75" viewbox="0 0 75 75"><circle cx="37.5" cy="37.5" r="33.5" stroke-width="8"/></svg>',materialPreloaderHtml:'<span class="preloader-inner"><span class="preloader-inner-gap"></span><span class="preloader-inner-left"><span class="preloader-inner-half-circle"></span></span><span class="preloader-inner-right"><span class="preloader-inner-half-circle"></span></span></span>',materialRipple:!0,materialRippleElements:".ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, a.floating-button, .floating-button > a, .speed-dial-buttons a",init:!0};for(var s in t)o.params[s]=t[s];var l=e,c=Template7;o._compiledTemplates={},o.root=l(o.params.root),o.root.eq(0).addClass("framework7-root"),o.touchEvents={start:o.support.touch?"touchstart":"mousedown",move:o.support.touch?"touchmove":"mousemove",end:o.support.touch?"touchend":"mouseup"},o.ls=window.localStorage,o.rtl="rtl"===l("body").css("direction"),o.rtl&&l("html").attr("dir","rtl"),"undefined"!=typeof o.params.statusbarOverlay?o.params.statusbarOverlay?l("html").addClass("with-statusbar-overlay"):l("html").removeClass("with-statusbar-overlay"):o.device.ios&&(window.cordova||window.phonegap)&&l(document).on("resume",function(){o.device.needsStatusBar()&&l("html").addClass("with-statusbar-overlay")},!1),o.views=[];var d=function(e,t){var a,i={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:o.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:o.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:o.params.allowDuplicateUrls,swipeBackPage:o.params.swipeBackPage,swipeBackPageAnimateShadow:o.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:o.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:o.params.swipeBackPageActiveArea,swipeBackPageThreshold:o.params.swipeBackPageThreshold,animatePages:o.params.animatePages,preloadPreviousPage:o.params.preloadPreviousPage};t=t||{},t.dynamicNavbar&&o.params.material&&(t.dynamicNavbar=!1);for(var n in i)"undefined"==typeof t[n]&&(t[n]=i[n]);var r=this;r.params=t,r.selector=e;var s=l(e);if(r.container=s[0],"string"!=typeof e&&(e=(s.attr("id")?"#"+s.attr("id"):"")+(s.attr("class")?"."+s.attr("class").replace(/ /g,".").replace(".active",""):""),r.selector=e),r.main=s.hasClass(o.params.viewMainClass),r.contentCache={},r.contextCache={},r.pagesCache={},r.pageElementsCache={},s[0].f7View=r,r.pagesContainer=s.find(".pages")[0],r.initialPages=[],r.initialPagesUrl=[],r.initialNavbars=[],r.params.domCache){var c=s.find(".page");for(a=0;a<c.length;a++)r.initialPages.push(c[a]),r.initialPagesUrl.push("#"+c.eq(a).attr("data-page"));if(r.params.dynamicNavbar){var d=s.find(".navbar-inner");for(a=0;a<d.length;a++)r.initialNavbars.push(d[a])}}r.allowPageChange=!0;var p=document.location.href;r.history=[];var u=p,f=o.params.pushStateSeparator,h=o.params.pushStateRoot;o.params.pushState&&r.main&&(h?u=h:f&&u.indexOf(f)>=0&&u.indexOf(f+"#")<0&&(u=u.split(f)[0]));var m,v;r.activePage||(m=l(r.pagesContainer).find(".page-on-center"),0===m.length&&(m=l(r.pagesContainer).find(".page:not(.cached)"),m=m.eq(m.length-1)),m.length>0&&(v=m[0].f7PageData)),r.params.domCache&&m?(r.url=s.attr("data-url")||r.params.url||"#"+m.attr("data-page"),r.pagesCache[r.url]=m.attr("data-page")):r.url=s.attr("data-url")||r.params.url||u,v&&(v.view=r,v.url=r.url,r.params.domCache&&r.params.dynamicNavbar&&!v.navbarInnerContainer&&(v.navbarInnerContainer=r.initialNavbars[r.initialPages.indexOf(v.container)]),r.activePage=v,m[0].f7PageData=v),r.url&&r.history.push(r.url);var g,y,b,w,_,C,k,x,T,S,P,O=!1,I=!1,D={},E=[],M=[],j=!0,L=[],A=[];if(r.handleTouchStart=function(e){j&&r.params.swipeBackPage&&!O&&!o.swipeoutOpenedEl&&r.allowPageChange&&(I=!1,O=!0,g=void 0,D.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,D.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),T=r.params.dynamicNavbar&&s.find(".navbar-inner").length>1)},r.handleTouchMove=function(e){if(O){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof g&&(g=!!(g||Math.abs(a-D.y)>Math.abs(t-D.x))),g||e.f7PreventSwipeBack||o.preventSwipeBack)return void(O=!1);if(!I){var i=!1;y=s.width();var n=l(e.target),c=n.hasClass("swipeout")?n:n.parents(".swipeout");c.length>0&&(!o.rtl&&c.find(".swipeout-actions-left").length>0&&(i=!0),o.rtl&&c.find(".swipeout-actions-right").length>0&&(i=!0)),E=n.is(".page")?n:n.parents(".page"),E.hasClass("no-swipeback")&&(i=!0),M=s.find(".page-on-left:not(.cached)");var d=D.x-s.offset().left>r.params.swipeBackPageActiveArea;if(d=o.rtl?D.x<s.offset().left-s[0].scrollLeft+y-r.params.swipeBackPageActiveArea:D.x-s.offset().left>r.params.swipeBackPageActiveArea,d&&(i=!0),0!==M.length&&0!==E.length||(i=!0),i)return void(O=!1);r.params.swipeBackPageAnimateShadow&&!o.device.android&&(S=E.find(".swipeback-page-shadow"),0===S.length&&(S=l('<div class="swipeback-page-shadow"></div>'),E.append(S))),T&&(L=s.find(".navbar-on-center:not(.cached)"),A=s.find(".navbar-on-left:not(.cached)"),_=L.find(".left, .center, .right, .subnavbar, .fading"),C=A.find(".left, .center, .right, .subnavbar, .fading"),o.params.animateNavBackIcon&&(k=L.find(".left.sliding .back .icon"),x=A.find(".left.sliding .back .icon"))),l(".picker-modal.modal-in").length>0&&o.closeModal(l(".picker-modal.modal-in"))}e.f7PreventPanelSwipe=!0,I=!0,e.preventDefault();var p=o.rtl?-1:1;b=(t-D.x-r.params.swipeBackPageThreshold)*p,b<0&&(b=0);var u=b/y,f={percentage:u,activePage:E[0],previousPage:M[0],activeNavbar:L[0],previousNavbar:A[0]};r.params.onSwipeBackMove&&r.params.onSwipeBackMove(f),s.trigger("swipeBackMove swipeback:move",f);var h=b*p,m=(b/5-y/5)*p;if(1===o.device.pixelRatio&&(h=Math.round(h),m=Math.round(m)),E.transform("translate3d("+h+"px,0,0)"),r.params.swipeBackPageAnimateShadow&&!o.device.android&&(S[0].style.opacity=1-1*u),M.transform("translate3d("+m+"px,0,0)"),r.params.swipeBackPageAnimateOpacity&&(M[0].style.opacity=.9+.1*u),T){var v;for(v=0;v<_.length;v++)if(P=l(_[v]),P.is(".subnavbar.sliding")||(P[0].style.opacity=1-1.3*u),P[0].className.indexOf("sliding")>=0){var w=u*P[0].f7NavbarRightOffset;1===o.device.pixelRatio&&(w=Math.round(w)),P.transform("translate3d("+w+"px,0,0)"),o.params.animateNavBackIcon&&P[0].className.indexOf("left")>=0&&k.length>0&&k.transform("translate3d("+-w+"px,0,0)")}for(v=0;v<C.length;v++)if(P=l(C[v]),P.is(".subnavbar.sliding")||(P[0].style.opacity=1.3*u-.3),P[0].className.indexOf("sliding")>=0){var j=P[0].f7NavbarLeftOffset*(1-u);1===o.device.pixelRatio&&(j=Math.round(j)),P.transform("translate3d("+j+"px,0,0)"),o.params.animateNavBackIcon&&P[0].className.indexOf("left")>=0&&x.length>0&&x.transform("translate3d("+-j+"px,0,0)")}}}},r.handleTouchEnd=function(e){if(!O||!I)return O=!1,void(I=!1);if(O=!1,I=!1,0===b)return l([E[0],M[0]]).transform("").css({opacity:"",boxShadow:""}),void(T&&(_.transform("").css({opacity:""}),C.transform("").css({opacity:""}),k&&k.length>0&&k.transform(""),x&&k.length>0&&x.transform("")));var t=(new Date).getTime()-w,a=!1;(t<300&&b>10||t>=300&&b>y/2)&&(E.removeClass("page-on-center").addClass("page-on-right"),M.removeClass("page-on-left").addClass("page-on-center"),T&&(L.removeClass("navbar-on-center").addClass("navbar-on-right"),A.removeClass("navbar-on-left").addClass("navbar-on-center")),a=!0),l([E[0],M[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),T&&(_.css({opacity:""}).each(function(){var e=a?this.f7NavbarRightOffset:0,t=l(this);t.transform("translate3d("+e+"px,0,0)"),o.params.animateNavBackIcon&&t.hasClass("left")&&k.length>0&&k.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),C.transform("").css({opacity:""}).each(function(){var e=a?0:this.f7NavbarLeftOffset,t=l(this);t.transform("translate3d("+e+"px,0,0)"),o.params.animateNavBackIcon&&t.hasClass("left")&&x.length>0&&x.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),j=!1,r.allowPageChange=!1;var i={activePage:E[0],previousPage:M[0],activeNavbar:L[0],previousNavbar:A[0]};if(a){var n=r.history[r.history.length-2];r.url=n,o.pageBackCallback("before",r,{pageContainer:E[0],url:n,position:"center",newPage:M,oldPage:E,swipeBack:!0}),o.pageAnimCallback("before",r,{pageContainer:M[0],url:n,position:"left",newPage:M,oldPage:E,swipeBack:!0}),r.params.onSwipeBackBeforeChange&&r.params.onSwipeBackBeforeChange(i),s.trigger("swipeBackBeforeChange swipeback:beforechange",i)}else r.params.onSwipeBackBeforeReset&&r.params.onSwipeBackBeforeReset(i),s.trigger("swipeBackBeforeReset swipeback:beforereset",i);E.transitionEnd(function(){l([E[0],M[0]]).removeClass("page-transitioning"),T&&(_.removeClass("page-transitioning").css({opacity:""}),C.removeClass("page-transitioning").css({opacity:""}),k&&k.length>0&&k.removeClass("page-transitioning"),x&&x.length>0&&x.removeClass("page-transitioning")),j=!0,r.allowPageChange=!0,a?(o.params.pushState&&r.main&&history.back(),o.pageBackCallback("after",r,{pageContainer:E[0],url:n,position:"center",newPage:M,oldPage:E,swipeBack:!0}),o.pageAnimCallback("after",r,{pageContainer:M[0],url:n,position:"left",newPage:M,oldPage:E,swipeBack:!0}),o.router.afterBack(r,E,M),r.params.onSwipeBackAfterChange&&r.params.onSwipeBackAfterChange(i),s.trigger("swipeBackAfterChange swipeback:afterchange",i)):(r.params.onSwipeBackAfterReset&&r.params.onSwipeBackAfterReset(i),s.trigger("swipeBackAfterReset swipeback:afterreset",i)),S&&S.length>0&&S.remove()})},r.attachEvents=function(e){var t=e?"off":"on",a=!("touchstart"!==o.touchEvents.start||!o.support.passiveListener)&&{passive:!0,capture:!1};s[t](o.touchEvents.start,r.handleTouchStart,a),s[t](o.touchEvents.move,r.handleTouchMove),s[t](o.touchEvents.end,r.handleTouchEnd,a)},r.detachEvents=function(){r.attachEvents(!0)},r.params.swipeBackPage&&!o.params.material&&r.attachEvents(),o.views.push(r),r.main&&(o.mainView=r),r.router={load:function(e){return o.router.load(r,e)},back:function(e){return o.router.back(r,e)},loadPage:function(e){if(e=e||{},"string"==typeof e){var t=e;e={},t&&0===t.indexOf("#")&&r.params.domCache?e.pageName=t.split("#")[1]:e.url=t}return o.router.load(r,e)},loadContent:function(e){return o.router.load(r,{content:e})},reloadPage:function(e){return o.router.load(r,{url:e,reload:!0})},reloadContent:function(e){return o.router.load(r,{content:e,reload:!0})},reloadPreviousPage:function(e){return o.router.load(r,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return o.router.load(r,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:r.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(r.params.domCache&&r.pagesCache[e.url]?(e.pageName=r.pagesCache[e.url],e.url=void 0,delete e.url):r.contentCache[e.url]&&(e.content=r.contentCache[e.url],e.url=void 0,delete e.url)),o.router.load(r,e)},refreshPreviousPage:function(){var e={url:r.history[r.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&r.params.domCache&&r.pagesCache[e.url]&&(e.pageName=r.pagesCache[e.url],e.url=void 0,delete e.url),o.router.load(r,e)}},r.loadPage=r.router.loadPage,r.loadContent=r.router.loadContent,r.reloadPage=r.router.reloadPage,r.reloadContent=r.router.reloadContent,r.reloadPreviousPage=r.router.reloadPreviousPage,r.reloadPreviousContent=r.router.reloadPreviousContent,r.refreshPage=r.router.refreshPage,r.refreshPreviousPage=r.router.refreshPreviousPage,r.back=r.router.back,r.hideNavbar=function(){return o.hideNavbar(s.find(".navbar"))},r.showNavbar=function(){return o.showNavbar(s.find(".navbar"))},r.hideToolbar=function(){return o.hideToolbar(s.find(".toolbar"))},r.showToolbar=function(){return o.showToolbar(s.find(".toolbar"))},o.params.pushState&&o.params.pushStateOnLoad&&r.main){var N,z=p.split(f)[1];h?N=p.split(o.params.pushStateRoot+f)[1]:f&&p.indexOf(f)>=0&&p.indexOf(f+"#")<0&&(N=z);var $=!o.params.pushStateNoAnimation&&void 0,B=history.state;N?N.indexOf("#")>=0&&r.params.domCache&&B&&B.pageName&&"viewIndex"in B?o.router.load(r,{pageName:B.pageName,url:B.url,animatePages:$,pushState:!1}):N.indexOf("#")>=0&&r.params.domCache&&r.initialPagesUrl.indexOf(N)>=0?o.router.load(r,{pageName:N.replace("#",""),animatePages:$,pushState:!1}):o.router.load(r,{url:N,animatePages:$,pushState:!1}):r.params.domCache&&p.indexOf(f+"#")>=0&&(B&&B.pageName&&"viewIndex"in B?o.router.load(r,{pageName:B.pageName,url:B.url,animatePages:$,pushState:!1}):f&&0===z.indexOf("#")&&r.initialPagesUrl.indexOf(z)&&o.router.load(r,{pageName:z.replace("#",""),animatePages:$,pushState:!1}))}return r.destroy=function(){r.detachEvents(),r=void 0},o.pluginHook("addView",r),r};o.addView=function(e,t){return new d(e,t)},o.getCurrentView=function(e){var t=l(".popover.modal-in .view"),a=l(".popup.modal-in .view"),i=l(".panel.active .view"),n=l(".views"),r=n.children(".view");if(r.length>1&&r.hasClass("tab")&&(r=n.children(".view.active")),t.length>0&&t[0].f7View)return t[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(i.length>0&&i[0].f7View)return i[0].f7View;if(r.length>0){if(1===r.length&&r[0].f7View)return r[0].f7View;if(r.length>1){for(var o=[],s=0;s<r.length;s++)r[s].f7View&&o.push(r[s].f7View);if(o.length>0&&"undefined"!=typeof e)return o[e];if(o.length>1)return o;if(1===o.length)return o[0];return}}},o.navbarInitCallback=function(e,t,a,i){if(!a&&i&&(a=l(i).parent(".navbar")[0]),i&&(!i.f7NavbarInitialized||!e||e.params.domCache)){var n={container:a,innerContainer:i},r=t&&t.f7PageData,s={page:r,navbar:n};if(i.f7NavbarInitialized&&(e&&e.params.domCache||!e&&l(a).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return o.reinitNavbar(a,i),o.pluginHook("navbarReinit",s),void l(i).trigger("navbarReinit navbar:reinit",s);i.f7NavbarInitialized=!0,o.pluginHook("navbarBeforeInit",n,r),l(i).trigger("navbarBeforeInit navbar:beforeinit",s),o.initNavbar(a,i),o.pluginHook("navbarInit",n,r),l(i).trigger("navbarInit navbar:init",s)}},o.navbarRemoveCallback=function(e,t,a,i){!a&&i&&(a=l(i).parent(".navbar")[0]);var n,r={container:a,innerContainer:i};t&&(n=t.f7PageData);var s={page:n,navbar:r};o.pluginHook("navbarBeforeRemove",r,n),l(i).trigger("navbarBeforeRemove navbar:beforeremove",s),r=null,n=null},o.initNavbar=function(e,t){o.initSearchbar&&o.initSearchbar(t)},o.reinitNavbar=function(e,t){},o.initNavbarWithCallback=function(e){e=l(e);var t,a=e.parents("."+o.params.viewClass);0!==a.length&&(0===e.parents(".navbar-through").length&&0===a.find(".navbar-through").length||(t=a[0].f7View||void 0,e.find(".navbar-inner").each(function(){var i,n=this;if(l(n).attr("data-page")&&(i=a.find('.page[data-page="'+l(n).attr("data-page")+'"]')[0]),!i){var r=a.find(".page");1===r.length?i=r[0]:a.find(".page").each(function(){this.f7PageData&&this.f7PageData.navbarInnerContainer===n&&(i=this)})}o.navbarInitCallback(t,i,e[0],n)})))},o.sizeNavbars=function(e){if(!o.params.material){var t=e?l(e).find(".navbar .navbar-inner:not(.cached)"):l(".navbar .navbar-inner:not(.cached)");t.each(function(){var e=l(this);if(!e.hasClass("cached")){var t,a,i=o.rtl?e.find(".right"):e.find(".left"),n=o.rtl?e.find(".left"):e.find(".right"),r=e.find(".center"),s=e.find(".subnavbar"),c=0===i.length,d=0===n.length,p=c?0:i.outerWidth(!0),u=d?0:n.outerWidth(!0),f=r.outerWidth(!0),h=e.styles(),m=e[0].offsetWidth-parseInt(h.paddingLeft,10)-parseInt(h.paddingRight,10),v=e.hasClass("navbar-on-left");d&&(t=m-f),c&&(t=0),c||d||(t=(m-u-f+p)/2);var g=(m-f)/2;m-p-u>f?(g<p&&(g=p),g+f>m-u&&(g=m-u-f),a=g-t):a=0;var y=o.rtl?-1:1;if(r.hasClass("sliding")&&(r[0].f7NavbarLeftOffset=-(t+a)*y,r[0].f7NavbarRightOffset=(m-t-a-f)*y,v)){if(o.params.animateNavBackIcon){var b=e.parent().find(".navbar-on-center").find(".left.sliding .back .icon ~ span");b.length>0&&(r[0].f7NavbarLeftOffset+=b[0].offsetLeft)}r.transform("translate3d("+r[0].f7NavbarLeftOffset+"px, 0, 0)")}!c&&i.hasClass("sliding")&&(o.rtl?(i[0].f7NavbarLeftOffset=-(m-i[0].offsetWidth)/2*y,i[0].f7NavbarRightOffset=p*y):(i[0].f7NavbarLeftOffset=-p,i[0].f7NavbarRightOffset=(m-i[0].offsetWidth)/2,o.params.animateNavBackIcon&&i.find(".back .icon").length>0&&(i[0].f7NavbarRightOffset-=i.find(".back .icon")[0].offsetWidth)),v&&i.transform("translate3d("+i[0].f7NavbarLeftOffset+"px, 0, 0)")),!d&&n.hasClass("sliding")&&(o.rtl?(n[0].f7NavbarLeftOffset=-u*y,n[0].f7NavbarRightOffset=(m-n[0].offsetWidth)/2*y):(n[0].f7NavbarLeftOffset=-(m-n[0].offsetWidth)/2,n[0].f7NavbarRightOffset=u),v&&n.transform("translate3d("+n[0].f7NavbarLeftOffset+"px, 0, 0)")),s.length&&s.hasClass("sliding")&&(s[0].f7NavbarLeftOffset=o.rtl?s[0].offsetWidth:-s[0].offsetWidth,s[0].f7NavbarRightOffset=-s[0].f7NavbarLeftOffset);var w=a;o.rtl&&c&&d&&r.length>0&&(w=-w),r.css({left:w+"px"})}})}},o.hideNavbar=function(e){return l(e).addClass("navbar-hidden"),!0},o.showNavbar=function(e){var t=l(e);return t.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){t.removeClass("navbar-hiding")}),!0},o.hideToolbar=function(e){return l(e).addClass("toolbar-hidden"),!0},o.showToolbar=function(e){var t=l(e);t.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){t.removeClass("toolbar-hiding")})};var p=function(e,t){function a(e){e.preventDefault()}var i={input:null,clearButton:null,cancelButton:null,searchList:null,searchIn:".item-title",searchBy:"",found:null,notFound:null,overlay:null,ignore:".searchbar-ignore",customSearch:!1,removeDiacritics:!1,hideDividers:!0,hideGroups:!0};t=t||{};for(var n in i)"undefined"!=typeof t[n]&&null!==t[n]||(t[n]=i[n]);var r=this;r.material=o.params.material,r.params=t,e=l(e),r.container=e,r.active=!1,r.input=r.params.input?l(r.params.input):r.container.find('input[type="search"]'),r.clearButton=r.params.clearButton?l(r.params.clearButton):r.container.find(".searchbar-clear"),r.cancelButton=r.params.cancelButton?l(r.params.cancelButton):r.container.find(".searchbar-cancel"),r.searchList=l(r.params.searchList),r.isVirtualList=r.searchList.hasClass("virtual-list"),r.pageContainer=r.container.parents(".page").eq(0),r.params.overlay?r.overlay=l(r.params.overlay):r.overlay=r.pageContainer.length>0?r.pageContainer.find(".searchbar-overlay"):l(".searchbar-overlay"),r.params.found?r.found=l(r.params.found):r.found=r.pageContainer.length>0?r.pageContainer.find(".searchbar-found"):l(".searchbar-found"),r.params.notFound?r.notFound=l(r.params.notFound):r.notFound=r.pageContainer.length>0?r.pageContainer.find(".searchbar-not-found"):l(".searchbar-not-found");var s=o.rtl?"margin-left":"margin-right",c=!1;r.setCancelButtonMargin=function(){r.cancelButton.transition(0).show(),r.cancelButton.css(s,-r.cancelButton[0].offsetWidth+"px");r.cancelButton[0].clientLeft;r.cancelButton.transition(""),c=!0},r.triggerEvent=function(e,t,a){r.container.trigger(e,a),r.searchList.length>0&&r.searchList.trigger(e,a),t&&r.params[t]&&r.params[t](r,a)},r.enable=function(e){function t(){!r.searchList.length&&!r.params.customSearch||r.container.hasClass("searchbar-active")||r.query||r.overlay.addClass("searchbar-overlay-active"),r.container.addClass("searchbar-active"),r.cancelButton.length>0&&!r.material&&(c||r.setCancelButtonMargin(),r.cancelButton.css(s,"0px")),r.triggerEvent("enableSearch searchbar:enable","onEnable"),r.active=!0}o.device.ios&&!o.params.material&&e&&"focus"===e.type?setTimeout(function(){t()},400):t()},r.disable=function(){function e(){r.input.blur()}r.input.val("").trigger("change"),r.container.removeClass("searchbar-active searchbar-not-empty"),r.cancelButton.length>0&&!r.material&&r.cancelButton.css(s,-r.cancelButton[0].offsetWidth+"px"),(r.searchList.length||r.params.customSearch)&&r.overlay.removeClass("searchbar-overlay-active"),r.active=!1,o.device.ios?setTimeout(function(){e()},400):e(),r.triggerEvent("disableSearch searchbar:disable","onDisable")},r.clear=function(e){return!r.query&&e&&l(e.target).hasClass("searchbar-clear")?void r.disable():(r.input.val("").trigger("change").focus(),void r.triggerEvent("clearSearch searchbar:clear","onClear"))},r.handleInput=function(){setTimeout(function(){var e=r.input.val().trim();(r.searchList.length>0||r.params.customSearch)&&(r.params.searchIn||r.isVirtualList)&&r.search(e,!0)},0)};var d,p="";return r.search=function(e,t){if(e.trim()!==p){if(p=e.trim(),t||(r.active||r.enable(),r.input.val(e)),r.query=r.value=e,0===e.length?(r.container.removeClass("searchbar-not-empty"),r.searchList.length&&r.container.hasClass("searchbar-active")&&r.overlay.addClass("searchbar-overlay-active")):(r.container.addClass("searchbar-not-empty"),r.searchList.length&&r.container.hasClass("searchbar-active")&&r.overlay.removeClass("searchbar-overlay-active")),r.params.customSearch)return void r.triggerEvent("search searchbar:search","onSearch",{query:e});var a,i=[];if(r.isVirtualList){if(d=r.searchList[0].f7VirtualList,""===e.trim())return d.resetFilter(),r.notFound.hide(),void r.found.show();if(a=r.params.removeDiacritics?l.removeDiacritics(e):e,d.params.searchAll)i=d.params.searchAll(a,d.items)||[];else if(d.params.searchByItem)for(var n=0;n<d.items.length;n++)d.params.searchByItem(a,n,d.params.items[n])&&i.push(n)}else{var o;o=r.params.removeDiacritics?l.removeDiacritics(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),r.searchList.find("li").removeClass("hidden-by-searchbar").each(function(e,t){t=l(t);var a=[];t.find(r.params.searchIn).each(function(){var e=l(this).text().trim().toLowerCase();r.params.removeDiacritics&&(e=l.removeDiacritics(e)),a.push(e)}),a=a.join(" ");for(var n=0,s=0;s<o.length;s++)a.indexOf(o[s])>=0&&n++;n===o.length||r.params.ignore&&t.is(r.params.ignore)?i.push(t[0]):t.addClass("hidden-by-searchbar")}),r.params.hideDividers&&r.searchList.find(".item-divider, .list-group-title").each(function(){for(var e=l(this),t=e.nextAll("li"),a=!0,i=0;i<t.length;i++){var n=l(t[i]);if(n.hasClass("list-group-title")||n.hasClass("item-divider"))break;n.hasClass("hidden-by-searchbar")||(a=!1)}var o=r.params.ignore&&e.is(r.params.ignore);a&&!o?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),r.params.hideGroups&&r.searchList.find(".list-group").each(function(){var e=l(this),t=r.params.ignore&&e.is(r.params.ignore),a=e.find("li:not(.hidden-by-searchbar)");
0!==a.length||t?e.removeClass("hidden-by-searchbar"):e.addClass("hidden-by-searchbar")})}r.triggerEvent("search searchbar:search","onSearch",{query:e,foundItems:i}),0===i.length?(r.notFound.show(),r.found.hide()):(r.notFound.hide(),r.found.show()),r.isVirtualList&&d.filterItems(i)}},r.attachEvents=function(e){var t=e?"off":"on";r.container[t]("submit",a),r.material||r.cancelButton[t]("click",r.disable),r.overlay[t]("click",r.disable),r.input[t]("focus",r.enable),r.input[t]("change keydown keypress keyup",r.handleInput),r.clearButton[t]("click",r.clear)},r.detachEvents=function(){r.attachEvents(!0)},r.init=function(){r.attachEvents()},r.destroy=function(){r&&(r.detachEvents(),r=null)},r.init(),r.container[0].f7Searchbar=r,r};o.searchbar=function(e,t){return new p(e,t)},o.initSearchbar=function(e){function t(){i&&i.destroy()}e=l(e);var a=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==a.length&&a.hasClass("searchbar-init")){var i=o.searchbar(a,a.dataset());e.hasClass("page")?e.once("pageBeforeRemove",t):e.hasClass("navbar-inner")&&e.once("navbarBeforeRemove",t)}};var u=function(e,t){function a(e){e.preventDefault()}var i={textarea:null,maxHeight:null};t=t||{};for(var n in i)"undefined"!=typeof t[n]&&null!==t[n]||(t[n]=i[n]);var r=this;if(r.params=t,r.container=l(e),0!==r.container.length)return r.textarea=r.params.textarea?l(r.params.textarea):r.container.find("textarea"),r.pageContainer=r.container.parents(".page").eq(0),r.pageContent=r.pageContainer.find(".page-content"),r.pageContentPadding=parseInt(r.pageContent.css("padding-bottom")),r.initialBarHeight=r.container[0].offsetHeight,r.initialAreaHeight=r.textarea[0].offsetHeight,r.sizeTextarea=function(){r.textarea.css({height:""});var e=r.textarea[0].offsetHeight,t=e-r.textarea[0].clientHeight,a=r.textarea[0].scrollHeight;if(a+t>e){var i=a+t,n=r.initialBarHeight+(i-r.initialAreaHeight),o=r.params.maxHeight||r.container.parents(".view")[0].offsetHeight-88;n>o&&(n=parseInt(o,10),i=n-r.initialBarHeight+r.initialAreaHeight),r.textarea.css("height",i+"px"),r.container.css("height",n+"px");var s=r.pageContent[0].scrollTop===r.pageContent[0].scrollHeight-r.pageContent[0].offsetHeight;r.pageContent.length>0&&(r.pageContent.css("padding-bottom",n+"px"),0===r.pageContent.find(".messages-new-first").length&&s&&r.pageContent.scrollTop(r.pageContent[0].scrollHeight-r.pageContent[0].offsetHeight))}else r.pageContent.length>0&&(r.container.css({height:"",bottom:""}),r.pageContent.css({"padding-bottom":""}))},r.clear=function(){r.textarea.val("").trigger("change")},r.value=function(e){return"undefined"==typeof e?r.textarea.val():void r.textarea.val(e).trigger("change")},r.textareaTimeout=void 0,r.handleTextarea=function(e){clearTimeout(r.textareaTimeout),r.textareaTimeout=setTimeout(function(){r.sizeTextarea()},0)},r.attachEvents=function(e){var t=e?"off":"on";r.container[t]("submit",a),r.textarea[t]("change keydown keypress keyup paste cut",r.handleTextarea)},r.detachEvents=function(){r.attachEvents(!0)},r.init=function(){r.attachEvents()},r.destroy=function(){r.detachEvents(),r=null},r.init(),r.container[0].f7Messagebar=r,r};o.messagebar=function(e,t){return new u(e,t)},o.initPageMessagebar=function(e){function t(){i.destroy(),e.off("page:beforeremove",t)}e=l(e);var a=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==a.length&&a.hasClass("messagebar-init")){var i=o.messagebar(a,a.dataset());e.hasClass("page")&&e.on("page:beforeremove",t)}},o.cache=[],o.removeFromCache=function(e){for(var t=!1,a=0;a<o.cache.length;a++)o.cache[a].url===e&&(t=a);t!==!1&&o.cache.splice(t,1)},o.xhr=!1,o.get=function(e,t,a,i){var n=e;if(o.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(n=e.split("?")[0]),o.params.cache&&!a&&e.indexOf("nocache")<0&&o.params.cacheIgnore.indexOf(n)<0)for(var r=0;r<o.cache.length;r++)if(o.cache[r].url===n&&(new Date).getTime()-o.cache[r].time<o.params.cacheDuration)return i(o.cache[r].content),!1;return o.xhr=l.ajax({url:e,method:"GET",beforeSend:o.params.onAjaxStart,complete:function(e){e.status>=200&&e.status<300||0===e.status?(o.params.cache&&(o.removeFromCache(n),o.cache.push({url:n,time:(new Date).getTime(),content:e.responseText})),i(e.responseText,!1)):i(e.responseText,!0),o.params.onAjaxComplete&&o.params.onAjaxComplete(e)},error:function(e){i(e.responseText,!0),o.params.onAjaxError&&o.params.onAjaxError(e)}}),t&&(t.xhr=o.xhr),o.xhr},o.pageCallbacks={},o.onPage=function(e,t,a){if(t&&t.split(" ").length>1){for(var i=t.split(" "),n=[],r=0;r<i.length;r++)n.push(o.onPage(e,i[r],a));return n.remove=function(){for(var e=0;e<n.length;e++)n[e].remove()},n.trigger=function(){for(var e=0;e<n.length;e++)n[e].trigger()},n}var s=o.pageCallbacks[e][t];return s||(s=o.pageCallbacks[e][t]=[]),o.pageCallbacks[e][t].push(a),{remove:function(){for(var e,t=0;t<s.length;t++)s[t].toString()===a.toString()&&(e=t);"undefined"!=typeof e&&s.splice(e,1)},trigger:a}};for(var f="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),h=0;h<f.length;h++)o.pageCallbacks[f[h]]={},i(f[h]);o.triggerPageCallbacks=function(e,t,a){var i=o.pageCallbacks[e]["*"];if(i)for(var n=0;n<i.length;n++)i[n](a);var r=o.pageCallbacks[e][t];if(r&&0!==r.length)for(var s=0;s<r.length;s++)r[s](a)},o.pageInitCallback=function(e,t){var a=t.pageContainer;if(a&&(!a.f7PageInitialized||!e||e.params.domCache)){var i=t.query;i||(i=t.url&&t.url.indexOf("?")>0?l.parseUrlQuery(t.url||""):a.f7PageData&&a.f7PageData.query?a.f7PageData.query:{});var n={container:a,url:t.url,query:i,name:l(a).attr("data-page"),view:e,from:t.position,context:t.context,navbarInnerContainer:t.navbarInnerContainer,fromPage:t.fromPage};if(t.fromPage&&!t.fromPage.navbarInnerContainer&&t.oldNavbarInnerContainer&&(t.fromPage.navbarInnerContainer=t.oldNavbarInnerContainer),a.f7PageInitialized&&(e&&e.params.domCache||!e&&l(a).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return o.reinitPage(a),o.pluginHook("pageReinit",n),o.params.onPageReinit&&o.params.onPageReinit(o,n),o.triggerPageCallbacks("reinit",n.name,n),void l(n.container).trigger("pageReinit page:reinit",{page:n});a.f7PageInitialized=!0,a.f7PageData=n,!e||t.preloadOnly||t.reloadPrevious||(l(e.container).attr("data-page",n.name),e.activePage=n),o.pluginHook("pageBeforeInit",n),o.params.onPageBeforeInit&&o.params.onPageBeforeInit(o,n),o.triggerPageCallbacks("beforeInit",n.name,n),l(n.container).trigger("pageBeforeInit page:beforeinit",{page:n}),o.initPage(a),o.pluginHook("pageInit",n),o.params.onPageInit&&o.params.onPageInit(o,n),o.triggerPageCallbacks("init",n.name,n),l(n.container).trigger("pageInit page:init",{page:n})}},o.pageRemoveCallback=function(e,t,a){var i;if(t){t.f7PageData&&(i=t.f7PageData.context);var n={container:t,name:l(t).attr("data-page"),view:e,url:t.f7PageData&&t.f7PageData.url,query:t.f7PageData&&t.f7PageData.query,navbarInnerContainer:t.f7PageData&&t.f7PageData.navbarInnerContainer,from:a,context:i};o.pluginHook("pageBeforeRemove",n),o.params.onPageBeforeRemove&&o.params.onPageBeforeRemove(o,n),o.triggerPageCallbacks("beforeRemove",n.name,n),l(n.container).trigger("pageBeforeRemove page:beforeremove",{page:n}),n=null}},o.pageBackCallback=function(e,t,a){var i,n=a.pageContainer;if(n){n.f7PageData&&(i=n.f7PageData.context);var r={container:n,name:l(n).attr("data-page"),url:n.f7PageData&&n.f7PageData.url,query:n.f7PageData&&n.f7PageData.query,view:t,from:a.position,context:i,navbarInnerContainer:n.f7PageData&&n.f7PageData.navbarInnerContainer,swipeBack:a.swipeBack};"after"===e&&(o.pluginHook("pageAfterBack",r),o.params.onPageAfterBack&&o.params.onPageAfterBack(o,r),o.triggerPageCallbacks("afterBack",r.name,r),l(n).trigger("pageAfterBack page:afterback",{page:r})),"before"===e&&(o.pluginHook("pageBack",r),o.params.onPageBack&&o.params.onPageBack(o,r),o.triggerPageCallbacks("back",r.name,r),l(r.container).trigger("pageBack page:back",{page:r}))}},o.pageAnimCallback=function(e,t,a){var i,n=a.pageContainer;if(n){n.f7PageData&&(i=n.f7PageData.context);var r=a.query;r||(r=a.url&&a.url.indexOf("?")>0?l.parseUrlQuery(a.url||""):n.f7PageData&&n.f7PageData.query?n.f7PageData.query:{});var s={container:n,url:a.url,query:r,name:l(n).attr("data-page"),view:t,from:a.position,context:i,swipeBack:a.swipeBack,navbarInnerContainer:n.f7PageData&&n.f7PageData.navbarInnerContainer,fromPage:a.fromPage},c=a.oldPage,d=a.newPage;if(n.f7PageData=s,"after"===e&&(o.pluginHook("pageAfterAnimation",s),o.params.onPageAfterAnimation&&o.params.onPageAfterAnimation(o,s),o.triggerPageCallbacks("afterAnimation",s.name,s),l(s.container).trigger("pageAfterAnimation page:afteranimation",{page:s})),"before"===e){l(t.container).attr("data-page",s.name),t&&(t.activePage=s),d.hasClass("no-navbar")&&!c.hasClass("no-navbar")&&t.hideNavbar(),d.hasClass("no-navbar")||!c.hasClass("no-navbar")&&!c.hasClass("no-navbar-by-scroll")||t.showNavbar(),d.hasClass("no-toolbar")&&!c.hasClass("no-toolbar")&&t.hideToolbar(),d.hasClass("no-toolbar")||!c.hasClass("no-toolbar")&&!c.hasClass("no-toolbar-by-scroll")||t.showToolbar();var p;d.hasClass("no-tabbar")&&!c.hasClass("no-tabbar")&&(p=l(t.container).find(".tabbar"),0===p.length&&(p=l(t.container).parents("."+o.params.viewsClass).find(".tabbar")),o.hideToolbar(p)),d.hasClass("no-tabbar")||!c.hasClass("no-tabbar")&&!c.hasClass("no-tabbar-by-scroll")||(p=l(t.container).find(".tabbar"),0===p.length&&(p=l(t.container).parents("."+o.params.viewsClass).find(".tabbar")),o.showToolbar(p)),c.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),o.pluginHook("pageBeforeAnimation",s),o.params.onPageBeforeAnimation&&o.params.onPageBeforeAnimation(o,s),o.triggerPageCallbacks("beforeAnimation",s.name,s),l(s.container).trigger("pageBeforeAnimation page:beforeanimation",{page:s})}}},o.initPage=function(e){e=l(e),0!==e.length&&(o.sizeNavbars&&o.sizeNavbars(e.parents("."+o.params.viewClass)[0]),o.initPageMessages&&o.initPageMessages(e),o.initFormsStorage&&o.initFormsStorage(e),o.initSmartSelects&&o.initSmartSelects(e),o.initPageSwiper&&o.initPageSwiper(e),o.initPullToRefresh&&o.initPullToRefresh(e),o.initPageInfiniteScroll&&o.initPageInfiniteScroll(e),o.initSearchbar&&o.initSearchbar(e),o.initPageMessagebar&&o.initPageMessagebar(e),o.initPageScrollToolbars&&o.initPageScrollToolbars(e),o.initImagesLazyLoad&&o.initImagesLazyLoad(e),o.initPageProgressbar&&o.initPageProgressbar(e),o.initPageResizableTextarea&&o.initPageResizableTextarea(e),o.params.material&&o.initPageMaterialPreloader&&o.initPageMaterialPreloader(e),o.params.material&&o.initPageMaterialInputs&&o.initPageMaterialInputs(e),o.params.material&&o.initPageMaterialTabbar&&o.initPageMaterialTabbar(e))},o.reinitPage=function(e){e=l(e),0!==e.length&&(o.sizeNavbars&&o.sizeNavbars(e.parents("."+o.params.viewClass)[0]),o.reinitPageSwiper&&o.reinitPageSwiper(e),o.reinitLazyLoad&&o.reinitLazyLoad(e))},o.initPageWithCallback=function(e){e=l(e);var t=e.parents("."+o.params.viewClass);if(0!==t.length){var a=t[0].f7View||void 0,i=a&&a.url?a.url:void 0;t&&e.attr("data-page")&&t.attr("data-page",e.attr("data-page")),o.pageInitCallback(a,{pageContainer:e[0],url:i,position:"center"})}},o.router={_remove:function(e){o.params.routerRemoveTimeout||o.params.routerRemoveWithTimeout?setTimeout(function(){l(e).remove()},0):l(e).remove()},temporaryDom:document.createElement("div"),findElement:function(e,t,a,i){t=l(t),i&&(e+=":not(.cached)");var n=t.find(e);return n.length>1&&("string"==typeof a.selector&&(n=t.find(a.selector+" "+e)),n.length>1&&(n=t.find("."+o.params.viewMainClass+" "+e))),1===n.length?n:(i||(n=o.router.findElement(e,t,a,!0)),n&&1===n.length?n:n&&n.length>1?l(n[0]):void 0)},animatePages:function(e,t,a,i){var n="page-on-center page-on-right page-on-left";"to-left"===a&&(e.removeClass(n).addClass("page-from-center-to-left"),t.removeClass(n).addClass("page-from-right-to-center")),"to-right"===a&&(e.removeClass(n).addClass("page-from-left-to-center"),t.removeClass(n).addClass("page-from-center-to-right"))},prepareNavbar:function(e,t,a){l(e).find(".sliding").each(function(){var e=l(this),t="right"===a?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-t+"px,0,0)"),e.transform("translate3d("+t+"px,0,0)")})},animateNavbars:function(e,t,a,i){var n="navbar-on-right navbar-on-center navbar-on-left";"to-left"===a&&(t.removeClass(n).addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=l(this);e.transform("translate3d(0px,0,0)"),o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(n).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e,a=l(this);o.params.animateNavBackIcon&&(a.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(e=t.find(".sliding.left .back span"),e.length>0&&(this.f7NavbarLeftOffset+=e[0].offsetLeft)),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===a&&(e.removeClass(n).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=l(this);e.transform("translate3d(0px,0,0)"),o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass(n).addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=l(this);o.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,t,a,i){o.pluginHook("routerPreprocess",e,t,a,i),t=o.pluginProcess("preprocess",t),e&&e.params&&e.params.preprocess?(t=e.params.preprocess(t,a,i),"undefined"!=typeof t&&i(t)):o.params.preprocess?(t=o.params.preprocess(t,a,i),"undefined"!=typeof t&&i(t)):i(t)},preroute:function(e,t,a){return a&&(t.isBack=!0),o.pluginHook("routerPreroute",e,t),!!(o.params.preroute&&o.params.preroute(e,t)===!1||e&&e.params.preroute&&e.params.preroute(e,t)===!1)},template7Render:function(e,t){var a,i,n=t.url,r=t.content,s=t.content,d=t.context,p=t.contextName,u=t.template;t.pageName;if("string"==typeof r?n?o.template7Cache[n]&&!t.ignoreCache?i=c.cache[n]:(i=c.compile(r),c.cache[n]=i):i=c.compile(r):u&&(i=u),d)a=d,d&&n&&(e.contextCache[n]=d);else{if(p)if(p.indexOf(".")>=0){for(var f=p.split("."),h=c.data[f[0]],m=1;m<f.length;m++)f[m]&&(h=h[f[m]]);a=h}else a=c.data[p];if(!a&&n&&(a=c.data["url:"+n]),!a&&"string"==typeof r&&!u){var v=r.match(/(data-page=["'][^"^']*["'])/);if(v){var g=v[0].split("data-page=")[1].replace(/['"]/g,"");g&&(a=c.data["page:"+g])}}if(!a&&u&&c.templates)for(var y in c.templates)c.templates[y]===u&&(a=c.data[y]);!a&&n&&n in e.contextCache&&(a=e.contextCache[n]),a||(a={})}if(i&&a){if("function"==typeof a&&(a=a()),n){var b=l.parseUrlQuery(n);a.url_query={};for(var w in b)a.url_query[w]=b[w]}try{s=i(a)}catch(e){s="",window.console&&window.console.error&&console.error(e)}}return{content:s,context:a}}},o.router._load=function(e,t){function a(){e.allowPageChange=!0,i.removeClass("page-from-right-to-center page-on-right page-on-left").addClass("page-on-center"),n.removeClass("page-from-center-to-left page-on-center page-on-right").addClass("page-on-left"),u&&(d.removeClass("navbar-from-right-to-center navbar-on-left navbar-on-right").addClass("navbar-on-center"),c.removeClass("navbar-from-center-to-left navbar-on-center navbar-on-right").addClass("navbar-on-left")),o.pageAnimCallback("after",e,{pageContainer:i[0],url:h,position:"right",oldPage:n,newPage:i,query:t.query,fromPage:n&&n.length&&n[0].f7PageData}),o.params.pushState&&e.main&&o.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(n.addClass("cached"),u&&c.addClass("cached")):0===h.indexOf("#")&&0===i.attr("data-page").indexOf("smart-select-")||(o.pageRemoveCallback(e,n[0],"left"),u&&o.navbarRemoveCallback(e,n[0],p[0],c[0]),o.router._remove(n),u&&o.router._remove(c))),e.params.uniqueHistory&&D&&e.refreshPreviousPage()}t=t||{};var i,n,r,s,c,d,p,u,f,h=t.url,m=t.content,v={content:t.content},g=t.template,y=t.pageName,b=l(e.container),w=l(e.pagesContainer),_=t.animatePages,C="undefined"==typeof h&&m||g,k=t.pushState,x=t.pageElement;if("undefined"==typeof _&&(_=e.params.animatePages),o.pluginHook("routerLoad",e,t),(o.params.template7Pages&&"string"==typeof m||g)&&(v=o.router.template7Render(e,t),v.content&&!m&&(m=v.content)),o.router.temporaryDom.innerHTML="",!y&&!x)if("string"==typeof m||h&&"string"==typeof m)o.router.temporaryDom.innerHTML=v.content;else if("length"in m&&m.length>1)for(var T=0;T<m.length;T++)l(o.router.temporaryDom).append(m[T]);else l(o.router.temporaryDom).append(m);if(f=t.reload&&(t.reloadPrevious?"left":"center"),i=y?w.find('.page[data-page="'+y+'"]'):x?l(x):o.router.findElement(".page",o.router.temporaryDom,e),!i||0===i.length||y&&e.activePage&&e.activePage.name===y)return void(e.allowPageChange=!0);if(i.addClass(t.reload?"page-on-"+f:"page-on-right"),r=w.children(".page:not(.cached)"),x&&(r=r.filter(function(e,t){if(t!==x)return t})),t.reload&&t.reloadPrevious&&1===r.length)return void(e.allowPageChange=!0);if(t.reload)n=r.eq(r.length-1);else{if(r.length>1){for(s=0;s<r.length-2;s++)e.params.domCache?l(r[s]).addClass("cached"):(o.pageRemoveCallback(e,r[s],"left"),o.router._remove(r[s]));e.params.domCache?l(r[s]).addClass("cached"):(o.pageRemoveCallback(e,r[s],"left"),o.router._remove(r[s]))}n=w.children(".page:not(.cached)")}if(x&&n.length>1&&(n=n.filter(function(e,t){if(t!==x)return t})),(e.params.domCache||x)&&i.removeClass("cached"),e.params.dynamicNavbar)if(u=!0,d=y?b.find('.navbar-inner[data-page="'+y+'"]'):o.router.findElement(".navbar-inner",o.router.temporaryDom,e),d&&0!==d.length||(d=i.find(".navbar-inner"),d&&0!==d.length?d.parent(".navbar").length>0&&d.prependTo(i):u=!1),u&&i.find(".navbar").length>0&&o.router._remove(i.find(".navbar")),p=b.children(".navbar"),t.reload)c=p.find(".navbar-inner:not(.cached):last-child");else if(c=p.find(".navbar-inner:not(.cached)"),c.length>0){for(s=0;s<c.length-1;s++)e.params.domCache?l(c[s]).addClass("cached"):(o.navbarRemoveCallback(e,r[s],p[0],c[s]),o.router._remove(c[s]));d||1!==c.length||(e.params.domCache?l(c[0]).addClass("cached"):(o.navbarRemoveCallback(e,r[0],p[0],c[0]),o.router._remove(c[0]))),c=p.find(".navbar-inner:not(.cached)")}if(u&&(d.addClass(t.reload?"navbar-on-"+f:"navbar-on-right"),(e.params.domCache||x)&&d.removeClass("cached"),i[0].f7RelatedNavbar=d[0],d[0].f7RelatedPage=i[0]),h)h&&x&&(e.pageElementsCache[h]={page:i,navbarInner:d});else{var S=y||i.attr("data-page");h=C?"#"+o.params.dynamicPageUrl.replace(/{{name}}/g,S).replace(/{{index}}/g,e.history.length-(t.reload?1:0)):"#"+S,e.params.domCache||(e.contentCache[h]=m),e.params.domCache&&y&&(e.pagesCache[h]=y)}if(o.params.pushState&&!t.reloadPrevious&&e.main){"undefined"==typeof k&&(k=!0);var P=o.params.pushStateRoot||"",O=t.reload?"replaceState":"pushState";k&&(C||y?C&&m?history[O]({content:"string"==typeof m?m:"",url:h,viewIndex:o.views.indexOf(e)},"",P+o.params.pushStateSeparator+h):y&&history[O]({pageName:y,url:h,viewIndex:o.views.indexOf(e)},"",P+o.params.pushStateSeparator+h):history[O]({url:h,viewIndex:o.views.indexOf(e)},"",P+o.params.pushStateSeparator+h))}if(e.url=h,t.reload){var I=e.history[e.history.length-(t.reloadPrevious?2:1)];I&&0===I.indexOf("#")&&I in e.contentCache&&I!==h&&e.history.indexOf(I)===-1?(e.contentCache[I]=null,delete e.contentCache[I]):I&&I in e.pageElementsCache&&I!==h&&(e.history.indexOf(I)===-1||e.history.indexOf(I)===e.history.length-1)&&(e.pageElementsCache[I]=null,delete e.pageElementsCache[I]),I&&I in e.contextCache&&I!==h&&(e.history.indexOf(I)===-1||e.history.indexOf(I)===e.history.length-1)&&(e.contextCache[I]=null,delete e.contextCache[I]),e.history[e.history.length-(t.reloadPrevious?2:1)]=h}else e.history.push(h);var D=!1;if(e.params.uniqueHistory){var E=e.history,M=h;if(e.params.uniqueHistoryIgnoreGetParameters)for(E=[],M=h.split("?")[0],s=0;s<e.history.length;s++)E.push(e.history[s].split("?")[0]);E.indexOf(M)!==E.lastIndexOf(M)&&(e.history=e.history.slice(0,E.indexOf(M)),e.history.push(h),D=!0)}if(t.reloadPrevious?(n=n.prev(".page"),i.insertBefore(n),u&&(c=c.prev(".navbar-inner"),d.insertAfter(c))):(w.append(i[0]),u&&p.append(d[0])),t.reload&&(e.params.domCache&&e.initialPages.indexOf(n[0])>=0?(n.addClass("cached"),u&&c.addClass("cached")):(o.pageRemoveCallback(e,n[0],f),u&&o.navbarRemoveCallback(e,n[0],p[0],c[0]),o.router._remove(n),u&&o.router._remove(c))),o.pageInitCallback(e,{pageContainer:i[0],url:h,position:t.reload?f:"right",navbarInnerContainer:u?d&&d[0]:void 0,oldNavbarInnerContainer:u?c&&c[0]:void 0,context:v.context,query:t.query,fromPage:n&&n.length&&n[0].f7PageData,reload:t.reload,reloadPrevious:t.reloadPrevious}),u&&o.navbarInitCallback(e,i[0],p[0],d[0],h,t.reload?f:"right"),t.reload)return e.allowPageChange=!0,void(D&&e.refreshPreviousPage());u&&_&&o.router.prepareNavbar(d,c,"right");i[0].clientLeft;o.pageAnimCallback("before",e,{pageContainer:i[0],url:h,position:"right",oldPage:n,newPage:i,query:t.query,fromPage:n&&n.length&&n[0].f7PageData}),_?(o.params.material&&o.params.materialPageLoadDelay?setTimeout(function(){o.router.animatePages(n,i,"to-left",e)},o.params.materialPageLoadDelay):o.router.animatePages(n,i,"to-left",e),u&&setTimeout(function(){o.router.animateNavbars(c,d,"to-left",e)},0),i.animationEnd(function(e){a()})):(u&&d.find(".sliding, .sliding .back .icon").transform(""),a())},o.router.load=function(e,t){function a(a){o.router.preprocess(e,a,i,function(a){t.content=a,o.router._load(e,t)})}if(t=t||{},o.router.preroute(e,t))return!1;var i=t.url,n=t.content,r=t.pageName,s=t.pageElement;r&&r.indexOf("?")>0&&(t.query=l.parseUrlQuery(r),t.pageName=r=r.split("?")[0]);var c=t.template;return e.params.reloadPages===!0&&(t.reload=!0),!!e.allowPageChange&&(!(i&&e.url===i&&!t.reload&&!e.params.allowDuplicateUrls)&&(e.allowPageChange=!1,o.xhr&&e.xhr&&e.xhr===o.xhr&&(o.xhr.abort(),o.xhr=!1),n||r||s?void a(n):c?void o.router._load(e,t):t.url&&"#"!==t.url?void o.get(t.url,e,t.ignoreCache,function(t,i){return i?void(e.allowPageChange=!0):void a(t)}):void(e.allowPageChange=!0)))},o.router._back=function(e,t){function a(){o.pageBackCallback("after",e,{pageContainer:s[0],url:m,position:"center",oldPage:s,newPage:c}),o.pageAnimCallback("after",e,{pageContainer:c[0],url:m,position:"left",oldPage:s,newPage:c,query:t.query,fromPage:s&&s.length&&s[0].f7PageData}),o.router.afterBack(e,s[0],c[0])}function i(){o.pageBackCallback("before",e,{pageContainer:s[0],url:m,position:"center",oldPage:s,newPage:c}),o.pageAnimCallback("before",e,{pageContainer:c[0],url:m,position:"left",oldPage:s,newPage:c,query:t.query,fromPage:s&&s.length&&s[0].f7PageData}),b?(o.router.animatePages(c,s,"to-right",e),h&&setTimeout(function(){o.router.animateNavbars(p,d,"to-right",e)},0),c.animationEnd(function(){a()})):(h&&p.find(".sliding, .sliding .back .icon").transform(""),a())}function n(){if(o.router.temporaryDom.innerHTML="","string"==typeof v||m&&"string"==typeof v)o.router.temporaryDom.innerHTML=g.content;else if("length"in v&&v.length>1)for(var t=0;t<v.length;t++)l(o.router.temporaryDom).append(v[t]);else l(o.router.temporaryDom).append(v);c=x?l(x):o.router.findElement(".page",o.router.temporaryDom,e),e.params.dynamicNavbar&&(p=o.router.findElement(".navbar-inner",o.router.temporaryDom,e))}function r(){if(!c||0===c.length)return void(e.allowPageChange=!0);if(e.params.dynamicNavbar&&"undefined"==typeof h&&(h=!(!p||0===p.length)),c.addClass("page-on-left").removeClass("cached"),h&&(u=T.children(".navbar"),f=u.find(".navbar-inner:not(.cached)"),p.addClass("navbar-on-left").removeClass("cached")),C){var a,n;if(a=l(P[P.length-2]),h&&(n=l(a[0]&&a[0].f7RelatedNavbar||f[f.length-2])),e.params.domCache&&e.initialPages.indexOf(a[0])>=0)a.length&&a[0]!==c[0]&&a.addClass("cached"),h&&n.length&&n[0]!==p[0]&&n.addClass("cached");else{var r=h&&n.length;a.length?(o.pageRemoveCallback(e,a[0],"right"),r&&o.navbarRemoveCallback(e,a[0],u[0],n[0]),o.router._remove(a),r&&o.router._remove(n)):r&&(o.navbarRemoveCallback(e,a[0],u[0],n[0]),o.router._remove(n))}P=S.children(".page:not(.cached)"),h&&(f=T.children(".navbar").find(".navbar-inner:not(.cached)")),e.history.indexOf(m)>=0?e.history=e.history.slice(0,e.history.indexOf(m)+2):e.history[[e.history.length-2]]?e.history[e.history.length-2]=m:e.history.unshift(m)}if(s=l(P[P.length-1]),e.params.domCache&&s[0]===c[0]&&(s=S.children(".page.page-on-center"),0===s.length&&e.activePage&&(s=l(e.activePage.container))),h&&!d&&(d=l(f[f.length-1]),e.params.domCache&&(d[0]===p[0]&&(d=u.children(".navbar-inner.navbar-on-center:not(.cached)")),0===d.length&&(d=u.children('.navbar-inner[data-page="'+s.attr("data-page")+'"]'))),0!==d.length&&p[0]!==d[0]||(h=!1)),h&&(O&&p.insertBefore(d),p[0].f7RelatedPage=c[0],c[0].f7RelatedNavbar=p[0]),O&&c.insertBefore(s),o.pageInitCallback(e,{pageContainer:c[0],url:m,position:"left",navbarInnerContainer:h?p[0]:void 0,oldNavbarInnerContainer:h?d&&d[0]:void 0,context:g.context,query:t.query,fromPage:s&&s.length&&s[0].f7PageData,preloadOnly:w}),h&&o.navbarInitCallback(e,c[0],u[0],p[0],m,"right"),h&&p.hasClass("navbar-on-left")&&b&&o.router.prepareNavbar(p,d,"left"),w)return void(e.allowPageChange=!0);e.url=m;c[0].clientLeft;i(),o.params.pushState&&e.main&&("undefined"==typeof _&&(_=!0),!w&&history.state&&_&&history.back())}t=t||{};var s,c,d,p,u,f,h,m=t.url,v=t.content,g={content:t.content},y=t.template,b=t.animatePages,w=t.preloadOnly,_=t.pushState,C=(t.ignoreCache,t.force),k=t.pageName,x=t.pageElement,T=l(e.container),S=l(e.pagesContainer),P=S.children(".page:not(.cached)"),O=!0;return"undefined"==typeof b&&(b=e.params.animatePages),o.pluginHook("routerBack",e,t),(o.params.template7Pages&&"string"==typeof v||y)&&(g=o.router.template7Render(e,t),g.content&&!v&&(v=g.content)),P.length>1&&!C?w?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],m=e.url,c=l(P[P.length-2]),s=l(P[P.length-1]),e.params.dynamicNavbar&&(h=!0,f=T.children(".navbar").find(".navbar-inner:not(.cached)"),p=l(f[0]),d=l(f[1]),0!==p.length&&0!==d.length&&d[0]!==p[0]||(h=!1)),O=!1,void r()):C?m&&m===e.url||k&&e.activePage&&e.activePage.name===k?void(e.allowPageChange=!0):v?(n(),void r()):k&&e.params.domCache?(k&&(m="#"+k),c=l(T).find('.page[data-page="'+k+'"]'),c[0].f7PageData&&c[0].f7PageData.url&&(m=c[0].f7PageData.url),e.params.dynamicNavbar&&(p=l(T).children(".navbar").find('.navbar-inner[data-page="'+k+'"]'),0===p.length&&c[0].f7RelatedNavbar&&(p=l(c[0].f7RelatedNavbar)),0===p.length&&c[0].f7PageData&&(p=l(c[0].f7PageData.navbarInnerContainer))),void r()):x&&m?(c=l(x),e.params.dynamicNavbar&&(p=c.find(".navbar-inner"),p.length>0&&(c.prepend(p),o.router._remove(c.find(".navbar")))),void r()):void(e.allowPageChange=!0):(w||(e.url=e.history[e.history.length-2],m=e.url),v?(n(),void r()):k?(c=l(T).find('.page[data-page="'+k+'"]'),e.params.dynamicNavbar&&(p=l(T).children(".navbar").find('.navbar-inner[data-page="'+k+'"]'),0===p.length&&c[0].f7RelatedNavbar&&(p=l(c[0].f7RelatedNavbar)),0===p.length&&c[0].f7PageData&&(p=l(c[0].f7PageData.navbarInnerContainer))),void r()):m&&m in e.pageElementsCache?(c=e.pageElementsCache[m].page,p=e.pageElementsCache[m].navbarInner,void r()):void(e.allowPageChange=!0))},o.router.back=function(e,t){function a(a){o.router.preprocess(e,a,i,function(a){t.content=a,o.router._back(e,t)})}if(t=t||{},o.router.preroute(e,t,!0))return!1;var i=t.url,n=t.content,r=t.pageName,s=t.pageElement;r&&r.indexOf("?")>0&&(t.query=l.parseUrlQuery(r),t.pageName=r=r.split("?")[0]);var c=t.force;if(!e.allowPageChange)return!1;e.allowPageChange=!1,o.xhr&&e.xhr&&e.xhr===o.xhr&&(o.xhr.abort(),o.xhr=!1);var d=l(e.pagesContainer).find(".page:not(.cached)");if(d.length>1&&!c)return void o.router._back(e,t);if(c){if(!i&&n)return void a(n);if(!i&&r)return r&&(i="#"+r),void a();if(i&&s)return void a();if(i)return void o.get(t.url,e,t.ignoreCache,function(t,i){return i?void(e.allowPageChange=!0):void a(t)})}else{if(i=e.history[e.history.length-2]||t.url,t.url||(t.url=i),!i)return void(e.allowPageChange=!0);if(0===i.indexOf("#")&&e.contentCache[i])return void a(e.contentCache[i]);if(0===i.indexOf("#")&&e.params.domCache)return r||(t.pageName=i.split("#")[1]),void a();if(i&&i in e.pageElementsCache)a();else if(0!==i.indexOf("#"))return void o.get(t.url,e,t.ignoreCache,function(t,i){return i?void(e.allowPageChange=!0):void a(t)})}e.allowPageChange=!0},o.router.afterBack=function(e,t,a){t=l(t),a=l(a),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?t.removeClass("page-from-center-to-right").addClass("cached"):(o.pageRemoveCallback(e,t[0],"right"),o.router._remove(t)),a.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var i,n=e.history.pop();if(e.params.dynamicNavbar){var r=l(e.container).children(".navbar").find(".navbar-inner:not(.cached)"),s=l(t[0].f7RelatedNavbar||r[1]);e.params.domCache&&e.initialNavbars.indexOf(s[0])>=0?s.removeClass("navbar-from-center-to-right").addClass("cached"):(o.navbarRemoveCallback(e,t[0],void 0,s[0]),o.router._remove(s)),i=l(r[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&l(e.container).find(".page.cached").each(function(){var t=l(this),a=(t.index(),t[0].f7PageData&&t[0].f7PageData.url);a&&e.history.indexOf(a)<0&&e.initialPages.indexOf(this)<0&&(o.pageRemoveCallback(e,t[0],"right"),t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&o.navbarRemoveCallback(e,t[0],void 0,t[0].f7RelatedNavbar),o.router._remove(t),t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&o.router._remove(t[0].f7RelatedNavbar))}),!e.params.domCache&&n&&n.indexOf("#")>-1&&n in e.contentCache&&e.history.indexOf(n)===-1&&(e.contentCache[n]=null,delete e.contentCache[n]),n&&n in e.pageElementsCache&&e.history.indexOf(n)===-1&&(e.pageElementsCache[n]=null,delete e.pageElementsCache[n]),n&&n in e.contextCache&&e.history.indexOf(n)===-1&&(e.contextCache[n]=null,delete e.contextCache[n]),o.params.pushState&&e.main&&o.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var c,d,p=e.history[e.history.length-2];p&&e.pagesCache[p]?(c=l(e.container).find('.page[data-page="'+e.pagesCache[p]+'"]'),c.next(".page")[0]!==a[0]&&c.insertBefore(a),i&&(d=l(e.container).children(".navbar").find('.navbar-inner[data-page="'+e.pagesCache[p]+'"]'),d&&0!==d.length||(d=i.prev(".navbar-inner.cached")),d.next(".navbar-inner")[0]!==i[0]&&d.insertBefore(i))):(c=a.prev(".page.cached"),i&&(d=i.prev(".navbar-inner.cached"))),c&&c.length>0&&c.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),d&&d.length>0&&d.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else o.router.back(e,{preloadOnly:!0})};var m=document.createElement("div");o.modalStack=[],o.modalStackClearQueue=function(){o.modalStack.length&&o.modalStack.shift()()},o.modal=function(e){e=e||{};var t="";if(o.params.modalTemplate)o._compiledTemplates.modal||(o._compiledTemplates.modal=c.compile(o.params.modalTemplate)),t=o._compiledTemplates.modal(e);else{var a="";if(e.buttons&&e.buttons.length>0)for(var i=0;i<e.buttons.length;i++)a+='<span class="modal-button'+(e.buttons[i].bold?" modal-button-bold":"")+'">'+e.buttons[i].text+"</span>";var n=e.title?'<div class="modal-title">'+e.title+"</div>":"",r=e.text?'<div class="modal-text">'+e.text+"</div>":"",s=e.afterText?e.afterText:"",d=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",p=e.verticalButtons?"modal-buttons-vertical":"",u=e.buttons&&e.buttons.length>0?'<div class="modal-buttons modal-buttons-'+e.buttons.length+" "+p+'">'+a+"</div>":"";
t='<div class="modal '+d+" "+(e.cssClass||"")+'"><div class="modal-inner">'+(n+r+s)+"</div>"+u+"</div>"}m.innerHTML=t;var f=l(m).children();return o.root.append(f[0]),f.find(".modal-button").each(function(t,a){l(a).on("click",function(a){e.buttons[t].close!==!1&&o.closeModal(f),e.buttons[t].onClick&&e.buttons[t].onClick(f,a),e.onClick&&e.onClick(f,t)})}),o.openModal(f),f[0]},o.alert=function(e,t,a){return"function"==typeof t&&(a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,buttons:[{text:o.params.modalButtonOk,bold:!0,onClick:a}]})},o.confirm=function(e,t,a,i){return"function"==typeof t&&(i=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,buttons:[{text:o.params.modalButtonCancel,onClick:i},{text:o.params.modalButtonOk,bold:!0,onClick:a}]})},o.prompt=function(e,t,a,i){return"function"==typeof t&&(i=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<div class="input-field"><input type="text" class="modal-text-input"></div>',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&i&&i(l(e).find(".modal-text-input").val()),1===t&&a&&a(l(e).find(".modal-text-input").val())}})},o.modalLogin=function(e,t,a,i){return"function"==typeof t&&(i=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<div class="input-field modal-input-double"><input type="text" name="modal-username" placeholder="'+o.params.modalUsernamePlaceholder+'" class="modal-text-input"></div><div class="input-field modal-input-double"><input type="password" name="modal-password" placeholder="'+o.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){var n=l(e).find('.modal-text-input[name="modal-username"]').val(),r=l(e).find('.modal-text-input[name="modal-password"]').val();0===t&&i&&i(n,r),1===t&&a&&a(n,r)}})},o.modalPassword=function(e,t,a,i){return"function"==typeof t&&(i=arguments[2],a=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?o.params.modalTitle:t,afterText:'<div class="input-field"><input type="password" name="modal-password" placeholder="'+o.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:o.params.modalButtonCancel},{text:o.params.modalButtonOk,bold:!0}],onClick:function(e,t){var n=l(e).find('.modal-text-input[name="modal-password"]').val();0===t&&i&&i(n),1===t&&a&&a(n)}})},o.showPreloader=function(e){return o.modal({title:e||o.params.modalPreloaderTitle,text:'<div class="preloader">'+(o.params.material?o.params.materialPreloaderHtml:"")+"</div>",cssClass:"modal-preloader"})},o.hidePreloader=function(){o.closeModal(".modal.modal-in")},o.showIndicator=function(){l(".preloader-indicator-overlay").length>0||o.root.append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white">'+(o.params.material?o.params.materialPreloaderHtml:"")+"</span></div>")},o.hideIndicator=function(){l(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},o.actions=function(e,t){var a,i,n,r=!1;1===arguments.length?t=e:o.device.ios?o.device.ipad&&(r=!0):l(window).width()>=768&&(r=!0),t=t||[],t.length>0&&!l.isArray(t[0])&&(t=[t]);var s;if(r){var d=o.params.modalActionsToPopoverTemplate||'<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';o._compiledTemplates.actionsToPopover||(o._compiledTemplates.actionsToPopover=c.compile(d));var p=o._compiledTemplates.actionsToPopover(t);a=l(o.popover(p,e,!0)),i=".list-block ul",n=".list-button"}else{if(o.params.modalActionsTemplate)o._compiledTemplates.actions||(o._compiledTemplates.actions=c.compile(o.params.modalActionsTemplate)),s=o._compiledTemplates.actions(t);else{for(var u="",f=0;f<t.length;f++)for(var h=0;h<t[f].length;h++){0===h&&(u+='<div class="actions-modal-group">');var v=t[f][h],g=v.label?"actions-modal-label":"actions-modal-button";v.bold&&(g+=" actions-modal-button-bold"),v.color&&(g+=" color-"+v.color),v.bg&&(g+=" bg-"+v.bg),v.disabled&&(g+=" disabled"),u+='<div class="'+g+'">'+v.text+"</div>",h===t[f].length-1&&(u+="</div>")}s='<div class="actions-modal">'+u+"</div>"}m.innerHTML=s,a=l(m).children(),o.root.append(a[0]),i=".actions-modal-group",n=".actions-modal-button"}var y=a.find(i);return y.each(function(e,i){var s=e;l(i).children().each(function(e,i){var c,d=e,p=t[s][d];!r&&l(i).is(n)&&(c=l(i)),r&&l(i).find(n).length>0&&(c=l(i).find(n)),c&&c.on("click",function(e){p.close!==!1&&o.closeModal(a),p.onClick&&p.onClick(a,e)})})}),r||o.openModal(a),a[0]},o.popover=function(e,t,a){function i(){e.css({left:"",top:""});var a,i,n,o=e.width(),s=e.height(),c=0;r?e.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom").css({left:"",top:""}):(a=e.find(".popover-angle"),c=a.width()/2,a.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}));var d=t.outerWidth(),p=t.outerHeight(),u=t.offset(),f=t.parents(".page");f.length>0&&(u.top=u.top-f[0].scrollTop);var h=l(window).height(),m=l(window).width(),v=0,g=0,y=0,b=r?"bottom":"top";if(r){if(s<h-u.top-p?(b="bottom",v=u.top):s<u.top?(v=u.top-s+p,b="top"):(b="bottom",v=u.top),v<=0?v=8:v+s>=h&&(v=h-s-8),g=u.left,g+o>=m-8&&(g=u.left+d-o-8),g<8&&(g=8),"top"===b&&e.addClass("popover-on-top"),"bottom"===b&&e.addClass("popover-on-bottom"),t.hasClass("floating-button-to-popover")&&!e.hasClass("modal-in")){e.addClass("popover-floating-button");var w=g+o/2-(u.left+d/2),_=v+s/2-(u.top+p/2);t.addClass("floating-button-to-popover-in").transform("translate3d("+w+"px, "+_+"px,0)").transitionEnd(function(e){t.hasClass("floating-button-to-popover-in")&&t.addClass("floating-button-to-popover-scale").transform("translate3d("+w+"px, "+_+"px,0) scale("+o/d+", "+s/p+")")}),e.once("popover:close",function(){t.removeClass("floating-button-to-popover-in floating-button-to-popover-scale").addClass("floating-button-to-popover-out").transform("").transitionEnd(function(e){t.removeClass("floating-button-to-popover-out")})}),e.once("popover:closed",function(){e.removeClass("popover-floating-button")})}}else s+c<u.top?v=u.top-s-c:s+c<h-u.top-p?(b="bottom",v=u.top+p+c):(b="middle",v=p/2+u.top-s/2,y=v,v<=0?v=5:v+s>=h&&(v=h-s-5),y-=v),"top"===b||"bottom"===b?(g=d/2+u.left-o/2,y=g,g<5&&(g=5),g+o>m&&(g=m-o-5),"top"===b&&a.addClass("on-bottom"),"bottom"===b&&a.addClass("on-top"),y-=g,i=o/2-c+y,i=Math.max(Math.min(i,o-2*c-13),13),a.css({left:i+"px"})):"middle"===b&&(g=u.left-o-c,a.addClass("on-right"),(g<5||g+o>m)&&(g<5&&(g=u.left+d+c),g+o>m&&(g=m-o-5),a.removeClass("on-right").addClass("on-left")),n=s/2-c+y,n=Math.max(Math.min(n,s-2*c-13),13),a.css({top:n+"px"}));e.css({top:v+"px",left:g+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var n=document.createElement("div");if(n.innerHTML=e.trim(),!(n.childNodes.length>0))return!1;e=n.childNodes[0],a&&e.classList.add("remove-on-close"),o.root.append(e)}if(e=l(e),t=l(t),0===e.length||0===t.length)return!1;0===e.parents("body").length&&(a&&e.addClass("remove-on-close"),o.root.append(e[0])),0!==e.find(".popover-angle").length||o.params.material||e.append('<div class="popover-angle"></div>'),e.show();var r=o.params.material;return i(),l(window).on("resize",i),e.on("popover:close",function(){l(window).off("resize",i)}),o.openModal(e),e[0]},o.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=e.trim(),!(a.childNodes.length>0))return!1;e=a.childNodes[0],t&&e.classList.add("remove-on-close"),o.root.append(e)}return e=l(e),0!==e.length&&(0===e.parents("body").length&&(t&&e.addClass("remove-on-close"),o.root.append(e[0])),e.show(),o.openModal(e),e[0])},o.pickerModal=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){if(e=l(e),!(e.length>0))return!1;t&&e.addClass("remove-on-close"),o.root.append(e[0])}return e=l(e),0!==e.length&&(0===e.parents("body").length&&(t&&e.addClass("remove-on-close"),o.root.append(e[0])),l(".picker-modal.modal-in:not(.modal-out)").length>0&&!e.hasClass("modal-in")&&o.closeModal(".picker-modal.modal-in:not(.modal-out)"),e.show(),o.openModal(e),e[0])},o.loginScreen=function(e){return e||(e=".login-screen"),e=l(e),0!==e.length&&(l(".login-screen.modal-in:not(.modal-out)").length>0&&!e.hasClass("modal-in")&&o.closeModal(".login-screen.modal-in:not(.modal-out)"),e.show(),o.openModal(e),e[0])},o.openModal=function(e){e=l(e);var t=e.hasClass("modal"),a=e.hasClass("popover"),i=e.hasClass("popup"),n=e.hasClass("login-screen"),r=e.hasClass("picker-modal"),s=e.hasClass("actions-modal"),c="modal";if(a&&(c="popover"),i&&(c="popup"),n&&(c="loginscreen"),r&&(c="picker"),s&&(c="actions"),l(".modal.modal-in:not(.modal-out)").length&&o.params.modalStack&&t)return void o.modalStack.push(function(){o.openModal(e)});if(!0!==e.data("f7-modal-shown")){e.data("f7-modal-shown",!0),e.once(c+":close",function(){e.removeData("f7-modal-shown")}),t&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"}));var d;n||r||(0!==l(".modal-overlay").length||i||o.root.append('<div class="modal-overlay"></div>'),0===l(".popup-overlay").length&&i&&o.root.append('<div class="popup-overlay"></div>'),d=l(i?".popup-overlay":".modal-overlay")),o.params.material&&r&&e.hasClass("picker-calendar")&&(0!==l(".picker-modal-overlay").length||i||o.root.append('<div class="picker-modal-overlay"></div>'),d=l(".picker-modal-overlay"));e[0].clientLeft;return e.trigger("open "+c+":open"),r&&l("body").addClass("with-picker-modal"),e.find("."+o.params.viewClass).length>0&&(e.find(".page").each(function(){o.initPageWithCallback(this)}),e.find(".navbar").each(function(){o.initNavbarWithCallback(this)})),n||r||d.addClass("modal-overlay-visible"),o.params.material&&r&&d&&d.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed "+c+":closed"):e.trigger("opened "+c+":opened")}),!0}},o.closeModal=function(e){if(e=l(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("modal"),a=e.hasClass("popover"),i=e.hasClass("popup"),n=e.hasClass("login-screen"),r=e.hasClass("picker-modal"),s=e.hasClass("actions-modal"),c="modal";a&&(c="popover"),i&&(c="popup"),n&&(c="loginscreen"),r&&(c="picker"),s&&(c="actions");var d,p=e.hasClass("remove-on-close"),u=e.hasClass("keep-on-close");return i?d=l(".popup-overlay"):r&&o.params.material?d=l(".picker-modal-overlay"):r||(d=l(".modal-overlay")),i?e.length===l(".popup.modal-in").length&&d.removeClass("modal-overlay-visible"):d&&d.length>0&&d.removeClass("modal-overlay-visible"),e.trigger("close "+c+":close"),r&&(l("body").removeClass("with-picker-modal"),l("body").addClass("picker-modal-closing")),!a||o.params.material?(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){if(e.hasClass("modal-out"))e.trigger("closed "+c+":closed");else if(e.trigger("opened "+c+":opened"),a)return;r&&l("body").removeClass("picker-modal-closing"),i||n||r||a?(e.removeClass("modal-out").hide(),p&&e.length>0&&e.remove()):u||e.remove()}),t&&o.params.modalStack&&o.modalStackClearQueue()):(e.removeClass("modal-in modal-out").trigger("closed "+c+":closed").hide(),p&&e.remove()),!0}},o.setProgressbar=function(e,t,a){if(e=l(e||o.root),0!==e.length){t&&(t=Math.min(Math.max(t,0),100));var i;if(i=e.hasClass("progressbar")?e:e.children(".progressbar"),0!==i.length&&!i.hasClass("progressbar-infinite")){i[0].clientLeft;return i.children("span").transform("translate3d("+(-100+t)+"%,0,0)"),"undefined"!=typeof a?i.children("span").transition(a):i.children("span").transition(""),i[0]}}},o.showProgressbar=function(e,t,a){if("number"==typeof e&&(e=o.root,t=arguments[0],a=arguments[1]),t&&"string"==typeof t&&parseFloat(t)!==1*t&&(a=t,t=void 0),e=l(e||o.root),0!==e.length){var i;return e.hasClass("progressbar")?i=e:(i=e.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)"),0===i.length&&(i=l("undefined"!=typeof t?'<span class="progressbar progressbar-in'+(a?" color-"+a:"")+'"><span></span></span>':'<span class="progressbar-infinite progressbar-in'+(a?" color-"+a:"")+'"></span>'),e.append(i))),t&&o.setProgressbar(e,t),i[0]}},o.hideProgressbar=function(e){if(e=l(e||o.root),0!==e.length){var t;t=e.hasClass("progressbar")?e:e.children(".progressbar, .progressbar-infinite"),0!==t.length&&t.hasClass("progressbar-in")&&!t.hasClass("progressbar-out")&&t.removeClass("progressbar-in").addClass("progressbar-out").animationEnd(function(){t.remove(),t=null})}},o.initPageProgressbar=function(e){e=l(e),e.find(".progressbar").each(function(){var e=l(this);0===e.children("span").length&&e.append("<span></span>"),e.attr("data-progress")&&o.setProgressbar(e,e.attr("data-progress"))})},o.allowPanelOpen=!0,o.openPanel=function(e){function t(){n.transitionEnd(function(e){l(e.target).is(n)?(a.hasClass("active")?a.trigger("opened panel:opened"):a.trigger("closed panel:closed"),o.params.material&&l(".panel-overlay").css({display:""}),o.allowPanelOpen=!0):t()})}if(!o.allowPanelOpen)return!1;var a=l(".panel-"+e);if(0===a.length||a.hasClass("active"))return!1;o.closePanel(),o.allowPanelOpen=!1;var i=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open panel:open"),o.params.material&&l(".panel-overlay").show(),a.find("."+o.params.viewClass).length>0&&o.sizeNavbars&&o.sizeNavbars(a.find("."+o.params.viewClass)[0]);var n=(a[0].clientLeft,"reveal"===i?l("."+o.params.viewsClass):a);return t(),l("body").addClass("with-panel-"+e+"-"+i),!0},o.closePanel=function(){var e=l(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",a=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var i="reveal"===t?l("."+o.params.viewsClass):e;e.trigger("close panel:close"),o.allowPanelOpen=!1,i.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed panel:closed"),l("body").removeClass("panel-closing"),o.allowPanelOpen=!0)}),l("body").addClass("panel-closing").removeClass("with-panel-"+a+"-"+t)},o.initSwipePanels=function(){function e(e){if(o.allowPanelOpen&&(o.params.swipePanel||o.params.swipePanelOnlyClose)&&!r&&!(l(".modal-in, .photo-browser-in").length>0)&&(o.params.swipePanelCloseOpposite||o.params.swipePanelOnlyClose||!(l(".panel.active").length>0)||i.hasClass("active"))){if(b.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,b.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o.params.swipePanelCloseOpposite||o.params.swipePanelOnlyClose){if(l(".panel.active").length>0)n=l(".panel.active").hasClass("panel-left")?"left":"right";else{if(o.params.swipePanelOnlyClose)return;n=o.params.swipePanel}if(!n)return}if(i=l(".panel.panel-"+n),h=i.hasClass("active"),o.params.swipePanelActiveArea&&!h){if("left"===n&&b.x>o.params.swipePanelActiveArea)return;if("right"===n&&b.x<window.innerWidth-o.params.swipePanelActiveArea)return}s=!1,r=!0,c=void 0,d=(new Date).getTime(),g=void 0}}function t(e){if(r&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof c&&(c=!!(c||Math.abs(a-b.y)>Math.abs(t-b.x))),c)return void(r=!1);if(!g){if(g=t>b.x?"to-right":"to-left","both"===n){if(n=l(".panel.active").length>0?l(".panel.active").hasClass("panel-left")?"left":"right":"to-right"===g?"left":"right",o.params.swipePanelActiveArea>0){if("left"===n&&b.x>o.params.swipePanelActiveArea)return void(r=!1);if("right"===n&&b.x<window.innerWidth-o.params.swipePanelActiveArea)return void(r=!1)}i=l(".panel.panel-"+n)}if("left"===n&&"to-left"===g&&!i.hasClass("active")||"right"===n&&"to-right"===g&&!i.hasClass("active"))return void(r=!1)}if(o.params.swipePanelNoFollow){var _=(new Date).getTime()-d;return _<300&&("to-left"===g&&("right"===n&&o.openPanel(n),"left"===n&&i.hasClass("active")&&o.closePanel()),"to-right"===g&&("left"===n&&o.openPanel(n),"right"===n&&i.hasClass("active")&&o.closePanel())),r=!1,void(s=!1)}s||(v=i.hasClass("panel-cover")?"cover":"reveal",h||(i.show(),y.show()),m=i[0].offsetWidth,i.transition(0),i.find("."+o.params.viewClass).length>0&&o.sizeNavbars&&o.sizeNavbars(i.find("."+o.params.viewClass)[0])),s=!0,e.preventDefault();var C=h?0:-o.params.swipePanelThreshold;"right"===n&&(C=-C),p=t-b.x+C,"right"===n?(u=p-(h?m:0),u>0&&(u=0),u<-m&&(u=-m)):(u=p+(h?m:0),u<0&&(u=0),u>m&&(u=m)),"reveal"===v?(w.transform("translate3d("+u+"px,0,0)").transition(0),y.transform("translate3d("+u+"px,0,0)").transition(0),o.pluginHook("swipePanelSetTransform",w[0],i[0],Math.abs(u/m))):(i.transform("translate3d("+u+"px,0,0)").transition(0),o.params.material&&(y.transition(0),f=Math.abs(u/m),y.css({opacity:f})),o.pluginHook("swipePanelSetTransform",w[0],i[0],Math.abs(u/m)))}}function a(e){if(!r||!s)return r=!1,void(s=!1);r=!1,s=!1;var t,a=(new Date).getTime()-d,c=0===u||Math.abs(u)===m;if(t=h?u===-m?"reset":a<300&&Math.abs(u)>=0||a>=300&&Math.abs(u)<=m/2?"left"===n&&u===m?"reset":"swap":"reset":0===u?"reset":a<300&&Math.abs(u)>0||a>=300&&Math.abs(u)>=m/2?"swap":"reset","swap"===t&&(o.allowPanelOpen=!0,h?(o.closePanel(),c&&(i.css({display:""}),l("body").removeClass("panel-closing"))):o.openPanel(n),c&&(o.allowPanelOpen=!0)),"reset"===t)if(h)o.allowPanelOpen=!0,o.openPanel(n);else if(o.closePanel(),c)o.allowPanelOpen=!0,i.css({display:""});else{var p="reveal"===v?w:i;i.trigger("close panel:close"),l("body").addClass("panel-closing"),p.transitionEnd(function(){i.trigger("close panel:closed"),i.css({display:""}),l("body").removeClass("panel-closing"),o.allowPanelOpen=!0})}"reveal"===v&&(w.transition(""),w.transform("")),i.transition("").transform(""),y.css({display:""}).transform("").transition("").css("opacity","")}var i,n;if(o.params.swipePanel){if(i=l(".panel.panel-"+o.params.swipePanel),n=o.params.swipePanel,0===i.length&&"both"!==n)return}else{if(!o.params.swipePanelOnlyClose)return;if(0===l(".panel").length)return}var r,s,c,d,p,u,f,h,m,v,g,y=l(".panel-overlay"),b={},w=l("."+o.params.viewsClass),_=!("touchstart"!==o.touchEvents.start||!o.support.passiveListener)&&{passive:!0,capture:!1};l(document).on(o.touchEvents.start,e,_),l(document).on(o.touchEvents.move,t),l(document).on(o.touchEvents.end,a,_)},o.initImagesLazyLoad=function(e){function t(e){function a(){e.removeClass("lazy").addClass("lazy-loaded"),i?e.css("background-image","url("+n+")"):e.attr("src",n),o.params.imagesLazyLoadSequential&&(u=!1,p.length>0&&t(p.shift()))}e=l(e);var i=e.attr("data-background"),n=i?i:e.attr("data-src");if(n){if(o.params.imagesLazyLoadSequential&&u)return void(p.indexOf(e[0])<0&&p.push(e[0]));u=!0;var r=new Image;r.onload=a,r.onerror=a,r.src=n}}function a(){s=e.find(".lazy"),s.each(function(e,a){a=l(a),a.parents(".tab:not(.active)").length>0||i(a[0])&&t(a)})}function i(e){var t=e.getBoundingClientRect(),a=o.params.imagesLazyLoadThreshold||0;return t.top>=0-a&&t.left>=0-a&&t.top<=window.innerHeight+a&&t.left<=window.innerWidth+a}function n(t){var i=t?"off":"on";s[i]("lazy",a),s.parents(".tab")[i]("show",a),e[i]("lazy",a),c[i]("lazy",a),c[i]("scroll",a),l(window)[i]("resize",a)}function r(){n(!0)}e=l(e);var s;if(e.hasClass("lazy")?(s=e,e=s.parents(".page")):s=e.find(".lazy"),0!==s.length){var c;if(e.hasClass("page-content")?(c=e,e=e.parents(".page")):c=e.find(".page-content"),0!==c.length){var d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";"string"==typeof o.params.imagesLazyLoadPlaceholder&&(d=o.params.imagesLazyLoadPlaceholder),o.params.imagesLazyLoadPlaceholder!==!1&&s.each(function(){l(this).attr("data-src")&&l(this).attr("src",d)});var p=[],u=!1;e[0].f7DestroyImagesLazyLoad=r,n(),e.hasClass("page")&&e.once("page:beforeremove",r),a(),e.once("page:afteranimation",a)}}},o.destroyImagesLazyLoad=function(e){e=l(e),e.length>0&&e[0].f7DestroyImagesLazyLoad&&e[0].f7DestroyImagesLazyLoad()},o.reinitImagesLazyLoad=function(e){e=l(e),e.length>0&&e.trigger("lazy")},o.initPageMaterialPreloader=function(e){l(e).find(".preloader").each(function(){0===l(this).children().length&&l(this).html(o.params.materialPreloaderHtml)})};var v=function(e,t){var a={autoLayout:!0,newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnlyOnEdge:!1,messageTemplate:'{{#if day}}<div class="messages-date">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>{{/if}}<div class="message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}">{{#if name}}<div class="message-name">{{name}}</div>{{/if}}<div class="message-text">{{text}}{{#if date}}<div class="message-date">{{date}}</div>{{/if}}</div>{{#if avatar}}<div class="message-avatar" style="background-image:url({{avatar}})"></div>{{/if}}{{#if label}}<div class="message-label">{{label}}</div>{{/if}}</div>'};t=t||{};for(var i in a)"undefined"!=typeof t[i]&&null!==t[i]||(t[i]=a[i]);var n=this;if(n.params=t,n.container=l(e),0!==n.container.length)return n.params.autoLayout&&n.container.addClass("messages-auto-layout"),n.params.newMessagesFirst&&n.container.addClass("messages-new-first"),n.pageContainer=n.container.parents(".page").eq(0),n.pageContent=n.pageContainer.find(".page-content"),n.template=Template7.compile(n.params.messageTemplate),n.layout=function(){n.container.hasClass("messages-auto-layout")||n.container.addClass("messages-auto-layout"),n.container.find(".message").each(function(){var e=l(this);if(e.find(".message-text img").length>0){for(var t=e.find(".message-text")[0].childNodes,a=!0,i=0;i<t.length;i++)1===t[i].nodeType&&"img"!==t[i].nodeName.toLowerCase()&&(a=!1),3===t[i].nodeType&&""!==t[i].textContent.trim()&&(a=!1);a?e.addClass("message-pic"):e.removeClass("message-pic")}e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),n.container.find(".message").each(function(){var e=l(this),t=e.hasClass("message-sent"),a=e.next(".message-"+(t?"sent":"received")),i=e.prev(".message-"+(t?"sent":"received"));0===a.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===i.length?e.addClass("message-first"):e.removeClass("message-first"),i.length>0&&i.find(".message-name").length>0&&e.find(".message-name").length>0&&i.find(".message-name").text()!==e.find(".message-name").text()&&(i.addClass("message-last message-with-tail"),e.addClass("message-first"))})},n.appendMessage=function(e,t){return n.addMessage(e,"append",t)},n.prependMessage=function(e,t){return n.addMessage(e,"prepend",t)},n.addMessage=function(e,t,a){return n.addMessages([e],t,a)},n.addMessages=function(e,t,a){"undefined"==typeof a&&(a=!0),"undefined"==typeof t&&(t=n.params.newMessagesFirst?"prepend":"append");var i,r="";for(i=0;i<e.length;i++){var o=e[i]||{};o.type=o.type||"sent",o.text&&(o.hasImage=o.text.indexOf("<img")>=0,o.onlyImage===!1&&(o.hasImage=!1),a&&(o.position="append"===t?"bottom":"top"),r+=n.template(o))}var s=n.pageContent[0].scrollHeight,l=n.pageContent[0].offsetHeight,c=n.pageContent[0].scrollTop;if(n.container[t](r),n.params.autoLayout&&n.layout(),"prepend"===t&&(n.pageContent[0].scrollTop=c+(n.pageContent[0].scrollHeight-s)),n.params.scrollMessages&&"append"===t&&!n.params.newMessagesFirst||"prepend"===t&&n.params.newMessagesFirst)if(n.params.scrollMessagesOnlyOnEdge){var d=!1;n.params.newMessagesFirst?0===c&&(d=!0):c-(s-l)>=-10&&(d=!0),d&&n.scrollMessages(a?void 0:0)}else n.scrollMessages(a?void 0:0);var p=n.container.find(".message");if(1===e.length)return"append"===t?p[p.length-1]:p[0];var u=[];if("append"===t)for(i=p.length-e.length;i<p.length;i++)u.push(p[i]);else for(i=0;i<e.length;i++)u.push(p[i]);return u},n.removeMessage=function(e){return e=l(e),0!==e.length&&(e.remove(),n.params.autoLayout&&n.layout(),!0)},n.removeMessages=function(e){n.removeMessage(e)},n.clean=function(){n.container.html("")},n.scrollMessages=function(e,t){"undefined"==typeof e&&(e=400);var a,i=n.pageContent[0].scrollTop;if("undefined"!=typeof t)a=t;else if(a=n.params.newMessagesFirst?0:n.pageContent[0].scrollHeight-n.pageContent[0].offsetHeight,a===i)return;n.pageContent.scrollTop(a,e)},n.init=function(){n.params.messages?n.addMessages(n.params.messages,void 0,!1):(n.params.autoLayout&&n.layout(),n.scrollMessages(0))},n.destroy=function(){n=null},n.init(),n.container[0].f7Messages=n,n};o.messages=function(e,t){return new v(e,t)},o.initPageMessages=function(e){function t(){i.destroy(),e.off("page:beforeremove",t)}e=l(e);var a=e.find(".messages");if(0!==a.length&&a.hasClass("messages-init")){var i=o.messages(a,a.dataset());e.hasClass("page")&&e.on("page:beforeremove",t)}},o.swipeoutOpenedEl=void 0,o.allowSwipeout=!0,o.initSwipeout=function(e){function t(e){o.allowSwipeout&&(r=!1,n=!0,s=void 0,I.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,I.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=(new Date).getTime())}function a(e){if(n){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof s&&(s=!!(s||Math.abs(a-I.y)>Math.abs(t-I.x))),s)return void(n=!1);if(!r){if(l(".list-block.sortable-opened").length>0)return;p=l(this),u=p.find(".swipeout-content"),f=p.find(".swipeout-actions-right"),h=p.find(".swipeout-actions-left"),m=v=w=_=x=k=null,P=h.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,O=f.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,h.length>0&&(m=h.outerWidth(),w=h.children("a"),k=h.find(".swipeout-overswipe")),f.length>0&&(v=f.outerWidth(),_=f.children("a"),x=f.find(".swipeout-overswipe")),y=p.hasClass("swipeout-opened"),y&&(b=p.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),p.removeClass("transitioning"),o.params.swipeoutNoFollow||(p.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),p.removeClass("swipeout-opened"))}if(r=!0,e.preventDefault(),d=t-I.x,g=d,y&&("right"===b?g-=v:g+=m),g>0&&0===h.length||g<0&&0===f.length){if(!y)return n=r=!1,u.transform(""),_&&_.length>0&&_.transform(""),void(w&&w.length>0&&w.transform(""));g=0}C=g<0?"to-left":g>0?"to-right":C?C:"to-left";var i,c,D;if(e.f7PreventPanelSwipe=!0,o.params.swipeoutNoFollow)return y?("right"===b&&d>0&&o.swipeoutClose(p),"left"===b&&d<0&&o.swipeoutClose(p)):(d<0&&f.length>0&&o.swipeoutOpen(p,"right"),d>0&&h.length>0&&o.swipeoutOpen(p,"left")),n=!1,void(r=!1);T=!1,S=!1;var E;if(f.length>0)for(D=g/v,g<-v&&(g=-v-Math.pow(-g-v,.8),x.length>0&&(S=!0)),i=0;i<_.length;i++)"undefined"==typeof _[i]._buttonOffset&&(_[i]._buttonOffset=_[i].offsetLeft),c=_[i]._buttonOffset,E=l(_[i]),x.length>0&&E.hasClass("swipeout-overswipe")&&(E.css({left:(S?-c:0)+"px"}),S?E.addClass("swipeout-overswipe-active"):E.removeClass("swipeout-overswipe-active")),E.transform("translate3d("+(g-c*(1+Math.max(D,-1)))+"px,0,0)");if(h.length>0)for(D=g/m,g>m&&(g=m+Math.pow(g-m,.8),k.length>0&&(T=!0)),i=0;i<w.length;i++)"undefined"==typeof w[i]._buttonOffset&&(w[i]._buttonOffset=m-w[i].offsetLeft-w[i].offsetWidth),c=w[i]._buttonOffset,E=l(w[i]),k.length>0&&E.hasClass("swipeout-overswipe")&&(E.css({left:(T?c:0)+"px"}),T?E.addClass("swipeout-overswipe-active"):E.removeClass("swipeout-overswipe-active")),w.length>1&&E.css("z-index",w.length-i),E.transform("translate3d("+(g+c*(1-Math.min(D,1)))+"px,0,0)");u.transform("translate3d("+g+"px,0,0)")}}function i(e){if(!n||!r)return n=!1,void(r=!1);n=!1,r=!1;var t,a,i,s,b,k,x=(new Date).getTime()-c;if(k="to-left"===C?O:P,i="to-left"===C?f:h,a="to-left"===C?v:m,t=x<300&&(d<-10&&"to-left"===C||d>10&&"to-right"===C)||x>=300&&Math.abs(g)>a/2?"open":"close",x<300&&(0===Math.abs(g)&&(t="close"),Math.abs(g)===a&&(t="open")),"open"===t){o.swipeoutOpenedEl=p,p.trigger("open swipeout:open"),p.addClass("swipeout-opened transitioning");var I="to-left"===C?-a:a;if(u.transform("translate3d("+I+"px,0,0)"),i.addClass("swipeout-actions-opened"),s="to-left"===C?_:w)for(b=0;b<s.length;b++)l(s[b]).transform("translate3d("+I+"px,0,0)");S&&f.find(".swipeout-overswipe")[0].click(),T&&h.find(".swipeout-overswipe")[0].click()}else p.trigger("close swipeout:close"),o.swipeoutOpenedEl=void 0,p.addClass("transitioning").removeClass("swipeout-opened"),u.transform(""),i.removeClass("swipeout-actions-opened");var D;if(w&&w.length>0&&w!==s)for(b=0;b<w.length;b++)D=w[b]._buttonOffset,"undefined"==typeof D&&(w[b]._buttonOffset=m-w[b].offsetLeft-w[b].offsetWidth),l(w[b]).transform("translate3d("+D+"px,0,0)");if(_&&_.length>0&&_!==s)for(b=0;b<_.length;b++)D=_[b]._buttonOffset,"undefined"==typeof D&&(_[b]._buttonOffset=_[b].offsetLeft),l(_[b]).transform("translate3d("+-D+"px,0,0)");u.transitionEnd(function(e){y&&"open"===t||closed&&"close"===t||(p.trigger("open"===t?"opened":"closed"),y&&"close"===t&&(f.length>0&&_.transform(""),h.length>0&&w.transform("")))})}var n,r,s,c,d,p,u,f,h,m,v,g,y,b,w,_,C,k,x,T,S,P,O,I={};l(document).on(o.touchEvents.start,function(e){if(o.swipeoutOpenedEl){var t=l(e.target);o.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(o.swipeoutOpenedEl)||t.hasClass("modal-in")||t.hasClass("modal-overlay")||t.hasClass("actions-modal")||t.parents(".actions-modal.modal-in, .modal.modal-in").length>0||o.swipeoutClose(o.swipeoutOpenedEl)}}),e?(l(e).on(o.touchEvents.start,t),l(e).on(o.touchEvents.move,a),l(e).on(o.touchEvents.end,i)):(l(document).on(o.touchEvents.start,".list-block li.swipeout",t),l(document).on(o.touchEvents.move,".list-block li.swipeout",a),l(document).on(o.touchEvents.end,".list-block li.swipeout",i))},o.swipeoutOpen=function(e,t,a){if(e=l(e),2===arguments.length&&"function"==typeof arguments[1]&&(a=t),0!==e.length&&(e.length>1&&(e=l(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var i=e.find(".swipeout-actions-"+t);if(0!==i.length){i.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold;e.trigger("open swipeout:open").addClass("swipeout-opened").removeClass("transitioning"),i.addClass("swipeout-actions-opened");var n,r=i.children("a"),s=i.outerWidth(),c="right"===t?-s:s;if(r.length>1){for(n=0;n<r.length;n++)"right"===t?l(r[n]).transform("translate3d("+-r[n].offsetLeft+"px,0,0)"):l(r[n]).css("z-index",r.length-n).transform("translate3d("+(s-r[n].offsetWidth-r[n].offsetLeft)+"px,0,0)");r[1].clientLeft}for(e.addClass("transitioning"),n=0;n<r.length;n++)l(r[n]).transform("translate3d("+c+"px,0,0)");e.find(".swipeout-content").transform("translate3d("+c+"px,0,0)").transitionEnd(function(){e.trigger("opened swipeout:opened"),a&&a.call(e[0])}),o.swipeoutOpenedEl=e}}},o.swipeoutClose=function(e,t){function a(){o.allowSwipeout=!0,e.hasClass("swipeout-opened")||(e.removeClass("transitioning"),r.transform(""),e.trigger("closed swipeout:closed"),t&&t.call(e[0]),c&&clearTimeout(c))}if(e=l(e),0!==e.length&&e.hasClass("swipeout-opened")){var i=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",n=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),r=(n.hasClass("swipeout-actions-no-fold")||o.params.swipeoutActionsNoFold,n.children("a")),s=n.outerWidth();o.allowSwipeout=!1,e.trigger("close swipeout:close"),e.removeClass("swipeout-opened").addClass("transitioning");var c;
e.find(".swipeout-content").transform("").transitionEnd(a),c=setTimeout(a,500);for(var d=0;d<r.length;d++)"right"===i?l(r[d]).transform("translate3d("+-r[d].offsetLeft+"px,0,0)"):l(r[d]).transform("translate3d("+(s-r[d].offsetWidth-r[d].offsetLeft)+"px,0,0)"),l(r[d]).css({left:"0px"}).removeClass("swipeout-overswipe-active");o.swipeoutOpenedEl&&o.swipeoutOpenedEl[0]===e[0]&&(o.swipeoutOpenedEl=void 0)}},o.swipeoutDelete=function(e,t){if(e=l(e),0!==e.length){e.length>1&&(e=l(e[0])),o.swipeoutOpenedEl=void 0,e.trigger("delete swipeout:delete"),e.css({height:e.outerHeight()+"px"});e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(e.trigger("deleted swipeout:deleted"),t&&t.call(e[0]),e.parents(".virtual-list").length>0){var a=e.parents(".virtual-list")[0].f7VirtualList,i=e[0].f7VirtualListIndex;a&&"undefined"!=typeof i&&a.deleteItem(i)}else o.params.swipeoutRemoveWithTimeout?setTimeout(function(){e.remove()},0):e.remove()});var a="-100%";e.find(".swipeout-content").transform("translate3d("+a+",0,0)")}},o.sortableToggle=function(e){return e=l(e),0===e.length&&(e=l(".list-block.sortable")),e.toggleClass("sortable-opened"),e.hasClass("sortable-opened")?e.trigger("open sortable:open"):e.trigger("close sortable:close"),e},o.sortableOpen=function(e){return e=l(e),0===e.length&&(e=l(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open sortable:open"),e},o.sortableClose=function(e){return e=l(e),0===e.length&&(e=l(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close sortable:close"),e},o.initSortable=function(){function e(e){n=!1,i=!0,r="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=l(this).parent(),g=c.index(),p=c.parent().find("li"),v=c.parents(".sortable"),e.preventDefault(),o.allowPanelOpen=o.allowSwipeout=!1}function t(e){if(i&&c){var t=("touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);n||(c.addClass("sorting"),v.addClass("sortable-sorting"),u=c[0].offsetTop,f=c.parent().height()-c[0].offsetTop-c.height(),d=c[0].offsetHeight),n=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,s=t-r;var a=s;a<-u&&(a=-u),a>f&&(a=f),c.transform("translate3d(0,"+a+"px,0)"),m=h=void 0,p.each(function(){var e=l(this);if(e[0]!==c[0]){var t=e[0].offsetTop,i=e.height(),n=c[0].offsetTop+a;n>=t-i/2&&c.index()<e.index()?(e.transform("translate3d(0, "+-d+"px,0)"),h=e,m=void 0):n<=t+i/2&&c.index()>e.index()?(e.transform("translate3d(0, "+d+"px,0)"),h=void 0,m||(m=e)):l(this).transform("translate3d(0, 0%,0)")}})}}function a(e){if(o.allowPanelOpen=o.allowSwipeout=!0,!i||!n)return i=!1,void(n=!1);e.preventDefault(),p.transform(""),c.removeClass("sorting"),v.removeClass("sortable-sorting");var t,a,r;h&&(c.insertAfter(h),c.trigger("sort sortable:sort",{startIndex:g,newIndex:c.index()})),m&&(c.insertBefore(m),c.trigger("sort sortable:sort",{startIndex:g,newIndex:c.index()})),(h||m)&&v.hasClass("virtual-list")&&(t=v[0].f7VirtualList,a=c[0].f7VirtualListIndex,r=m?m[0].f7VirtualListIndex:h[0].f7VirtualListIndex,t&&t.moveItem(a,r)),h=m=void 0,i=!1,n=!1}var i,n,r,s,c,d,p,u,f,h,m,v,g;l(document).on(o.touchEvents.start,".list-block.sortable .sortable-handler",e),o.support.touch?(l(document).on(o.touchEvents.move,".list-block.sortable .sortable-handler",t),l(document).on(o.touchEvents.end,".list-block.sortable .sortable-handler",a)):(l(document).on(o.touchEvents.move,t),l(document).on(o.touchEvents.end,a))},o.initSmartSelects=function(e){e=l(e);var t;t=e.is(".smart-select")?e:e.find(".smart-select"),0!==t.length&&t.each(function(){var e=l(this),t=e.find("select");if(0!==t.length){var a=t[0];if(0!==a.length){for(var i=[],n=0;n<a.length;n++)a[n].selected&&i.push(a[n].textContent.trim());var r=e.find(".item-after");if(0===r.length)e.find(".item-inner").append('<div class="item-after">'+i.join(", ")+"</div>");else{var o=r.text();if(r.hasClass("smart-select-value"))for(n=0;n<a.length;n++)a[n].selected=a[n].textContent.trim()===o.trim();else r.text(i.join(", "))}t.on("change",function(){for(var t=[],i=0;i<a.length;i++)a[i].selected&&t.push(a[i].textContent.trim());e.find(".item-after").text(t.join(", "))})}}})},o.smartSelectAddOption=function(e,t,a){e=l(e);var i=e.parents(".smart-select");"undefined"==typeof a?e.append(t):l(t).insertBefore(e.find("option").eq(a)),o.initSmartSelects(i);var n=i.find("select").attr("name"),r=l('.page.smart-select-page[data-select-name="'+n+'"]').length>0;r&&o.smartSelectOpen(i,!0)},o.smartSelectOpen=function(e,t){function a(){var t=e.parents(".page-content");if(0!==t.length){var a,i=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-i-re.height(),o=t[0].scrollHeight-i-re.height(),s=e.offset().top-i+e[0].offsetHeight;if(s>r){var l=t.scrollTop()+s-r;l+r>o&&(a=l+r-o+n,r===o&&(a=re.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(l,300)}}}function i(t){var a=!0;(t.target===e[0]||l(t.target).parents(e[0]).length>0)&&(a=!1),l(t.target).parents(".picker-modal").length>0&&(a=!1),a&&o.closeModal(".smart-select-picker.modal-in")}function n(e){x.selectedOptions.length>=V?e.find('input[type="checkbox"]').each(function(){this.checked?l(this).parents("li").removeClass("disabled"):l(this).parents("li").addClass("disabled")}):e.find(".disabled").removeClass("disabled")}function r(t){if(t=l(t),w){var a=o.virtualList(t.find(".virtual-list"),{items:$,template:U,height:_||void 0,searchByItem:function(e,t,a){return!!(a.text&&a.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0)}});t.once("popup"===p||"picker"===p?"closed":"pageBeforeRemove",function(){a&&a.destroy&&a.destroy()})}V&&n(t),v&&t.find('input[type="radio"][name="'+R+'"]:checked').parents("label").once("click",function(){"popup"===p?o.closeModal(ne):"picker"===p?o.closeModal(re):d.router.back()}),t.on("change",'input[name="'+R+'"]',function(){var a=this,i=a.value,r=[];if("checkbox"===a.type){for(var s=0;s<x.options.length;s++){var l=x.options[s];l.value===i&&(l.selected=a.checked),l.selected&&r.push(l.textContent.trim())}V&&n(t)}else r=[e.find('option[value="'+i+'"]').text()],x.value=i;T.trigger("change"),e.find(".item-after").text(r.join(", ")),v&&"radio"===F&&("popup"===p?o.closeModal(ne):"picker"===p?o.closeModal(re):d.router.back())})}function s(e){var t=e.detail.page;t.name===ae&&r(t.container)}if(e=l(e),0!==e.length){var d=e.parents("."+o.params.viewClass);if(0!==d.length){d=d[0].f7View;var p=e.attr("data-open-in")||o.params.smartSelectOpenIn;if("popup"===p){if(l(".popup.smart-select-popup").length>0)return}else if("picker"===p){if(l(".picker-modal.modal-in").length>0&&!t){if(e[0].f7SmartSelectPicker===l(".picker-modal.modal-in:not(.modal-out)")[0])return;o.closeModal(l(".picker-modal.modal-in:not(.modal-out)"))}}else if(!d)return;var u,f=e.dataset(),h=f.pageTitle||e.find(".item-title").text(),m=f.backText||o.params.smartSelectBackText;u="picker"===p?f.pickerCloseText||f.backText||o.params.smartSelectPickerCloseText:f.popupCloseText||f.backText||o.params.smartSelectPopupCloseText;var v=void 0!==f.backOnSelect?f.backOnSelect:o.params.smartSelectBackOnSelect,g=f.formTheme||o.params.smartSelectFormTheme,y=f.navbarTheme||o.params.smartSelectNavbarTheme,b=f.toolbarTheme||o.params.smartSelectToolbarTheme,w=f.virtualList,_=f.virtualListHeight,C=o.params.material,k=f.pickerHeight||o.params.smartSelectPickerHeight,x=e.find("select")[0],T=l(x),S=T.dataset();if(!(x.disabled||e.hasClass("disabled")||T.hasClass("disabled"))){for(var P,O,I,D,E,M,j,L,A,N,z,$=[],B=(new Date).getTime(),F=x.multiple?"checkbox":"radio",R=F+"-"+B,V=T.attr("maxlength"),H=x.name,q=0;q<x.length;q++)P=l(x[q]),z=P.dataset(),I=z.optionImage||S.optionImage||f.optionImage,D=z.optionIcon||S.optionIcon||f.optionIcon,O=I||D||"checkbox"===F,C&&(O=I||D),A=z.optionColor,N=z.optionClass,P[0].disabled&&(N+=" disabled"),E=P.parent("optgroup")[0],M=E&&E.label,j=!1,E&&E!==L&&(j=!0,L=E,$.push({groupLabel:M,isLabel:j})),$.push({value:P[0].value,text:P[0].textContent.trim(),selected:P[0].selected,group:E,groupLabel:M,image:I,icon:D,color:A,className:N,disabled:P[0].disabled,inputType:F,id:B,hasMedia:O,checkbox:"checkbox"===F,inputName:R,material:o.params.material});o._compiledTemplates.smartSelectItem||(o._compiledTemplates.smartSelectItem=c.compile(o.params.smartSelectItemTemplate||'{{#if isLabel}}<li class="item-divider">{{groupLabel}}</li>{{else}}<li{{#if className}} class="{{className}}"{{/if}}><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if material}}{{#if hasMedia}}<div class="item-media">{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div><div class="item-after"><i class="icon icon-form-{{inputType}}"></i></div>{{else}}<div class="item-media"><i class="icon icon-form-{{inputType}}"></i></div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}{{else}}{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}</label></li>{{/if}}'));var U=o._compiledTemplates.smartSelectItem,Y="";if(!w)for(var W=0;W<$.length;W++)Y+=U($[W]);var G,X,Q="",J="",K="",Z="";"picker"===p?(o._compiledTemplates.smartSelectToolbar||(o._compiledTemplates.smartSelectToolbar=c.compile(o.params.smartSelectToolbarTemplate||'<div class="toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker"><span>{{closeText}}</span></a></div></div></div>')),Q=o._compiledTemplates.smartSelectToolbar({pageTitle:h,closeText:u,openIn:p,toolbarTheme:b,inPicker:"picker"===p})):(o._compiledTemplates.smartSelectNavbar||(o._compiledTemplates.smartSelectNavbar=c.compile(o.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>')),G=o._compiledTemplates.smartSelectNavbar({pageTitle:h,backText:m,closeText:u,openIn:p,navbarTheme:y,inPopup:"popup"===p,inPage:"page"===p,leftTemplate:"popup"===p?(o.params.smartSelectPopupCloseTemplate||(C?'<div class="left"><a href="#" class="link close-popup icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g,u):(o.params.smartSelectBackTemplate||(C?'<div class="left"><a href="#" class="back link icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g,m)}),"page"===p?(X="static",e.parents(".navbar-through").length>0&&(X="through"),e.parents(".navbar-fixed").length>0&&(X="fixed"),K=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",J=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+X,Z=e.parents(".page").hasClass("no-tabbar")?"no-tabbar":""):X="fixed");var ee,te,ae="smart-select-"+R,ie="undefined"==typeof e.data("searchbar")?o.params.smartSelectSearchbar:"true"===e.data("searchbar");ie&&(ee=e.data("searchbar-placeholder")||"Search",te=e.data("searchbar-cancel")||"Cancel");var ne,re,oe='<form class="searchbar searchbar-init" data-search-list=".smart-select-list-'+B+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+ee+'"><a href="#" class="searchbar-clear"></a></div>'+(C?"":'<a href="#" class="searchbar-cancel">'+te+"</a>")+'</form><div class="searchbar-overlay"></div>',se=("picker"!==p&&"through"===X?G:"")+'<div class="pages">  <div data-page="'+ae+'" data-select-name="'+H+'" class="page smart-select-page '+J+" "+K+" "+Z+'">'+("picker"!==p&&"fixed"===X?G:"")+(ie?oe:"")+'    <div class="page-content">'+("picker"!==p&&"static"===X?G:"")+'      <div class="list-block '+(w?"virtual-list":"")+" smart-select-list-"+B+" "+(g?"theme-"+g:"")+'">        <ul>'+(w?"":Y)+"        </ul>      </div>    </div>  </div></div>";"popup"===p?(t?(ne=l(".popup.smart-select-popup .view"),ne.html(se)):(ne=o.popup('<div class="popup smart-select-popup smart-select-popup-'+R+'"><div class="view navbar-fixed">'+se+"</div></div>"),ne=l(ne)),o.initPage(ne.find(".page")),r(ne)):"picker"===p?(t?(re=l(".picker-modal.smart-select-picker .view"),re.html(se)):(re=o.pickerModal('<div class="picker-modal smart-select-picker smart-select-picker-'+R+'"'+(k?' style="height:'+k+'"':"")+">"+Q+'<div class="picker-modal-inner"><div class="view">'+se+"</div></div></div>"),re=l(re),a(),l("html").on("click",i),re.once("picker:close",function(){e[0].f7SmartSelectPicker=void 0,l("html").off("click",i),e.parents(".page-content").css({paddingBottom:""})}),e[0].f7SmartSelectPicker=re[0]),o.initPage(re.find(".page")),r(re)):(l(document).once("page:init",".smart-select-page",s),d.router.load({content:se,reload:!!t||void 0}))}}}};var g=function(e,t){var a={cols:1,height:o.params.material?48:44,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1};t=t||{};for(var i in a)"undefined"==typeof t[i]&&(t[i]=a[i]);var n=this;n.listBlock=l(e),n.params=t,n.items=n.params.items,n.params.showFilteredItemsOnly&&(n.filteredItems=[]),n.params.template&&("string"==typeof n.params.template?n.template=c.compile(n.params.template):"function"==typeof n.params.template&&(n.template=n.params.template)),n.pageContent=n.listBlock.parents(".page-content");var r;"undefined"!=typeof n.params.updatableScroll?r=n.params.updatableScroll:(r=!0,o.device.ios&&o.device.osVersion.split(".")[0]<8&&(r=!1),n.params.updatableScroll=r),n.ul=n.params.ul?l(n.params.ul):n.listBlock.children("ul"),0===n.ul.length&&(n.listBlock.append("<ul></ul>"),n.ul=n.listBlock.children("ul")),n.domCache={},n.displayDomCache={},n.tempDomElement=document.createElement("ul"),n.lastRepaintY=null,n.fragment=document.createDocumentFragment(),n.filterItems=function(e,t){n.filteredItems=[];for(var a=(e[0],e[e.length-1],0);a<e.length;a++)n.filteredItems.push(n.items[e[a]]);"undefined"==typeof t&&(t=!0),t&&(n.pageContent[0].scrollTop=0),n.update()},n.resetFilter=function(){n.params.showFilteredItemsOnly?n.filteredItems=[]:(n.filteredItems=null,delete n.filteredItems),n.update()};var s,d,p,u,f,h,m=0,v="function"==typeof n.params.height;return n.setListSize=function(){var e=n.filteredItems||n.items;if(s=n.pageContent[0].offsetHeight,v){h=0,n.heights=[];for(var t=0;t<e.length;t++){var a=n.params.height(e[t]);h+=a,n.heights.push(a)}}else h=Math.ceil(e.length/n.params.cols)*n.params.height,d=Math.ceil(s/n.params.height),p=n.params.rowsBefore||2*d,u=n.params.rowsAfter||d,f=d+p+u,m=p/2*n.params.height;r&&n.ul.css({height:h+"px"})},n.render=function(e,t){e&&(n.lastRepaintY=null);var a=-(n.listBlock[0].getBoundingClientRect().top-n.pageContent[0].getBoundingClientRect().top);if("undefined"!=typeof t&&(a=t),null===n.lastRepaintY||Math.abs(a-n.lastRepaintY)>m||!r&&n.pageContent[0].scrollTop+s>=n.pageContent[0].scrollHeight){n.lastRepaintY=a;var i,o,l=n.filteredItems||n.items,c=0,d=0;if(v){var u,h,g=0;for(m=s,u=0;u<n.heights.length;u++)h=n.heights[u],"undefined"==typeof i&&(g+h>=a-2*s*n.params.dynamicHeightBufferSize?i=u:c+=h),"undefined"==typeof o&&((g+h>=a+2*s*n.params.dynamicHeightBufferSize||u===n.heights.length-1)&&(o=u+1),d+=h),g+=h;o=Math.min(o,l.length)}else i=(parseInt(a/n.params.height)-p)*n.params.cols,i<0&&(i=0),o=Math.min(i+f*n.params.cols,l.length);var y;n.reachEnd=!1;for(var b=i;b<o;b++){var w,_;_=n.items.indexOf(l[b]),b===i&&(n.currentFromIndex=_),b===o-1&&(n.currentToIndex=_),n.filteredItems?n.items[_]===n.filteredItems[n.filteredItems.length-1]&&(n.reachEnd=!0):_===n.items.length-1&&(n.reachEnd=!0),n.domCache[_]?w=n.domCache[_]:(n.template?n.tempDomElement.innerHTML=n.template(l[b],{index:_}).trim():n.params.renderItem?n.tempDomElement.innerHTML=n.params.renderItem(_,l[b]).trim():n.tempDomElement.innerHTML=l[b].trim(),w=n.tempDomElement.childNodes[0],n.params.cache&&(n.domCache[_]=w)),w.f7VirtualListIndex=_,b===i&&(y=v?c:b*n.params.height/n.params.cols),w.style.top=y+"px",n.params.onItemBeforeInsert&&n.params.onItemBeforeInsert(n,w),n.fragment.appendChild(w)}r||(v?n.ul[0].style.height=d+"px":n.ul[0].style.height=b*n.params.height/n.params.cols+"px"),n.params.onBeforeClear&&n.params.onBeforeClear(n,n.fragment),n.ul[0].innerHTML="",n.params.onItemsBeforeInsert&&n.params.onItemsBeforeInsert(n,n.fragment),n.ul[0].appendChild(n.fragment),n.params.onItemsAfterInsert&&n.params.onItemsAfterInsert(n,n.fragment),"undefined"!=typeof t&&e&&n.pageContent.scrollTop(t,0)}},n.scrollToItem=function(e){if(e>n.items.length)return!1;var t,a=0;if(v)for(var i=0;i<e;i++)a+=n.heights[i];else a=e*n.params.height;return t=n.listBlock[0].offsetTop,n.render(!0,t+a-parseInt(n.pageContent.css("padding-top"),10)),!0},n.handleScroll=function(e){n.render()},n._isVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},n.handleResize=function(e){n._isVisible(n.listBlock[0])&&(n.setListSize(),n.render(!0))},n.attachEvents=function(e){var t=e?"off":"on";n.pageContent[t]("scroll",n.handleScroll),n.listBlock.parents(".tab").eq(0)[t]("show",n.handleResize),l(window)[t]("resize",n.handleResize)},n.init=function(){n.attachEvents(),n.setListSize(),n.render()},n.appendItems=function(e){for(var t=0;t<e.length;t++)n.items.push(e[t]);n.update()},n.appendItem=function(e){n.appendItems([e])},n.replaceAllItems=function(e){n.items=e,delete n.filteredItems,n.domCache={},n.update()},n.replaceItem=function(e,t){n.items[e]=t,n.params.cache&&delete n.domCache[e],n.update()},n.prependItems=function(e){for(var t=e.length-1;t>=0;t--)n.items.unshift(e[t]);if(n.params.cache){var a={};for(var i in n.domCache)a[parseInt(i,10)+e.length]=n.domCache[i];n.domCache=a}n.update()},n.prependItem=function(e){n.prependItems([e])},n.moveItem=function(e,t){if(e!==t){var a=n.items.splice(e,1)[0];if(t>=n.items.length?(n.items.push(a),t=n.items.length-1):n.items.splice(t,0,a),n.params.cache){var i={};for(var r in n.domCache){var o=parseInt(r,10),s=e<t?e:t,l=e<t?t:e,c=e<t?-1:1;(o<s||o>l)&&(i[o]=n.domCache[o]),o===s&&(i[l]=n.domCache[o]),o>s&&o<=l&&(i[o+c]=n.domCache[o])}n.domCache=i}n.update()}},n.insertItemBefore=function(e,t){if(0===e)return void n.prependItem(t);if(e>=n.items.length)return void n.appendItem(t);if(n.items.splice(e,0,t),n.params.cache){var a={};for(var i in n.domCache){var r=parseInt(i,10);r>=e&&(a[r+1]=n.domCache[r])}n.domCache=a}n.update()},n.deleteItems=function(e){for(var t,a=0,i=0;i<e.length;i++){var r=e[i];"undefined"!=typeof t&&r>t&&(a=-i),r+=a,t=e[i];var o=n.items.splice(r,1)[0];if(n.filteredItems&&n.filteredItems.indexOf(o)>=0&&n.filteredItems.splice(n.filteredItems.indexOf(o),1),n.params.cache){var s={};for(var l in n.domCache){var c=parseInt(l,10);c===r?delete n.domCache[r]:parseInt(l,10)>r?s[c-1]=n.domCache[l]:s[c]=n.domCache[l]}n.domCache=s}}n.update()},n.deleteAllItems=function(){n.items=[],delete n.filteredItems,n.params.cache&&(n.domCache={}),n.update()},n.deleteItem=function(e){n.deleteItems([e])},n.clearCache=function(){n.domCache={}},n.update=function(){n.setListSize(),n.render(!0)},n.destroy=function(){n.attachEvents(!0),delete n.items,delete n.domCache},n.init(),n.listBlock[0].f7VirtualList=n,n};o.virtualList=function(e,t){return new g(e,t)},o.reinitVirtualList=function(e){var t=l(e),a=t.find(".virtual-list");if(0!==a.length)for(var i=0;i<a.length;i++){var n=a[i].f7VirtualList;n&&n.update()}},o.initPullToRefresh=function(e){function t(e){if(d){if("android"!==o.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}m=l(this),m.hasClass("refreshing")||(p=!1,_=!1,d=!0,u=void 0,y=void 0,"touchstart"===e.type&&(c=e.targetTouches[0].identifier),C.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,C.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,h=(new Date).getTime())}function a(e){if(d){var t,a,i;if("touchmove"===e.type){if(c&&e.touches)for(var n=0;n<e.touches.length;n++)e.touches[n].identifier===c&&(i=e.touches[n]);i||(i=e.targetTouches[0]),t=i.pageX,a=i.pageY}else t=e.pageX,a=e.pageY;if(t&&a){if("undefined"==typeof u&&(u=!!(u||Math.abs(a-C.y)>Math.abs(t-C.x))),!u)return void(d=!1);if(g=m[0].scrollTop,"undefined"==typeof y&&0!==g&&(y=!0),!p){if(m.removeClass("transitioning"),g>m[0].offsetHeight)return void(d=!1);w&&(b=m.attr("data-ptr-distance"),b.indexOf("%")>=0&&(b=m[0].offsetHeight*parseInt(b,10)/100)),T=m.hasClass("refreshing")?b:0,x=m[0].scrollHeight===m[0].offsetHeight||"ios"!==o.device.os}return p=!0,f=a-C.y,f>0&&g<=0||g<0?("ios"===o.device.os&&parseInt(o.device.osVersion.split(".")[0],10)>7&&0===g&&!y&&(x=!0),x&&(e.preventDefault(),v=Math.pow(f,.85)+T,m.transform("translate3d(0,"+v+"px,0)")),x&&Math.pow(f,.85)>b||!x&&f>=2*b?(k=!0,m.addClass("pull-up").removeClass("pull-down")):(k=!1,m.removeClass("pull-up").addClass("pull-down")),_||(m.trigger("pullstart ptr:pullstart"),_=!0),m.trigger("pullmove ptr:pullmove",{event:e,scrollTop:g,translate:v,touchesDiff:f}),void 0):(_=!1,m.removeClass("pull-up pull-down"),void(k=!1))}}}function i(e){if(!("touchend"===e.type&&e.changedTouches&&e.changedTouches.length>0&&c&&e.changedTouches[0].identifier!==c)){if(!d||!p)return d=!1,void(p=!1);v&&(m.addClass("transitioning"),v=0),m.transform(""),k?(m.addClass("refreshing"),m.trigger("refresh ptr:refresh",{done:function(){o.pullToRefreshDone(m)}})):m.removeClass("pull-down"),d=!1,p=!1,_&&m.trigger("pullend ptr:pullend")}}function n(){s.off(o.touchEvents.start,t),s.off(o.touchEvents.move,a),s.off(o.touchEvents.end,i)}function r(){n(),S.off("page:beforeremove",r)}var s=l(e);if(s.hasClass("pull-to-refresh-content")||(s=s.find(".pull-to-refresh-content")),s&&0!==s.length){var c,d,p,u,f,h,m,v,g,y,b,w,_,C={},k=!1,x=!1,T=0,S=s.hasClass("page")?s:s.parents(".page"),P=!1;(S.find(".navbar").length>0||S.parents(".navbar-fixed, .navbar-through").length>0||S.hasClass("navbar-fixed")||S.hasClass("navbar-through"))&&(P=!0),S.hasClass("no-navbar")&&(P=!1),P||s.addClass("pull-to-refresh-no-navbar"),m=s,m.attr("data-ptr-distance")?w=!0:b=44;var O=!("touchstart"!==o.touchEvents.start||!o.support.passiveListener)&&{passive:!0,capture:!1};s.on(o.touchEvents.start,t,O),s.on(o.touchEvents.move,a),s.on(o.touchEvents.end,i,O),0!==S.length&&(s[0].f7DestroyPullToRefresh=n,S.on("page:beforeremove",r))}},o.pullToRefreshDone=function(e){e=l(e),0===e.length&&(e=l(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down"),e.trigger("refreshdone ptr:done")})},o.pullToRefreshTrigger=function(e){e=l(e),0===e.length&&(e=l(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh ptr:refresh",{done:function(){o.pullToRefreshDone(e)}}))},o.destroyPullToRefresh=function(e){e=l(e);var t=e.hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");0!==t.length&&t[0].f7DestroyPullToRefresh&&t[0].f7DestroyPullToRefresh()},o.attachInfiniteScroll=function(e){l(e).on("scroll",n)},o.detachInfiniteScroll=function(e){l(e).off("scroll",n)},o.initPageInfiniteScroll=function(e){function t(){o.detachInfiniteScroll(a),e.off("page:beforeremove",t)}e=l(e);var a=e.find(".infinite-scroll");0!==a.length&&(o.attachInfiniteScroll(a),e.on("page:beforeremove",t))},o.initPageScrollToolbars=function(e){function t(t){e.hasClass("page-on-left")||(f=a[0].scrollTop,g=a[0].scrollHeight,y=a[0].offsetHeight,b=f+y>=g-S,_=d.hasClass("navbar-hidden"),C=p.hasClass("toolbar-hidden"),k=c&&c.hasClass("toolbar-hidden"),b?o.params.showBarsOnPageScrollEnd&&(w="show"):w=u>f?o.params.showBarsOnPageScrollTop||f<=44?"show":"hide":f>44?"hide":"show","show"===w?(h&&i&&_&&(o.showNavbar(d),e.removeClass("no-navbar-by-scroll"),_=!1),m&&n&&C&&(o.showToolbar(p),e.removeClass("no-toolbar-by-scroll"),C=!1),v&&r&&k&&(o.showToolbar(c),e.removeClass("no-tabbar-by-scroll"),k=!1)):(h&&i&&!_&&(o.hideNavbar(d),e.addClass("no-navbar-by-scroll"),_=!0),m&&n&&!C&&(o.hideToolbar(p),e.addClass("no-toolbar-by-scroll"),C=!0),v&&r&&!k&&(o.hideToolbar(c),e.addClass("no-tabbar-by-scroll"),k=!0)),u=f)}e=l(e);var a=e.find(".page-content");if(0!==a.length){var i=(o.params.hideNavbarOnPageScroll||a.hasClass("hide-navbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-navbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),n=(o.params.hideToolbarOnPageScroll||a.hasClass("hide-toolbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-toolbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),r=(o.params.hideTabbarOnPageScroll||a.hasClass("hide-tabbar-on-scroll"))&&!a.hasClass("keep-tabbar-on-scroll");if(i||n||r){var s=a.parents("."+o.params.viewClass);if(0!==s.length){var c,d=s.find(".navbar"),p=s.find(".toolbar");r&&(c=s.find(".tabbar"),0===c.length&&(c=s.parents("."+o.params.viewsClass).find(".tabbar")));var u,f,h=d.length>0,m=p.length>0,v=c&&c.length>0;u=f=a[0].scrollTop;var g,y,b,w,_,C,k,x=m&&n?p[0].offsetHeight:0,T=v&&r?c[0].offsetHeight:0,S=T||x;a.on("scroll",t),a[0].f7ScrollToolbarsHandler=t}}}},o.destroyScrollToolbars=function(e){e=l(e);var t=e.find(".page-content");if(0!==t.length){var a=t[0].f7ScrollToolbarsHandler;a&&t.off("scroll",t[0].f7ScrollToolbarsHandler)}},o.materialTabbarSetHighlight=function(e,t){e=l(e),t=t||e.find(".tab-link.active");var a,i;e.hasClass("tabbar-scrollable")?(a=t[0].offsetWidth+"px",i=(o.rtl?-t[0].offsetLeft:t[0].offsetLeft)+"px"):(a=1/e.find(".tab-link").length*100+"%",i=100*(o.rtl?-t.index():t.index())+"%"),e.find(".tab-link-highlight").css({width:a}).transform("translate3d("+i+",0,0)")},o.initPageMaterialTabbar=function(e){function t(){o.materialTabbarSetHighlight(a)}e=l(e);var a=l(e).find(".tabbar");a.length>0&&(0===a.find(".tab-link-highlight").length&&a.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),t(),l(window).on("resize",t),e.once("page:beforeremove",function(){l(window).off("resize",t)}))},o.showTab=function(e,t,a){var i=l(e);if(2===arguments.length&&"boolean"==typeof t&&(a=t),0===i.length)return!1;if(i.hasClass("active"))return a&&i.trigger("show tab:show"),!1;var n=i.parent(".tabs");if(0===n.length)return!1;o.allowSwipeout=!0;var r=n.parent().hasClass("tabs-animated-wrap");if(r){var s=100*(o.rtl?i.index():-i.index());n.transform("translate3d("+s+"%,0,0)")}var c,d=n.parent().hasClass("tabs-swipeable-wrap");d&&(c=n.parent()[0].swiper,c.activeIndex!==i.index()&&c.slideTo(i.index(),void 0,!1));var p=n.children(".tab.active").removeClass("active").trigger("hide tab:hide");if(i.addClass("active"),i.trigger("show tab:show"),!r&&!d&&i.find(".navbar").length>0){var u;u=i.hasClass(o.params.viewClass)?i[0]:i.parents("."+o.params.viewClass)[0],o.sizeNavbars(u)}if(t?t=l(t):(t=l("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+i.attr("id")+'"]'),(!t||t&&0===t.length)&&l("[data-tab]").each(function(){i.is(l(this).attr("data-tab"))&&(t=l(this))})),0!==t.length){var f;if(p&&p.length>0){var h=p.attr("id");h&&(f=l('.tab-link[href="#'+h+'"]')),(!f||f&&0===f.length)&&l("[data-tab]").each(function(){p.is(l(this).attr("data-tab"))&&(f=l(this))})}if(t&&t.length>0&&(t.addClass("active"),o.params.material)){var m=t.parents(".tabbar");m.length>0&&(0===m.find(".tab-link-highlight").length&&m.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),o.materialTabbarSetHighlight(m,t))}return f&&f.length>0&&f.removeClass("active"),!0}},o.accordionToggle=function(e){e=l(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?o.accordionClose(e):o.accordionOpen(e))},o.accordionOpen=function(e){e=l(e);var t=e.parents(".accordion-list").eq(0),a=e.children(".accordion-item-content");0===a.length&&(a=e.find(".accordion-item-content"));var i=t.length>0&&e.parent().children(".accordion-item-expanded");i.length>0&&o.accordionClose(i),a.css("height",a[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){a.transition(0),a.css("height","auto");a[0].clientLeft;a.transition(""),e.trigger("opened accordion:opened")}else a.css("height",""),e.trigger("closed accordion:closed")}),e.trigger("open accordion:open"),e.addClass("accordion-item-expanded")},o.accordionClose=function(e){e=l(e);var t=e.children(".accordion-item-content");0===t.length&&(t=e.find(".accordion-item-content")),e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");t[0].clientLeft;t.transition(""),e.trigger("opened accordion:opened")}else t.css("height",""),e.trigger("closed accordion:closed")}),e.trigger("close accordion:close")},o.initFastClicks=function(){function e(e){var t,a=l(e),i=a.parents(o.params.activeStateElements);return a.is(o.params.activeStateElements)&&(t=a),i.length>0&&(t=t?t.add(i):i),t?t:a}function t(e){var t=e.parents(".page-content, .panel");return 0!==t.length&&("yes"!==t.prop("scrollHandlerSet")&&(t.on("scroll",function(){clearTimeout($),clearTimeout(q)}),t.prop("scrollHandlerSet","yes")),!0)}function a(){z&&z.addClass("active-state")}function i(e){z&&(z.removeClass("active-state"),z=null)}function n(e){var t="input select textarea label".split(" ");return!!(e.nodeName&&t.indexOf(e.nodeName.toLowerCase())>=0)}function r(e){var t="button input textarea select".split(" ");return!(!document.activeElement||e===document.activeElement||document.activeElement===document.body)&&!(t.indexOf(e.nodeName.toLowerCase())>=0)}function s(e){var t=l(e);return("input"!==e.nodeName.toLowerCase()||"file"!==e.type&&"range"!==e.type)&&(("select"!==e.nodeName.toLowerCase()||!o.device.android)&&(!(t.hasClass("no-fastclick")||t.parents(".no-fastclick").length>0)&&(!o.params.fastClicksExclude||!t.is(o.params.fastClicksExclude))))}function c(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),a="button checkbox file image radio submit".split(" ");return!e.disabled&&!e.readOnly&&("textarea"===t||("select"===t?!o.device.android:"input"===t&&a.indexOf(e.type)<0||void 0))}function d(e){e=l(e);var t=!0;return(e.is("label")||e.parents("label").length>0)&&(t=!o.device.android&&!(!o.device.ios||!e.is("input"))),t}function p(t){e(t.target).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){l(".active-state").removeClass("active-state")},0),o.params.material&&o.params.materialRipple&&(S=t.pageX,P=t.pageY,g(t.target,t.pageX,t.pageY))}function u(e){l(".active-state").removeClass("active-state"),o.params.material&&o.params.materialRipple&&y()}function f(e){l(".active-state").removeClass("active-state"),o.params.material&&o.params.materialRipple&&b()}function h(e){var t=o.params.materialRippleElements,a=l(e);if(a.is(t))return!a.hasClass("no-ripple")&&a;if(a.parents(t).length>0){var i=a.parents(t).eq(0);return!i.hasClass("no-ripple")&&i}return!1}function m(e,t,a){if(a){var i=a[0].getBoundingClientRect(),n={x:e-i.left,y:t-i.top},r=i.height,o=i.width,s=Math.max(Math.pow(Math.pow(r,2)+Math.pow(o,2),.5),48);R=l('<div class="ripple-wave" style="width: '+s+"px; height: "+s+"px; margin-top:-"+s/2+"px; margin-left:-"+s/2+"px; left:"+n.x+"px; top:"+n.y+'px;"></div>'),a.prepend(R);R[0].clientLeft;H="translate3d("+(-n.x+o/2)+"px, "+(-n.y+r/2)+"px, 0) scale(1)",R.transform(H)}}function v(){if(R){var e=R,t=setTimeout(function(){e.remove()},400);R.addClass("ripple-wave-fill").transform(H.replace("scale(1)","scale(1.01)")).transitionEnd(function(){clearTimeout(t);var e=l(this).addClass("ripple-wave-out").transform(H.replace("scale(1)","scale(1.01)"));
t=setTimeout(function(){e.remove()},700),setTimeout(function(){e.transitionEnd(function(){clearTimeout(t),l(this).remove()})},0)}),R=V=void 0}}function g(e,a,i){return V=h(e),V&&0!==V.length?void(t(V)?q=setTimeout(function(){m(S,P,V)},80):m(S,P,V)):void(V=void 0)}function y(){clearTimeout(q),v()}function b(){R?v():V&&!L?(clearTimeout(q),m(S,P,V),setTimeout(v,0)):v()}function w(e){var t=e.changedTouches[0],a=document.createEvent("MouseEvents"),i="click";o.device.android&&"select"===I.nodeName.toLowerCase()&&(i="mousedown"),a.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),a.forwardedTouchEvent=!0,I.dispatchEvent(a)}function _(n){if(L=!1,A=!1,n.targetTouches.length>1)return z&&i(),!0;if(n.touches.length>1&&z&&i(),o.params.tapHold&&(N&&clearTimeout(N),N=setTimeout(function(){n&&n.touches&&n.touches.length>1||(A=!0,n.preventDefault(),l(n.target).trigger("taphold"))},o.params.tapHoldDelay)),F&&clearTimeout(F),B=s(n.target),!B)return D=!1,!0;if(o.device.ios||o.device.android&&"getSelection"in window){var c=window.getSelection();if(c.rangeCount&&c.focusNode!==document.body&&(!c.isCollapsed||document.activeElement===c.focusNode))return E=!0,!0;E=!1}o.device.android&&r(n.target)&&document.activeElement.blur(),D=!0,I=n.target,O=(new Date).getTime(),S=n.targetTouches[0].pageX,P=n.targetTouches[0].pageY,o.device.ios&&(M=void 0,l(I).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!M&&(M=e,M.f7ScrollTop=M.scrollTop)})),n.timeStamp-j<o.params.fastClicksDelayBetweenClicks&&n.preventDefault(),o.params.activeState&&(z=e(I),t(z)?$=setTimeout(a,80):a()),o.params.material&&o.params.materialRipple&&g(I,S,P)}function C(e){if(D){var t=!1,a=o.params.fastClicksDistanceThreshold;if(a){var n=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY;(Math.abs(n-S)>a||Math.abs(r-P)>a)&&(t=!0)}else t=!0;t&&(D=!1,I=null,L=!0,o.params.tapHold&&clearTimeout(N),o.params.activeState&&(clearTimeout($),i()),o.params.material&&o.params.materialRipple&&y())}}function k(e){if(clearTimeout($),clearTimeout(N),!D)return!E&&B&&(o.device.android&&!e.cancelable||e.preventDefault()),!0;if(document.activeElement===e.target)return o.params.activeState&&i(),o.params.material&&o.params.materialRipple&&b(),!0;if(E||e.preventDefault(),e.timeStamp-j<o.params.fastClicksDelayBetweenClicks)return setTimeout(i,0),!0;if(j=e.timeStamp,D=!1,o.device.ios&&M&&M.scrollTop!==M.f7ScrollTop)return!1;if(o.params.activeState&&(a(),setTimeout(i,0)),o.params.material&&o.params.materialRipple&&b(),c(I)){if(o.device.ios&&o.device.webView)return event.timeStamp-O>159?(I=null,!1):(I.focus(),!1);I.focus()}return document.activeElement&&I!==document.activeElement&&document.activeElement!==document.body&&"label"!==I.nodeName.toLowerCase()&&document.activeElement.blur(),e.preventDefault(),w(e),!1}function x(e){D=!1,I=null,clearTimeout($),clearTimeout(N),o.params.activeState&&i(),o.params.material&&o.params.materialRipple&&b()}function T(e){var t=!1;return D?(I=null,D=!1,!0):"submit"===e.target.type&&0===e.detail||"file"===e.target.type||(I||n(e.target)||(t=!0),B||(t=!0),document.activeElement===I&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),o.params.tapHold&&o.params.tapHoldPreventClicks&&A&&(t=!1),t||(e.stopImmediatePropagation(),e.stopPropagation(),I?(d(I)||L)&&e.preventDefault():e.preventDefault(),I=null),F=setTimeout(function(){B=!1},o.device.ios||o.device.androidChrome?100:400),o.params.tapHold&&(N=setTimeout(function(){A=!1},o.device.ios||o.device.androidChrome?100:400)),t)}o.params.activeState&&l("html").addClass("watch-active-state"),o.device.ios&&o.device.webView&&window.addEventListener("touchstart",function(){});var S,P,O,I,D,E,M,j,L,A,N,z,$,B,F,R,V,H,q;o.support.touch?(document.addEventListener("click",T,!0),document.addEventListener("touchstart",_),document.addEventListener("touchmove",C),document.addEventListener("touchend",k),document.addEventListener("touchcancel",x)):o.params.activeState&&(document.addEventListener("mousedown",p),document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)),o.params.material&&o.params.materialRipple&&document.addEventListener("contextmenu",function(e){z&&i(),b()})},o.initClickEvents=function(){function e(e){var t=l(this),a=l(e.target),i="a"===t[0].nodeName.toLowerCase()||t.parents("a").length>0||"a"===a[0].nodeName.toLowerCase()||a.parents("a").length>0;if(!i){var n;if(o.params.scrollTopOnNavbarClick&&t.is(".navbar .center")){var r=t.parents(".navbar");n=r.parents(".page-content"),0===n.length&&(r.parents(".page").length>0&&(n=r.parents(".page").find(".page-content")),0===n.length&&r.nextAll(".pages").length>0&&(n=r.nextAll(".pages").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")))}o.params.scrollTopOnStatusbarClick&&t.is(".statusbar-overlay")&&(n=l(".popup.modal-in").length>0?l(".popup.modal-in").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):l(".panel.active").length>0?l(".panel.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):l(".views > .view.active").length>0?l(".views > .view.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):l(".views").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")),n&&n.length>0&&(n.hasClass("tab")&&(n=n.parent(".tabs").children(".page-content.active")),n.length>0&&n.scrollTop(0,300))}}function t(e){var t=l(this),a=t.attr("href"),i="a"===t[0].nodeName.toLowerCase();if(i&&(t.is(o.params.externalLinks)||a&&a.indexOf("javascript:")>=0))return void(a&&"_system"===t.attr("target")&&(e.preventDefault(),window.open(a,"_system")));var n=t.dataset();if(t.hasClass("smart-select")&&o.smartSelectOpen&&o.smartSelectOpen(t),t.hasClass("open-panel")&&(1===l(".panel").length?l(".panel").hasClass("panel-left")?o.openPanel("left"):o.openPanel("right"):"right"===n.panel?o.openPanel("right"):o.openPanel("left")),t.hasClass("close-panel")&&o.closePanel(),t.hasClass("panel-overlay")&&o.params.panelsCloseByOutside&&o.closePanel(),t.hasClass("open-popover")){var r;r=n.popover?n.popover:".popover",o.popover(r,t)}t.hasClass("close-popover")&&o.closeModal(".popover.modal-in");var s;t.hasClass("open-popup")&&(s=n.popup?n.popup:".popup",o.popup(s)),t.hasClass("close-popup")&&(s=n.popup?n.popup:".popup.modal-in",o.closeModal(s));var p;if(t.hasClass("open-login-screen")&&(p=n.loginScreen?n.loginScreen:".login-screen",o.loginScreen(p)),t.hasClass("close-login-screen")&&o.closeModal(".login-screen.modal-in"),t.hasClass("modal-overlay")&&(l(".modal.modal-in").length>0&&o.params.modalCloseByOutside&&o.closeModal(".modal.modal-in"),l(".actions-modal.modal-in").length>0&&o.params.actionsCloseByOutside&&o.closeModal(".actions-modal.modal-in"),l(".popover.modal-in").length>0&&o.closeModal(".popover.modal-in")),t.hasClass("popup-overlay")&&l(".popup.modal-in").length>0&&o.params.popupCloseByOutside&&o.closeModal(".popup.modal-in"),t.hasClass("picker-modal-overlay")&&l(".picker-modal.modal-in").length>0&&o.closeModal(".picker-modal.modal-in"),t.hasClass("close-picker")){var u=l(".picker-modal.modal-in");u.length>0?o.closeModal(u):(u=l(".popover.modal-in .picker-modal"),u.length>0&&o.closeModal(u.parents(".popover")))}if(t.hasClass("open-picker")){var f;f=n.picker?n.picker:".picker-modal",o.pickerModal(f,t)}var h;if(t.hasClass("tab-link")&&(h=!0,o.showTab(n.tab||t.attr("href"),t)),t.hasClass("swipeout-close")&&o.swipeoutClose(t.parents(".swipeout-opened")),t.hasClass("swipeout-delete"))if(n.confirm){var m=n.confirm,v=n.confirmTitle;v?o.confirm(m,v,function(){o.swipeoutDelete(t.parents(".swipeout"))},function(){n.closeOnCancel&&o.swipeoutClose(t.parents(".swipeout"))}):o.confirm(m,function(){o.swipeoutDelete(t.parents(".swipeout"))},function(){n.closeOnCancel&&o.swipeoutClose(t.parents(".swipeout"))})}else o.swipeoutDelete(t.parents(".swipeout"));if(t.hasClass("toggle-sortable")&&o.sortableToggle(n.sortable),t.hasClass("open-sortable")&&o.sortableOpen(n.sortable),t.hasClass("close-sortable")&&o.sortableClose(n.sortable),t.hasClass("accordion-item-toggle")||t.hasClass("item-link")&&t.parent().hasClass("accordion-item")){var g=t.parent(".accordion-item");0===g.length&&(g=t.parents(".accordion-item")),0===g.length&&(g=t.parents("li")),o.accordionToggle(g)}if(t.hasClass("floating-button")&&t.parent().hasClass("speed-dial")&&t.parent().toggleClass("speed-dial-opened"),t.hasClass("close-speed-dial")&&l(".speed-dial-opened").removeClass("speed-dial-opened"),(!o.params.ajaxLinks||t.is(o.params.ajaxLinks))&&i&&o.params.router){i&&e.preventDefault();var y=a&&a.length>0&&"#"!==a&&!h,b=n.template;if(y||t.hasClass("back")||b){var w;if(n.view?w=l(n.view)[0].f7View:(w=t.parents("."+o.params.viewClass)[0]&&t.parents("."+o.params.viewClass)[0].f7View,w&&w.params.linksView&&("string"==typeof w.params.linksView?w=l(w.params.linksView)[0].f7View:w.params.linksView instanceof d&&(w=w.params.linksView))),w||o.mainView&&(w=o.mainView),!w)return;var _;if(b)a=void 0;else{if(a&&0===a.indexOf("#")&&"#"!==a){if(!w.params.domCache)return;_=a.split("#")[1]}if("#"===a&&!t.hasClass("back"))return}var C;"undefined"!=typeof n.animatePages?C=n.animatePages:(t.hasClass("with-animation")&&(C=!0),t.hasClass("no-animation")&&(C=!1));var k={animatePages:C,ignoreCache:n.ignoreCache,force:n.force,reload:n.reload,reloadPrevious:n.reloadPrevious,pageName:_,pushState:n.pushState,url:a};if(o.params.template7Pages){k.contextName=n.contextName;var x=n.context;x&&(k.context=JSON.parse(x))}b&&b in c.templates&&(k.template=c.templates[b]),t.hasClass("back")?w.router.back(k):w.router.load(k)}}}function a(e){e.preventDefault()}l(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay",t),(o.params.scrollTopOnNavbarClick||o.params.scrollTopOnStatusbarClick)&&l(document).on("click",".statusbar-overlay, .navbar .center",e),o.support.touch&&!o.device.android&&l(document).on(o.params.fastClicks?"touchstart":"touchmove",".panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay",a)},o.initResize=function(){l(window).on("resize",o.resize),l(window).on("orientationchange",o.orientationchange)},o.resize=function(){o.sizeNavbars&&o.sizeNavbars(),r()},o.orientationchange=function(){o.device&&o.device.minimalUi&&(90!==window.orientation&&window.orientation!==-90||(document.body.scrollTop=0)),r()},o.formsData={},o.formStoreData=function(e,t){o.formsData[e]=t,o.ls["f7form-"+e]=JSON.stringify(t)},o.formDeleteData=function(e){o.formsData[e]&&(o.formsData[e]="",delete o.formsData[e]),o.ls["f7form-"+e]&&(o.ls["f7form-"+e]="",o.ls.removeItem("f7form-"+e))},o.formGetData=function(e){return o.ls["f7form-"+e]?JSON.parse(o.ls["f7form-"+e]):o.formsData[e]?o.formsData[e]:void 0},o.formToData=function(e){if(e=l(e),1!==e.length)return!1;var t={},a=["submit","image","button","file"],i=[];return e.find("input, select, textarea").each(function(){var n=l(this),r=n.attr("name"),o=n.attr("type"),s=this.nodeName.toLowerCase();if(!(a.indexOf(o)>=0)&&!(i.indexOf(r)>=0)&&r)if("select"===s&&n.prop("multiple"))i.push(r),t[r]=[],e.find('select[name="'+r+'"] option').each(function(){this.selected&&t[r].push(this.value)});else switch(o){case"checkbox":i.push(r),t[r]=[],e.find('input[name="'+r+'"]').each(function(){this.checked&&t[r].push(this.value)});break;case"radio":i.push(r),e.find('input[name="'+r+'"]').each(function(){this.checked&&(t[r]=this.value)});break;default:t[r]=n.val()}}),e.trigger("formToJSON formToData form:todata",{formData:t}),t},o.formToJSON=o.formToData,o.formFromData=function(e,t){if(e=l(e),1!==e.length)return!1;var a=["submit","image","button","file"],i=[];e.find("input, select, textarea").each(function(){var n=l(this),r=n.attr("name"),o=n.attr("type"),s=this.nodeName.toLowerCase();if("undefined"!=typeof t[r]&&null!==t[r]&&!(a.indexOf(o)>=0)&&!(i.indexOf(r)>=0)&&r){if("select"===s&&n.prop("multiple"))i.push(r),e.find('select[name="'+r+'"] option').each(function(){t[r].indexOf(this.value)>=0?this.selected=!0:this.selected=!1});else switch(o){case"checkbox":i.push(r),e.find('input[name="'+r+'"]').each(function(){t[r].indexOf(this.value)>=0?this.checked=!0:this.checked=!1});break;case"radio":i.push(r),e.find('input[name="'+r+'"]').each(function(){t[r]===this.value?this.checked=!0:this.checked=!1});break;default:n.val(t[r])}"select"===s&&n.parents(".smart-select").length>0&&n.trigger("change")}}),e.trigger("formFromJSON formFromData form:fromdata",{formData:t})},o.formFromJSON=o.formFromData,o.initFormsStorage=function(e){function t(){var e=l(this),t=e[0].id;if(t){var a=o.formToData(e);a&&(o.formStoreData(t,a),e.trigger("store form:storedata",{data:a}))}}function a(){i.off("change submit",t),e.off("page:beforeremove",a)}e=l(e);var i=e.find("form.store-data");0!==i.length&&(i.each(function(){var e=this.getAttribute("id");if(e){var t=o.formGetData(e);t&&o.formFromData(this,t)}}),i.on("change submit",t),e.on("page:beforeremove",a))},l(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=l(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var a=(t.attr("method")||"GET").toUpperCase(),i=t.prop("enctype")||t.attr("enctype"),n=t.attr("action");if(n){var r;r="POST"===a?new FormData(t[0]):l.serializeObject(o.formToJSON(t[0]));var s=l.ajax({method:a,url:n,contentType:i,data:r,beforeSend:function(e){t.trigger("beforeSubmit form:beforesend",{data:r,xhr:e})},error:function(e){t.trigger("submitError form:error",{data:r,xhr:e})},success:function(e){t.trigger("submitted form:success",{data:e,xhr:s})}})}}}),o.resizeTextarea=function(e){if(e=l(e),e.hasClass("resizable")){e.css({height:""});var t=e[0].offsetHeight,a=t-e[0].clientHeight,i=e[0].scrollHeight;if(i+a>t){var n=i+a;e.css("height",n+"px")}}},o.resizableTextarea=function(e){function t(){clearTimeout(a),a=setTimeout(function(){o.resizeTextarea(e)},0)}if(e=l(e),0!==e.length){var a;return e[0].f7DestroyResizableTextarea=function(){e.off("change keydown keypress keyup paste cut",t)},e.on("change keydown keypress keyup paste cut",t)}},o.destroyResizableTextarea=function(e){e=l(e),e.length>0&&e.is("textarea")&&e[0].f7DestroyResizableTextarea?e[0].f7DestroyResizableTextarea():e.length>0&&e.find("textarea.resiable").each(function(){var e=this;e.f7DestroyResizableTextarea&&e.f7DestroyResizableTextarea()})},o.initPageResizableTextarea=function(e){e=l(e);var t=e.find("textarea.resizable");t.each(function(){o.resizableTextarea(this)})},o.initPageMaterialInputs=function(e){e=l(e);e.find("textarea.resizable");e.find(".item-input").each(function(){var e=l(this),t=["checkbox","button","submit","range","radio","image"];e.find("input, select, textarea").each(function(){var a=l(this);t.indexOf(a.attr("type"))<0&&(e.addClass("item-input-field"),""!==a.val().trim()&&a.parents(".item-input, .input-field").add(a.parents(".item-inner")).addClass("not-empty-state"))}),e.parents(".input-item, .inputs-list").length>0||e.parents(".list-block").eq(0).addClass("inputs-list")})},o.initMaterialWatchInputs=function(){function e(e){var t=l(this),a=t.attr("type");if(!(i.indexOf(a)>=0)){var n=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));n.addClass("focus-state")}}function t(e){var t=l(this),a=t.val(),n=t.attr("type");if(!(i.indexOf(n)>=0)){var r=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));r.removeClass("focus-state"),a&&""!==a.trim()?r.addClass("not-empty-state"):r.removeClass("not-empty-state")}}function a(e){var t=l(this),a=t.val(),n=t.attr("type");if(!(i.indexOf(n)>=0)){var r=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));a&&""!==a.trim()?r.addClass("not-empty-state"):r.removeClass("not-empty-state")}}var i=["checkbox","button","submit","range","radio","image"];l(document).on("change",".item-input input, .item-input select, .item-input textarea, input, textarea, select",a,!0),l(document).on("focus",".item-input input, .item-input select, .item-input textarea, input, textarea, select",e,!0),l(document).on("blur",".item-input input, .item-input select, .item-input textarea, input, textarea, select",t,!0)},o.pushStateQueue=[],o.pushStateClearQueue=function(){if(0!==o.pushStateQueue.length){var e,t=o.pushStateQueue.pop();o.params.pushStateNoAnimation===!0&&(e=!1),"back"===t.action&&o.router.back(t.view,{animatePages:e}),"loadPage"===t.action&&o.router.load(t.view,{url:t.stateUrl,animatePages:e,pushState:!1}),"loadContent"===t.action&&o.router.load(t.view,{content:t.stateContent,animatePages:e,pushState:!1}),"loadPageName"===t.action&&o.router.load(t.view,{pageName:t.statePageName,url:t.stateUrl,animatePages:e,pushState:!1})}},o.initPushState=function(){function e(e){if(!t){var a=o.mainView;if(a){var i=e.state;if(i||(i={viewIndex:o.views.indexOf(a),url:a.history[0]}),!(i.viewIndex<0)){var n,r=o.views[i.viewIndex],s=i&&i.url||void 0,l=i&&i.content||void 0,c=i&&i.pageName||void 0;o.params.pushStateNoAnimation===!0&&(n=!1),s!==r.url&&(r.history.indexOf(s)>=0?r.allowPageChange?o.router.back(r,{url:void 0,animatePages:n,pushState:!1,preloadOnly:!1}):o.pushStateQueue.push({action:"back",view:r}):l?r.allowPageChange?o.router.load(r,{content:l,animatePages:n,pushState:!1}):o.pushStateQueue.unshift({action:"loadContent",stateContent:l,view:r}):c?r.allowPageChange?o.router.load(r,{pageName:c,url:s,animatePages:n,pushState:!1}):o.pushStateQueue.unshift({action:"loadPageName",statePageName:c,view:r}):r.allowPageChange?o.router.load(r,{url:s,animatePages:n,pushState:!1}):o.pushStateQueue.unshift({action:"loadPage",stateUrl:s,view:r}))}}}}var t=!0;l(window).on("load",function(){setTimeout(function(){t=!1},0)}),document.readyState&&"complete"===document.readyState&&(t=!1),l(window).on("popstate",e)},o.swiper=function(e,t){return new Swiper(e,t)},o.initPageSwiper=function(e){function t(t){function a(){t.destroy(),e.off("page:beforeremove",a)}e.on("page:beforeremove",a)}e=l(e);var a=e.find(".swiper-init, .tabs-swipeable-wrap");0!==a.length&&a.each(function(){var e,a,i=l(this);i.hasClass("tabs-swipeable-wrap")&&(i.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),e=i.children(".tabs").children(".tab.active").index()),a=i.data("swiper")?JSON.parse(i.data("swiper")):i.dataset(),"undefined"==typeof a.initialSlide&&"undefined"!=typeof e&&(a.initialSlide=e),i.hasClass("tabs-swipeable-wrap")&&(a.onSlideChangeStart=function(e){o.showTab(e.slides.eq(e.activeIndex))});var n=o.swiper(i[0],a);t(n)})},o.reinitPageSwiper=function(e){e=l(e);var t=e.find(".swiper-init, .tabs-swipeable-wrap");if(0!==t.length)for(var a=0;a<t.length;a++){var i=t[0].swiper;i&&i.update(!0)}};var y=function(e){var t=this,a={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,zoomMax:3,zoomMin:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,material:o.params.material,materialPreloaderSvg:o.params.materialPreloaderSvg,materialPreloaderHtml:o.params.materialPreloaderHtml};e=e||{},!e.backLinkText&&o.params.material&&(a.backLinkText="");for(var i in a)"undefined"==typeof e[i]&&(e[i]=a[i]);e.maxZoom&&(e.zoomMax=e.maxZoom),e.minZoom&&(e.zoomMin=e.minZoom),t.params=e,t.params.iconsColorClass=t.params.iconsColor?"color-"+t.params.iconsColor:"dark"===t.params.theme?"color-white":"",t.params.preloaderColorClass="dark"===t.params.theme?"preloader-white":"";var n=t.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="swiper-zoom-container"><img src="{{js "this.url || this"}}"></span></div>',r=t.params.lazyPhotoTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader {{@root.preloaderColorClass}}">{{#if @root.material}}{{@root.materialPreloaderHtml}}{{/if}}</div><span class="swiper-zoom-container"><img data-src="{{js "this.url || this"}}" class="swiper-lazy"></span></div>',s=t.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{js "this.html || this"}}</div>',d=t.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{@index}}">{{caption}}</div>',p=t.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("popup"===e.type?"close-popup":"photo-browser-close-link")+' {{#unless backLinkText}}icon-only{{/unless}} {{js "this.type === \'page\' ? \'back\' : \'\'"}}"><i class="icon icon-back {{iconsColorClass}}"></i>{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}</a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">{{ofText}}</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',u=t.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev {{iconsColorClass}}"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-next {{iconsColorClass}}"></i></a></div></div>',f=c.compile('<div class="photo-browser photo-browser-{{theme}}"><div class="view navbar-fixed toolbar-fixed">{{#unless material}}{{#if navbar}}'+p+'{{/if}}{{/unless}}<div class="page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed" data-page="photo-browser-slides">{{#if material}}{{#if navbar}}'+p+"{{/if}}{{/if}}{{#if toolbar}}"+u+'{{/if}}<div class="photo-browser-captions photo-browser-captions-{{js "this.captionsTheme || this.theme"}}">{{#each photos}}{{#if caption}}'+d+"{{/if}}{{/each}}</div><div class=\"photo-browser-swiper-container swiper-container\"><div class=\"photo-browser-swiper-wrapper swiper-wrapper\">{{#each photos}}{{#js_compare \"this.html || ((typeof this === 'string' || this instanceof String) && (this.indexOf('<') >= 0 || this.indexOf('>') >= 0))\"}}"+s+"{{else}}{{#if @root.lazyLoading}}"+r+"{{else}}"+n+"{{/if}}{{/js_compare}}{{/each}}</div></div></div></div></div>")(t.params);t.activeIndex=t.params.initialSlide,t.openIndex=t.activeIndex,t.opened=!1,t.open=function(e){return"undefined"==typeof e&&(e=t.activeIndex),e=parseInt(e,10),t.opened&&t.swiper?void t.swiper.slideTo(e):(t.opened=!0,t.openIndex=e,"standalone"===t.params.type&&o.root.append(f),"popup"===t.params.type&&(t.popup=o.popup('<div class="popup photo-browser-popup">'+f+"</div>"),l(t.popup).on("popup:closed",t.onPopupClose)),"page"===t.params.type?(l(document).on("page:beforeinit",t.onPageBeforeInit),l(document).on("page:beforeremove",t.onPageBeforeRemove),t.params.view||(t.params.view=o.mainView),void t.params.view.loadContent(f)):(t.layout(t.openIndex),void(t.params.onOpen&&t.params.onOpen(t))))},t.close=function(){t.opened=!1,t.swiperContainer&&0!==t.swiperContainer.length&&(t.params.onClose&&t.params.onClose(t),t.attachEvents(!0),"standalone"===t.params.type&&t.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){t.container.remove()}),t.swiper.destroy(),t.swiper=t.swiperContainer=t.swiperWrapper=t.slides=void 0)},t.onPopupClose=function(e){t.close(),l(t.popup).off("page:beforeinit",t.onPopupClose)},t.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&t.layout(t.openIndex),l(document).off("page:beforeinit",t.onPageBeforeInit)},t.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&t.close(),l(document).off("page:beforeremove",t.onPageBeforeRemove)},t.onSliderTransitionStart=function(e){t.activeIndex=e.activeIndex;var a=e.activeIndex+1,i=e.slides.length;if(t.params.loop&&(i-=2,a-=e.loopedSlides,a<1&&(a=i+a),a>i&&(a-=i)),t.container.find(".photo-browser-current").text(a),t.container.find(".photo-browser-total").text(i),l(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isBeginning&&!t.params.loop&&l(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isEnd&&!t.params.loop&&l(".photo-browser-next").addClass("photo-browser-link-inactive"),t.captions.length>0){t.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var n=t.params.loop?e.slides.eq(e.activeIndex).attr("data-swiper-slide-index"):t.activeIndex;t.captionsContainer.find('[data-caption-index="'+n+'"]').addClass("photo-browser-caption-active")}var r=e.slides.eq(e.previousIndex).find("video");r.length>0&&"pause"in r[0]&&r[0].pause(),t.params.onTransitionStart&&t.params.onTransitionStart(e)},t.onSliderTransitionEnd=function(e){t.params.onTransitionEnd&&t.params.onTransitionEnd(e)},t.layout=function(e){"page"===t.params.type?t.container=l(".photo-browser-swiper-container").parents(".view"):t.container=l(".photo-browser"),"standalone"===t.params.type&&(t.container.addClass("photo-browser-in"),o.sizeNavbars(t.container)),t.swiperContainer=t.container.find(".photo-browser-swiper-container"),t.swiperWrapper=t.container.find(".photo-browser-swiper-wrapper"),t.slides=t.container.find(".photo-browser-slide"),t.captionsContainer=t.container.find(".photo-browser-captions"),t.captions=t.container.find(".photo-browser-caption");var a={nextButton:t.params.nextButton||".photo-browser-next",prevButton:t.params.prevButton||".photo-browser-prev",indexButton:t.params.indexButton,initialSlide:e,spaceBetween:t.params.spaceBetween,speed:t.params.speed,loop:t.params.loop,lazyLoading:t.params.lazyLoading,lazyLoadingInPrevNext:t.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:t.params.lazyLoadingOnTransitionStart,preloadImages:!t.params.lazyLoading,zoom:t.params.zoom,zoomMax:t.params.zoomMax,zoomMin:t.params.zoomMin,onTap:function(e,a){t.params.onTap&&t.params.onTap(e,a)},onClick:function(e,a){t.params.exposition&&t.toggleExposition(),t.params.onClick&&t.params.onClick(e,a)},onDoubleTap:function(e,a){t.params.onDoubleTap&&t.params.onDoubleTap(e,a)},onTransitionStart:function(e){t.onSliderTransitionStart(e)},onTransitionEnd:function(e){t.onSliderTransitionEnd(e)},onSlideChangeStart:t.params.onSlideChangeStart,onSlideChangeEnd:t.params.onSlideChangeEnd,onLazyImageLoad:function(e,a,i){t.params.onLazyImageLoad&&t.params.onLazyImageLoad(t,a,i)},onLazyImageReady:function(e,a,i){l(a).removeClass("photo-browser-slide-lazy"),t.params.onLazyImageReady&&t.params.onLazyImageReady(t,a,i)}};t.params.swipeToClose&&"page"!==t.params.type&&(a.onTouchStart=t.swipeCloseTouchStart,a.onTouchMoveOpposite=t.swipeCloseTouchMove,a.onTouchEnd=t.swipeCloseTouchEnd),t.swiper=o.swiper(t.swiperContainer,a),0===e&&t.onSliderTransitionStart(t.swiper),t.attachEvents()},t.attachEvents=function(e){var a=e?"off":"on";t.container.find(".photo-browser-close-link")[a]("click",t.close)},t.exposed=!1,t.toggleExposition=function(){t.container&&t.container.toggleClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.toggleClass("photo-browser-captions-exposed"),t.exposed=!t.exposed},t.enableExposition=function(){t.container&&t.container.addClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.addClass("photo-browser-captions-exposed"),t.exposed=!0},t.disableExposition=function(){t.container&&t.container.removeClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.removeClass("photo-browser-captions-exposed"),t.exposed=!1};var h,m,v,g,y,b=!1,w=!0,_=!1;return t.swipeCloseTouchStart=function(e,t){w&&(b=!0)},t.swipeCloseTouchMove=function(e,a){if(b){_||(_=!0,m="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,g=t.swiper.slides.eq(t.swiper.activeIndex),y=(new Date).getTime()),a.preventDefault(),v="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,h=m-v;var i=1-Math.abs(h)/300;g.transform("translate3d(0,"+-h+"px,0)"),t.swiper.container.css("opacity",i).transition(0)}},t.swipeCloseTouchEnd=function(e,a){if(b=!1,!_)return void(_=!1);_=!1,w=!1;var i=Math.abs(h),n=(new Date).getTime()-y;return n<300&&i>20||n>=300&&i>100?void setTimeout(function(){"standalone"===t.params.type&&t.close(),"popup"===t.params.type&&o.closeModal(t.popup),t.params.onSwipeToClose&&t.params.onSwipeToClose(t),w=!0},0):(0!==i?g.addClass("transitioning").transitionEnd(function(){w=!0,g.removeClass("transitioning")}):w=!0,t.swiper.container.css("opacity","").transition(""),void g.transform(""))},t};o.photoBrowser=function(e){return new y(e)};var b=function(e){function t(e){var t=r.input.val();r.params.source&&r.params.source(r,t,function(e){var i="",n=r.params.limit?Math.min(r.params.limit,e.length):e.length;r.items=e;var o,s=new RegExp("("+t+")","i");for(o=0;o<n;o++){var l="object"===a(e[o])?e[o][r.params.valueProperty]:e[o];i+=r.dropdownItemTemplate({value:l,text:("object"!==a(e[o])?e[o]:e[o][r.params.textProperty]).replace(s,"<b>$1</b>")})}""===i&&""===t&&r.params.dropdownPlaceholderText&&(i+=r.dropdownPlaceholderTemplate({text:r.params.dropdownPlaceholderText})),r.dropdown.find("ul").html(i)})}function i(e){for(var t,i=l(this),n=0;n<r.items.length;n++){var o="object"===a(r.items[n])?r.items[n][r.params.valueProperty]:r.items[n],s=i.attr("data-value");o!==s&&1*o!==1*s||(t=r.items[n])}r.params.updateInputValueOnSelect&&(r.input.val("object"===("undefined"==typeof t?"undefined":a(t))?t[r.params.textProperty]:t),r.input.trigger("input change")),r.params.onChange&&r.params.onChange(r,t),r.close()}function n(e){var t=l(e.target);t.is(r.input[0])||r.dropdown&&t.parents(r.dropdown[0]).length>0||r.close()}var r=this,s={popupCloseText:"Close",backText:"Back",searchbarPlaceholderText:"Search...",searchbarCancelText:"Cancel",openIn:"page",backOnSelect:!1,notFoundText:"Nothing found",valueProperty:"id",textProperty:"text",updateInputValueOnSelect:!0,expandInput:!1,preloaderColor:!1,preloader:!1};e=e||{};for(var d in s)"undefined"==typeof e[d]&&(e[d]=s[d]);r.params=e,r.params.opener&&(r.opener=l(r.params.opener));var p=r.params.view;if(!r.params.view&&r.opener&&r.opener.length){if(p=r.opener.parents("."+o.params.viewClass),0===p.length)return;p=p[0].f7View}if(!r.params.input||(r.input=l(r.params.input),0!==r.input.length||"dropdown"!==r.params.openIn)){r.value=r.params.value||[],r.id=(new Date).getTime(),r.inputType=r.params.multiple?"checkbox":"radio",r.inputName=r.inputType+"-"+r.id;var u=o.params.material,f=r.params.backOnSelect;if("dropdown"!==r.params.openIn){r.itemTemplate=c.compile(r.params.itemTemplate||'<li><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if material}}<div class="item-media"><i class="icon icon-form-{{inputType}}"></i></div><div class="item-inner"><div class="item-title">{{text}}</div></div>{{else}}{{#if checkbox}}<div class="item-media"><i class="icon icon-form-checkbox"></i></div>{{/if}}<div class="item-inner"><div class="item-title">{{text}}</div></div>{{/if}}</label></li>');var h=r.params.pageTitle||"";!h&&r.opener&&r.opener.length&&(h=r.opener.find(".item-title").text());var m,v,g="autocomplete-"+r.inputName,y=r.params.navbarTheme,b=r.params.formTheme,w="",_="";r.navbarTemplate=c.compile(r.params.navbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner"><div class="left sliding">{{#if material}}<a href="#" class="link {{#if inPopup}}close-popup{{else}}back{{/if}} icon-only"><i class="icon icon-back"></i></a>{{else}}<a href="#" class="link {{#if inPopup}}close-popup{{else}}back{{/if}}"><i class="icon icon-back"></i>{{#if inPopup}}<span>{{popupCloseText}}</span>{{else}}<span>{{backText}}</span>{{/if}}</a>{{/if}}</div><div class="center sliding">{{pageTitle}}</div>{{#if preloader}}<div class="right"><div class="autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}"></div></div>{{/if}}</div></div>'),
m=r.navbarTemplate({pageTitle:h,backText:r.params.backText,popupCloseText:r.params.popupCloseText,openIn:r.params.openIn,navbarTheme:y,inPopup:"popup"===r.params.openIn,inPage:"page"===r.params.openIn,material:u,preloader:r.params.preloader,preloaderColor:r.params.preloaderColor}),"page"===r.params.openIn?(v="static",r.opener?(r.opener.parents(".navbar-through").length>0&&(v="through"),r.opener.parents(".navbar-fixed").length>0&&(v="fixed"),_=r.opener.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",w=r.opener.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+v):p.container&&((l(p.container).hasClass("navbar-through")||l(p.container).find(".navbar-through").length>0)&&(v="through"),(l(p.container).hasClass("navbar-fixed")||l(p.container).find(".navbar-fixed").length>0)&&(v="fixed"),_=l(p.activePage.container).hasClass("no-toolbar")?"no-toolbar":"",w=l(p.activePage.container).hasClass("no-navbar")?"no-navbar":"navbar-"+v)):v="fixed";var C='<form class="searchbar"><div class="searchbar-input"><input type="search" placeholder="'+r.params.searchbarPlaceholderText+'"><a href="#" class="searchbar-clear"></a></div>'+(u?"":'<a href="#" class="searchbar-cancel">'+r.params.searchbarCancelText+"</a>")+'</form><div class="searchbar-overlay"></div>',k=("through"===v?m:"")+'<div class="pages"><div data-page="'+g+'" class="page autocomplete-page '+w+" "+_+'">'+("fixed"===v?m:"")+C+'<div class="page-content">'+("static"===v?m:"")+'<div class="list-block autocomplete-found autocomplete-list-'+r.id+" "+(b?"theme-"+b:"")+'"><ul></ul></div><div class="list-block autocomplete-not-found"><ul><li class="item-content"><div class="item-inner"><div class="item-title">'+r.params.notFoundText+'</div></div></li></ul></div><div class="list-block autocomplete-values"><ul></ul></div></div></div></div>'}else r.dropdownItemTemplate=c.compile(r.params.dropdownItemTemplate||'<li><label class="{{#unless placeholder}}label-radio{{/unless}} item-content" data-value="{{value}}"><div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'),r.dropdownPlaceholderTemplate=c.compile(r.params.dropdownPlaceholderTemplate||'<li class="autocomplete-dropdown-placeholder"><div class="item-content"><div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'),r.dropdownTemplate=c.compile(r.params.dropdownTemplate||'<div class="autocomplete-dropdown"><div class="autocomplete-dropdown-inner"><div class="list-block"><ul></ul></div></div>{{#if preloader}}<div class="autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}">{{#if material}}{{materialPreloaderHtml}}{{/if}}</div>{{/if}}</div>');return r.popup=void 0,r.dropdown=void 0,r.positionDropDown=function(){var e=r.input.parents(".list-block"),t=r.input.parents(".page-content"),a=(parseInt(t.css("padding-top"),10),parseInt(t.css("padding-top"),10)),i=e.length>0?e.offset().left-e.parent().offset().left:0,n=r.input.offset().left-(e.length>0?e.offset().left:0),o=r.input.offset().top-(t.offset().top-t[0].scrollTop),s=t[0].scrollHeight-a-(o+t[0].scrollTop)-r.input[0].offsetHeight;r.dropdown.css({left:(e.length>0?i:n)+"px",top:o+t[0].scrollTop+r.input[0].offsetHeight+"px",width:(e.length>0?e[0].offsetWidth:r.input[0].offsetWidth)+"px"}),r.dropdown.children(".autocomplete-dropdown-inner").css({maxHeight:s+"px",paddingLeft:e.length>0&&!r.params.expandInput?n-(u?16:15)+"px":""})},r.pageInit=function(e){function t(){var e,t="";for(e=0;e<r.value.length;e++)t+=r.itemTemplate({value:"object"===a(r.value[e])?r.value[e][r.params.valueProperty]:r.value[e],text:"object"===a(r.value[e])?r.value[e][r.params.textProperty]:r.value[e],inputType:r.inputType,id:r.id,inputName:r.inputName+"-checked",checkbox:"checkbox"===r.inputType,material:u,selected:!0});n.find(".autocomplete-values ul").html(t)}var i=e.detail.page;if(r.page=l(i.container),r.pageData=i,i.name===g){var n=l(i.container),s=o.searchbar(n.find(".searchbar"),{customSearch:!0,onSearch:function(e,t){0===t.query.length&&e.active?e.overlay.addClass("searchbar-overlay-active"):e.overlay.removeClass("searchbar-overlay-active");var i,o;r.params.source&&r.params.source(r,t.query,function(e){var s="",l=r.params.limit?Math.min(r.params.limit,e.length):e.length;for(r.items=e,i=0;i<l;i++){var c=!1,d="object"===a(e[i])?e[i][r.params.valueProperty]:e[i];for(o=0;o<r.value.length;o++){var p="object"===a(r.value[o])?r.value[o][r.params.valueProperty]:r.value[o];p!==d&&1*p!==1*d||(c=!0)}s+=r.itemTemplate({value:d,text:"object"!==a(e[i])?e[i]:e[i][r.params.textProperty],inputType:r.inputType,id:r.id,inputName:r.inputName,selected:c,checkbox:"checkbox"===r.inputType,material:u})}n.find(".autocomplete-found ul").html(s),0===e.length?0!==t.query.length?(n.find(".autocomplete-not-found").show(),n.find(".autocomplete-found, .autocomplete-values").hide()):(n.find(".autocomplete-values").show(),n.find(".autocomplete-found, .autocomplete-not-found").hide()):(n.find(".autocomplete-found").show(),n.find(".autocomplete-not-found, .autocomplete-values").hide())})}});r.searchbar=s,n.on("change",'input[type="radio"], input[type="checkbox"]',function(){var e,a,i,n,s=this,c=s.value,d=(l(s).parents("li").find(".item-title").text(),l(s).parents(".autocomplete-values").length>0);if(d){if("checkbox"===r.inputType&&!s.checked){for(e=0;e<r.value.length;e++)n="string"==typeof r.value[e]?r.value[e]:r.value[e][r.params.valueProperty],n!==c&&1*n!==1*c||r.value.splice(e,1);t(),r.params.onChange&&r.params.onChange(r,r.value)}}else{for(e=0;e<r.items.length;e++)i="string"==typeof r.items[e]?r.items[e]:r.items[e][r.params.valueProperty],i!==c&&1*i!==1*c||(a=r.items[e]);if("radio"===r.inputType)r.value=[a];else if(s.checked)r.value.push(a);else for(e=0;e<r.value.length;e++)n="string"==typeof r.value[e]?r.value[e]:r.value[e][r.params.valueProperty],n!==c&&1*n!==1*c||r.value.splice(e,1);t(),("radio"===r.inputType&&s.checked||"checkbox"===r.inputType)&&r.params.onChange&&r.params.onChange(r,r.value),f&&"radio"===r.inputType&&("popup"===r.params.openIn?o.closeModal(r.popup):p.router.back())}}),t(),r.params.onOpen&&r.params.onOpen(r)}},r.showPreloader=function(){"dropdown"===r.params.openIn?r.dropdown&&r.dropdown.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):l(".autocomplete-preloader").addClass("autocomplete-preloader-visible")},r.hidePreloader=function(){"dropdown"===r.params.openIn?r.dropdown&&r.dropdown.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):l(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")},r.open=function(){if(!r.opened)if(r.opened=!0,"dropdown"===r.params.openIn){r.dropdown||(r.dropdown=l(r.dropdownTemplate({preloader:r.params.preloader,preloaderColor:r.params.preloaderColor,material:u,materialPreloaderHtml:o.params.materialPreloaderHtml})),r.dropdown.on("click","label",i));var e=r.input.parents(".list-block");e.length&&r.input.parents(".item-content").length>0&&r.params.expandInput&&r.input.parents(".item-content").addClass("item-content-dropdown-expand"),r.positionDropDown(),r.input.parents(".page-content").append(r.dropdown),r.dropdown.addClass("autocomplete-dropdown-in"),r.input.trigger("input"),l(window).on("resize",r.positionDropDown),r.params.onOpen&&r.params.onOpen(r)}else l(document).once("pageInit",".autocomplete-page",r.pageInit),"popup"===r.params.openIn?(r.popup=o.popup('<div class="popup autocomplete-popup autocomplete-popup-'+r.inputName+'"><div class="view navbar-fixed">'+k+"</div></div>"),r.popup=l(r.popup),r.popup.once("closed",function(){r.popup=void 0,r.opened=!1,r.params.onClose&&r.params.onClose(r)})):(p.router.load({content:k}),l(document).once("pageBack",".autocomplete-page",function(){r.opened=!1,r.params.onClose&&r.params.onClose(r)}))},r.close=function(e){if(r.opened){if("dropdown"===r.params.openIn){if(e&&"blur"===e.type&&r.dropdown.find("label.active-state").length>0)return;r.dropdown.removeClass("autocomplete-dropdown-in").remove(),r.input.parents(".item-content-dropdown-expand").removeClass("item-content-dropdown-expand"),r.opened=!1,l(window).off("resize",r.positionDropDown),r.params.onClose&&r.params.onClose(r)}"popup"===r.params.openIn&&r.popup&&o.closeModal(r.popup)}},r.initEvents=function(e){var a=e?"off":"on";"dropdown"!==r.params.openIn&&r.opener&&r.opener[a]("click",r.open),"dropdown"===r.params.openIn&&r.input&&(r.input[a]("focus",r.open),r.input[a]("input",t),o.device.android?l("html")[a]("click",n):r.input[a]("blur",r.close)),e&&r.dropdown&&(r.dropdown=null)},r.init=function(){r.initEvents()},r.destroy=function(){r.initEvents(!0),r=null},r.init(),r}};o.autocomplete=function(e){return new b(e)};var w=function(e){function t(){var e=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?e=!0:o.device.ios?e=!!o.device.ipad:l(window).width()>=768&&(e=!0)),e):e}function a(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function i(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function n(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!t())){var a=c.input.parents(".page-content");if(0===a.length)return;var i,n=parseInt(a.css("padding-top"),10),r=parseInt(a.css("padding-bottom"),10),o=a[0].offsetHeight-n-c.container.height(),s=a[0].scrollHeight-n-c.container.height(),l=c.input.offset().top-n+c.input[0].offsetHeight;if(l>o){var d=a.scrollTop()+l-o;d+o>s&&(i=d+o-s+r,o===s&&(i=c.container.height()),a.css({"padding-bottom":i+"px"})),a.scrollTop(d,300)}}}function r(e){a()||(c.input&&c.input.length>0?e.target!==c.input[0]&&0===l(e.target).parents(".picker-modal").length&&c.close():0===l(e.target).parents(".picker-modal").length&&c.close())}function s(){c.opened=!1,c.input&&c.input.length>0&&(c.input.parents(".page-content").css({"padding-bottom":""}),o.params.material&&c.input.trigger("blur")),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,d={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker">{{closeText}}</a></div></div></div>'};e=e||{};for(var p in d)"undefined"==typeof e[p]&&(e[p]=d[p]);c.params=e,c.cols=[],c.initialized=!1,c.inline=!!c.params.container;var u=o.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!o.device.android;return c.setValue=function(e,t){var a=0;if(0===c.cols.length)return c.value=e,void c.updateValue(e);for(var i=0;i<c.cols.length;i++)c.cols[i]&&!c.cols[i].divider&&(c.cols[i].setValue(e[a],t),a++)},c.updateValue=function(e){for(var t=e||[],a=[],i=0;i<c.cols.length;i++)c.cols[i].divider||(t.push(c.cols[i].value),a.push(c.cols[i].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=a,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(l(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),l(c.input).trigger("change")))},c.initPickerCol=function(e,t){function a(){b=l.requestAnimationFrame(function(){f.updateItems(void 0,void 0,0),a()})}function i(e){_||w||(e.preventDefault(),w=!0,C=k="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,x=(new Date).getTime(),M=!0,S=O=l.getTranslate(f.wrapper[0],"y"))}function n(e){if(w){e.preventDefault(),M=!1,k="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,_||(l.cancelAnimationFrame(b),_=!0,S=O=l.getTranslate(f.wrapper[0],"y"),f.wrapper.transition(0));var t=k-C;O=S+t,P=void 0,O<g&&(O=g-Math.pow(g-O,.8),P="min"),O>y&&(O=y+Math.pow(O-y,.8),P="max"),f.wrapper.transform("translate3d(0,"+O+"px,0)"),f.updateItems(void 0,O,0,c.params.updateValuesOnTouchmove),D=O-I||O,E=(new Date).getTime(),I=O}}function r(e){if(!w||!_)return void(w=_=!1);w=_=!1,f.wrapper.transition(""),P&&("min"===P?f.wrapper.transform("translate3d(0,"+g+"px,0)"):f.wrapper.transform("translate3d(0,"+y+"px,0)")),T=(new Date).getTime();var t,i;T-x>300?i=O:(t=Math.abs(D/(T-E)),i=O+D*c.params.momentumRatio),i=Math.max(Math.min(i,y),g);var n=-Math.floor((i-y)/m);c.params.freeMode||(i=-n*m+y),f.wrapper.transform("translate3d(0,"+parseInt(i,10)+"px,0)"),f.updateItems(n,i,"",!0),c.params.updateValuesOnMomentum&&(a(),f.wrapper.transitionEnd(function(){l.cancelAnimationFrame(b)})),setTimeout(function(){M=!0},100)}function s(e){if(M){l.cancelAnimationFrame(b);var t=l(this).attr("data-picker-value");f.setValue(t)}}var d=l(e),p=d.index(),f=c.cols[p];if(!f.divider){f.container=d,f.wrapper=f.container.find(".picker-items-col-wrapper"),f.items=f.wrapper.find(".picker-item");var h,m,v,g,y;f.replaceValues=function(e,t){f.destroyEvents(),f.values=e,f.displayValues=t;var a=c.columnHTML(f,!0);f.wrapper.html(a),f.items=f.wrapper.find(".picker-item"),f.calcSize(),f.setValue(f.values[0],0,!0),f.initEvents()},f.calcSize=function(){c.params.rotateEffect&&(f.container.removeClass("picker-items-col-absolute"),f.width||f.container.css({width:""}));var e,t;e=0,t=f.container[0].offsetHeight,h=f.wrapper[0].offsetHeight,m=f.items[0].offsetHeight,v=m*f.items.length,g=t/2-v+m/2,y=t/2-m/2,f.width&&(e=f.width,parseInt(e,10)===e&&(e+="px"),f.container.css({width:e})),c.params.rotateEffect&&(f.width||(f.items.each(function(){var t=l(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),f.container.css({width:e+2+"px"})),f.container.addClass("picker-items-col-absolute"))},f.calcSize(),f.wrapper.transform("translate3d(0,"+y+"px,0)").transition(0);var b;f.setValue=function(e,t,i){"undefined"==typeof t&&(t="");var n=f.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if("undefined"!=typeof n&&n!==-1){var r=-n*m+y;f.wrapper.transition(t),f.wrapper.transform("translate3d(0,"+r+"px,0)"),c.params.updateValuesOnMomentum&&f.activeIndex&&f.activeIndex!==n&&(l.cancelAnimationFrame(b),f.wrapper.transitionEnd(function(){l.cancelAnimationFrame(b)}),a()),f.updateItems(n,r,t,i)}},f.updateItems=function(e,t,a,i){"undefined"==typeof t&&(t=l.getTranslate(f.wrapper[0],"y")),"undefined"==typeof e&&(e=-Math.round((t-y)/m)),e<0&&(e=0),e>=f.items.length&&(e=f.items.length-1);var n=f.activeIndex;f.activeIndex=e,f.wrapper.find(".picker-selected").removeClass("picker-selected"),f.items.transition(a);var r=f.items.eq(e).addClass("picker-selected").transform("");if(c.params.rotateEffect){(t-(Math.floor((t-y)/m)*m+y))/m;f.items.each(function(){var e=l(this),a=e.index()*m,i=y-t,n=a-i,r=n/m,o=Math.ceil(f.height/m/2)+1,s=-18*r;s>180&&(s=180),s<-180&&(s=-180),Math.abs(r)>o?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-t+y)+"px, "+(u?-110:0)+"px) rotateX("+s+"deg)")})}(i||"undefined"==typeof i)&&(f.value=r.attr("data-picker-value"),f.displayValue=f.displayValues?f.displayValues[e]:f.value,n!==e&&(f.onChange&&f.onChange(c,f.value,f.displayValue),c.updateValue()))},t&&f.updateItems(0,y,0);var w,_,C,k,x,T,S,P,O,I,D,E,M=!0;f.initEvents=function(e){var t=e?"off":"on";f.container[t](o.touchEvents.start,i),f.container[t](o.touchEvents.move,n),f.container[t](o.touchEvents.end,r),f.items[t]("click",s)},f.destroyEvents=function(){f.initEvents(!0)},f.container[0].f7DestroyPickerCol=function(){f.destroyEvents()},f.initEvents()}},c.destroyPickerCol=function(e){e=l(e),"f7DestroyPickerCol"in e[0]&&e[0].f7DestroyPickerCol()},l(window).on("resize",i),c.columnHTML=function(e,t){var a="",i="";if(e.divider)i+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var n=0;n<e.values.length;n++)a+='<div class="picker-item" data-picker-value="'+e.values[n]+'">'+(e.displayValues?e.displayValues[n]:e.values[n])+"</div>";i+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+a+"</div></div>"}return t?a:i},c.layout=function(){var e,t="",a="";c.cols=[];var i="";for(e=0;e<c.params.cols.length;e++){var n=c.params.cols[e];i+=c.columnHTML(c.params.cols[e]),c.cols.push(n)}a="picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":""),t='<div class="'+a+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+i+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=l(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",n),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),!c.inline&&c.params.closeByOutsideClick&&l("html").on("click",r),c.opened=!1,c.open=function(){var e=t();c.opened||(c.layout(),e?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=o.popover(c.pickerHTML,c.params.input,!0),c.container=l(c.popover).find(".picker-modal"),l(c.popover).on("popover:close",function(){s()})):c.inline?(c.container=l(c.pickerHTML),c.container.addClass("picker-modal-inline"),l(c.params.container).append(c.container)):(c.container=l(o.pickerModal(c.pickerHTML)),l(c.container).on("picker:close",function(){s()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.value?c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0),c.input&&c.input.length>0&&o.params.material&&c.input.trigger("focus")),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(){if(c.opened&&!c.inline)return a()?void o.closeModal(c.popover):void o.closeModal(c.container)},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",n),l("html").off("click",r),l(window).off("resize",i)},c.inline?c.open():!c.initialized&&c.params.value&&c.setValue(c.params.value),c};o.picker=function(e){return new w(e)};var _=function(e){function t(){var e=!1;return d.params.convertToPopover||d.params.onlyInPopover?(!d.inline&&d.params.input&&(d.params.onlyInPopover?e=!0:o.device.ios?e=!!o.device.ipad:l(window).width()>=768&&(e=!0)),e):e}function i(){return!!(d.opened&&d.container&&d.container.length>0&&d.container.parents(".popover").length>0)}function n(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth(),i=a+1,n=e.getDate(),r=e.getDay();return d.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m(\W+)/g,i+"$1").replace(/MM/g,d.params.monthNames[a]).replace(/M(\W+)/g,d.params.monthNamesShort[a]+"$1").replace(/dd/g,n<10?"0"+n:n).replace(/d(\W+)/g,n+"$1").replace(/DD/g,d.params.dayNames[r]).replace(/D(\W+)/g,d.params.dayNamesShort[r]+"$1")}function r(e){if(e.preventDefault(),!d.opened&&(d.open(),d.params.scrollToInput&&!t()&&!o.params.material)){var a=d.input.parents(".page-content");if(0===a.length)return;var i,n=parseInt(a.css("padding-top"),10),r=parseInt(a.css("padding-bottom"),10),s=a[0].offsetHeight-n-d.container.height(),l=a[0].scrollHeight-n-d.container.height(),c=d.input.offset().top-n+d.input[0].offsetHeight;if(c>s){var p=a.scrollTop()+c-s;p+s>l&&(i=p+s-l+r,s===l&&(i=d.container.height()),a.css({"padding-bottom":i+"px"})),a.scrollTop(p,300)}}}function s(e){i()||(d.input&&d.input.length>0?e.target!==d.input[0]&&0===l(e.target).parents(".picker-modal").length&&d.close():0===l(e.target).parents(".picker-modal").length&&d.close())}function c(){d.opened=!1,d.input&&d.input.length>0&&(d.input.parents(".page-content").css({"padding-bottom":""}),o.params.material&&d.input.trigger("blur")),d.params.onClose&&d.params.onClose(d),d.destroyCalendarEvents()}var d=this,p={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,rangePicker:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><span class="current-month-value"></span><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",headerPlaceholder:"Select date",header:o.params.material,footer:o.params.material,toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>',headerTemplate:'<div class="picker-header"><div class="picker-calendar-selected-date">{{placeholder}}</div></div>',footerTemplate:'<div class="picker-footer"><a href="#" class="button close-picker">{{closeText}}</a></div>'};e=e||{};for(var u in p)"undefined"==typeof e[u]&&(e[u]=p[u]);d.params=e,d.initialized=!1,d.inline=!!d.params.container,d.isH="horizontal"===d.params.direction;var f=d.isH&&o.rtl?-1:1;return d.animating=!1,d.addValue=function(e){if(d.params.multiple){d.value||(d.value=[]);for(var t,a=0;a<d.value.length;a++)new Date(e).getTime()===new Date(d.value[a]).getTime()&&(t=a);"undefined"==typeof t?d.value.push(e):d.value.splice(t,1),d.updateValue()}else d.params.rangePicker?(d.value||(d.value=[]),2!==d.value.length&&0!==d.value.length||(d.value=[]),d.value[0]!==e?d.value.push(e):d.value=[],d.value.sort(function(e,t){return e-t}),d.updateValue()):(d.value=[e],d.updateValue())},d.setValue=function(e){d.value=e,d.updateValue()},d.updateValue=function(e){var t,a;if(d.container&&d.container.length>0){d.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var i;if(d.params.rangePicker&&2===d.value.length)for(t=d.value[0];t<=d.value[1];t+=864e5)i=new Date(t),d.wrapper.find('.picker-calendar-day[data-date="'+i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()+'"]').addClass("picker-calendar-day-selected");else for(t=0;t<d.value.length;t++)i=new Date(d.value[t]),d.wrapper.find('.picker-calendar-day[data-date="'+i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()+'"]').addClass("picker-calendar-day-selected")}if(d.params.onChange&&d.params.onChange(d,d.value),d.input&&d.input.length>0||o.params.material&&d.params.header){if(d.params.formatValue)a=d.params.formatValue(d,d.value);else{for(a=[],t=0;t<d.value.length;t++)a.push(n(d.value[t]));a=a.join(d.params.rangePicker?" - ":", ")}o.params.material&&d.params.header&&d.container&&d.container.length>0&&d.container.find(".picker-calendar-selected-date").text(a),d.input&&d.input.length>0&&!e&&(l(d.input).val(a),l(d.input).trigger("change"))}},d.initCalendarEvents=function(){function e(e){r||n||(n=!0,s=u="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,c=u="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,h=(new Date).getTime(),w=0,k=!0,C=void 0,v=g=d.monthsTranslate)}function t(e){if(n){if(p="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,u="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof C&&(C=!!(C||Math.abs(u-c)>Math.abs(p-s))),d.isH&&C)return void(n=!1);if(e.preventDefault(),d.animating)return void(n=!1);k=!1,r||(r=!0,y=d.wrapper[0].offsetWidth,b=d.wrapper[0].offsetHeight,d.wrapper.transition(0)),_=d.isH?p-s:u-c,w=_/(d.isH?y:b),g=100*(d.monthsTranslate*f+w),d.wrapper.transform("translate3d("+(d.isH?g:0)+"%, "+(d.isH?0:g)+"%, 0)")}}function a(e){return n&&r?(n=r=!1,m=(new Date).getTime(),m-h<300?Math.abs(_)<10?d.resetMonth():_>=10?o.rtl?d.nextMonth():d.prevMonth():o.rtl?d.prevMonth():d.nextMonth():w<=-.5?o.rtl?d.prevMonth():d.nextMonth():w>=.5?o.rtl?d.nextMonth():d.prevMonth():d.resetMonth(),void setTimeout(function(){k=!0},100)):void(n=r=!1)}function i(e){if(k){var t=l(e.target).parents(".picker-calendar-day");if(0===t.length&&l(e.target).hasClass("picker-calendar-day")&&(t=l(e.target)),0!==t.length&&(!t.hasClass("picker-calendar-day-selected")||d.params.multiple||d.params.rangePicker)&&!t.hasClass("picker-calendar-day-disabled")){d.params.rangePicker||(t.hasClass("picker-calendar-day-next")&&d.nextMonth(),t.hasClass("picker-calendar-day-prev")&&d.prevMonth());var a=t.attr("data-year"),i=t.attr("data-month"),n=t.attr("data-day");d.params.onDayClick&&d.params.onDayClick(d,t[0],a,i,n),d.addValue(new Date(a,i,n).getTime()),d.params.closeOnSelect&&(d.params.rangePicker&&2===d.value.length||!d.params.rangePicker)&&d.close()}}}var n,r,s,c,p,u,h,m,v,g,y,b,w,_,C,k=!0;d.container.find(".picker-calendar-prev-month").on("click",d.prevMonth),d.container.find(".picker-calendar-next-month").on("click",d.nextMonth),d.container.find(".picker-calendar-prev-year").on("click",d.prevYear),d.container.find(".picker-calendar-next-year").on("click",d.nextYear),d.wrapper.on("click",i);var x=!("touchstart"!==o.touchEvents.start||!o.support.passiveListener)&&{passive:!0,capture:!1};d.params.touchMove&&(d.wrapper.on(o.touchEvents.start,e,x),d.wrapper.on(o.touchEvents.move,t),d.wrapper.on(o.touchEvents.end,a,x)),d.container[0].f7DestroyCalendarEvents=function(){d.container.find(".picker-calendar-prev-month").off("click",d.prevMonth),d.container.find(".picker-calendar-next-month").off("click",d.nextMonth),d.container.find(".picker-calendar-prev-year").off("click",d.prevYear),d.container.find(".picker-calendar-next-year").off("click",d.nextYear),d.wrapper.off("click",i),d.params.touchMove&&(d.wrapper.off(o.touchEvents.start,e,x),d.wrapper.off(o.touchEvents.move,t),d.wrapper.off(o.touchEvents.end,a,x))}},d.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in d.container[0]&&d.container[0].f7DestroyCalendarEvents()},d.dateInRange=function(e,t){var a,i=!1;if(!t)return!1;if(l.isArray(t))for(a=0;a<t.length;a++)t[a].from||t[a].to?t[a].from&&t[a].to?e<=new Date(t[a].to).getTime()&&e>=new Date(t[a].from).getTime()&&(i=!0):t[a].from?e>=new Date(t[a].from).getTime()&&(i=!0):t[a].to&&e<=new Date(t[a].to).getTime()&&(i=!0):e===new Date(t[a]).getTime()&&(i=!0);else t.from||t.to?t.from&&t.to?e<=new Date(t.to).getTime()&&e>=new Date(t.from).getTime()&&(i=!0):t.from?e>=new Date(t.from).getTime()&&(i=!0):t.to&&e<=new Date(t.to).getTime()&&(i=!0):"function"==typeof t&&(i=t(new Date(e)));return i},d.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},d.monthHTML=function(e,t){e=new Date(e);var a=e.getFullYear(),i=e.getMonth();e.getDate();"next"===t&&(e=11===i?new Date(a+1,0):new Date(a,i+1,1)),"prev"===t&&(e=0===i?new Date(a-1,11):new Date(a,i-1,1)),"next"!==t&&"prev"!==t||(i=e.getMonth(),a=e.getFullYear());var n=d.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),r=d.daysInMonth(e),o=new Date(e.getFullYear(),e.getMonth()).getDay();0===o&&(o=7);var s,l,c,p,u,f,h=[],m=6,v=7,g="",y=0+(d.params.firstDay-1),b=(new Date).setHours(0,0,0,0),w=d.params.minDate?new Date(d.params.minDate).getTime():null,_=d.params.maxDate?new Date(d.params.maxDate).getTime():null;if(d.value&&d.value.length)for(l=0;l<d.value.length;l++)h.push(new Date(d.value[l]).setHours(0,0,0,0));for(l=1;l<=m;l++){var C="";for(c=1;c<=v;c++){var k=c;y++;var x=y-o,T=k-1+d.params.firstDay>6?k-1-7+d.params.firstDay:k-1+d.params.firstDay,S="";if(x<0?(x=n+x+1,S+=" picker-calendar-day-prev",s=new Date(i-1<0?a-1:a,i-1<0?11:i-1,x).getTime()):(x+=1,x>r?(x-=r,S+=" picker-calendar-day-next",s=new Date(i+1>11?a+1:a,i+1>11?0:i+1,x).getTime()):s=new Date(a,i,x).getTime()),s===b&&(S+=" picker-calendar-day-today"),d.params.rangePicker&&2===h.length?s>=h[0]&&s<=h[1]&&(S+=" picker-calendar-day-selected"):h.indexOf(s)>=0&&(S+=" picker-calendar-day-selected"),d.params.weekendDays.indexOf(T)>=0&&(S+=" picker-calendar-day-weekend"),f=!1,d.params.events&&d.dateInRange(s,d.params.events)&&(f=!0),f&&(S+=" picker-calendar-day-has-events"),d.params.rangesClasses)for(p=0;p<d.params.rangesClasses.length;p++)d.dateInRange(s,d.params.rangesClasses[p].range)&&(S+=" "+d.params.rangesClasses[p].cssClass);u=!1,(w&&s<w||_&&s>_)&&(u=!0),d.params.disabled&&d.dateInRange(s,d.params.disabled)&&(u=!0),u&&(S+=" picker-calendar-day-disabled"),s=new Date(s);var P=s.getFullYear(),O=s.getMonth();C+='<div data-year="'+P+'" data-month="'+O+'" data-day="'+x+'" class="picker-calendar-day'+S+'" data-date="'+(P+"-"+O+"-"+x)+'"><span>'+x+"</span></div>"}g+='<div class="picker-calendar-row">'+C+"</div>"}return g='<div class="picker-calendar-month" data-year="'+a+'" data-month="'+i+'">'+g+"</div>"},d.animating=!1,d.updateCurrentMonthYear=function(e){"undefined"==typeof e?(d.currentMonth=parseInt(d.months.eq(1).attr("data-month"),10),d.currentYear=parseInt(d.months.eq(1).attr("data-year"),10)):(d.currentMonth=parseInt(d.months.eq("next"===e?d.months.length-1:0).attr("data-month"),10),d.currentYear=parseInt(d.months.eq("next"===e?d.months.length-1:0).attr("data-year"),10)),d.container.find(".current-month-value").text(d.params.monthNames[d.currentMonth]),d.container.find(".current-year-value").text(d.currentYear)},d.onMonthChangeStart=function(e){d.updateCurrentMonthYear(e),d.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?d.months.length-1:0;d.months.eq(t).addClass("picker-calendar-month-current"),d.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),d.params.onMonthYearChangeStart&&d.params.onMonthYearChangeStart(d,d.currentYear,d.currentMonth)},d.onMonthChangeEnd=function(e,t){d.animating=!1;var a,i,n;d.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(d.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=d.monthHTML(new Date(d.currentYear,d.currentMonth),"prev"),a=d.monthHTML(new Date(d.currentYear,d.currentMonth),"next")):n=d.monthHTML(new Date(d.currentYear,d.currentMonth),e),("next"===e||t)&&d.wrapper.append(n||a),("prev"===e||t)&&d.wrapper.prepend(n||i),d.months=d.wrapper.find(".picker-calendar-month"),d.setMonthsTranslate(d.monthsTranslate),d.params.onMonthAdd&&d.params.onMonthAdd(d,"next"===e?d.months.eq(d.months.length-1)[0]:d.months.eq(0)[0]),d.params.onMonthYearChangeEnd&&d.params.onMonthYearChangeEnd(d,d.currentYear,d.currentMonth)},d.setMonthsTranslate=function(e){e=e||d.monthsTranslate||0,"undefined"==typeof d.monthsTranslate&&(d.monthsTranslate=e),d.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*f,a=100*-e*f,i=100*-(e-1)*f;d.months.eq(0).transform("translate3d("+(d.isH?t:0)+"%, "+(d.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),d.months.eq(1).transform("translate3d("+(d.isH?a:0)+"%, "+(d.isH?0:a)+"%, 0)").addClass("picker-calendar-month-current"),d.months.eq(2).transform("translate3d("+(d.isH?i:0)+"%, "+(d.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next");
},d.nextMonth=function(e){"undefined"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":a(e))||(e="",d.params.animate||(e=0));var t=parseInt(d.months.eq(d.months.length-1).attr("data-month"),10),i=parseInt(d.months.eq(d.months.length-1).attr("data-year"),10),n=new Date(i,t),r=n.getTime(),o=!d.animating;if(d.params.maxDate&&r>new Date(d.params.maxDate).getTime())return d.resetMonth();if(d.monthsTranslate--,t===d.currentMonth){var s=100*-d.monthsTranslate*f,c=l(d.monthHTML(r,"next")).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next");d.wrapper.append(c[0]),d.months=d.wrapper.find(".picker-calendar-month"),d.params.onMonthAdd&&d.params.onMonthAdd(d,d.months.eq(d.months.length-1)[0])}d.animating=!0,d.onMonthChangeStart("next");var p=100*d.monthsTranslate*f;d.wrapper.transition(e).transform("translate3d("+(d.isH?p:0)+"%, "+(d.isH?0:p)+"%, 0)"),o&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd("next")}),d.params.animate||d.onMonthChangeEnd("next")},d.prevMonth=function(e){"undefined"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":a(e))||(e="",d.params.animate||(e=0));var t=parseInt(d.months.eq(0).attr("data-month"),10),i=parseInt(d.months.eq(0).attr("data-year"),10),n=new Date(i,t+1,-1),r=n.getTime(),o=!d.animating;if(d.params.minDate&&r<new Date(d.params.minDate).getTime())return d.resetMonth();if(d.monthsTranslate++,t===d.currentMonth){var s=100*-d.monthsTranslate*f,c=l(d.monthHTML(r,"prev")).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev");d.wrapper.prepend(c[0]),d.months=d.wrapper.find(".picker-calendar-month"),d.params.onMonthAdd&&d.params.onMonthAdd(d,d.months.eq(0)[0])}d.animating=!0,d.onMonthChangeStart("prev");var p=100*d.monthsTranslate*f;d.wrapper.transition(e).transform("translate3d("+(d.isH?p:0)+"%, "+(d.isH?0:p)+"%, 0)"),o&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd("prev")}),d.params.animate||d.onMonthChangeEnd("prev")},d.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*d.monthsTranslate*f;d.wrapper.transition(e).transform("translate3d("+(d.isH?t:0)+"%, "+(d.isH?0:t)+"%, 0)")},d.setYearMonth=function(e,t,i){"undefined"==typeof e&&(e=d.currentYear),"undefined"==typeof t&&(t=d.currentMonth),"undefined"!=typeof i&&"object"!==("undefined"==typeof i?"undefined":a(i))||(i="",d.params.animate||(i=0));var n;if(n=e<d.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),d.params.maxDate&&n>new Date(d.params.maxDate).getTime())return!1;if(d.params.minDate&&n<new Date(d.params.minDate).getTime())return!1;var r=new Date(d.currentYear,d.currentMonth).getTime(),o=n>r?"next":"prev",s=d.monthHTML(new Date(e,t));d.monthsTranslate=d.monthsTranslate||0;var l,c,p=d.monthsTranslate,u=!d.animating;n>r?(d.monthsTranslate--,d.animating||d.months.eq(d.months.length-1).remove(),d.wrapper.append(s),d.months=d.wrapper.find(".picker-calendar-month"),l=100*-(p-1)*f,d.months.eq(d.months.length-1).transform("translate3d("+(d.isH?l:0)+"%, "+(d.isH?0:l)+"%, 0)").addClass("picker-calendar-month-next")):(d.monthsTranslate++,d.animating||d.months.eq(0).remove(),d.wrapper.prepend(s),d.months=d.wrapper.find(".picker-calendar-month"),l=100*-(p+1)*f,d.months.eq(0).transform("translate3d("+(d.isH?l:0)+"%, "+(d.isH?0:l)+"%, 0)").addClass("picker-calendar-month-prev")),d.params.onMonthAdd&&d.params.onMonthAdd(d,"next"===o?d.months.eq(d.months.length-1)[0]:d.months.eq(0)[0]),d.animating=!0,d.onMonthChangeStart(o),c=100*d.monthsTranslate*f,d.wrapper.transition(i).transform("translate3d("+(d.isH?c:0)+"%, "+(d.isH?0:c)+"%, 0)"),u&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd(o,!0)}),d.params.animate||d.onMonthChangeEnd(o)},d.nextYear=function(){d.setYearMonth(d.currentYear+1)},d.prevYear=function(){d.setYearMonth(d.currentYear-1)},d.layout=function(){var e,t="",a="",i=d.value&&d.value.length?d.value[0]:(new Date).setHours(0,0,0,0),n=d.monthHTML(i,"prev"),r=d.monthHTML(i),o=d.monthHTML(i,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(n+r+o)+"</div></div>",l="";if(d.params.weekHeader){for(e=0;e<7;e++){var c=e+d.params.firstDay>6?e-7+d.params.firstDay:e+d.params.firstDay,p=d.params.dayNamesShort[c];l+='<div class="picker-calendar-week-day '+(d.params.weekendDays.indexOf(c)>=0?"picker-calendar-week-day-weekend":"")+'"> '+p+"</div>"}l='<div class="picker-calendar-week-days">'+l+"</div>"}a="picker-modal picker-calendar"+(d.params.rangePicker?" picker-calendar-range":"")+(d.params.cssClass?" "+d.params.cssClass:"");var u=d.params.toolbar?d.params.toolbarTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText):"";d.params.toolbar&&(u=d.params.toolbarTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText).replace(/{{monthPicker}}/g,d.params.monthPicker?d.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,d.params.yearPicker?d.params.yearPickerTemplate:""));var f=d.params.header?d.params.headerTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText).replace(/{{placeholder}}/g,d.params.headerPlaceholder):"",h=d.params.footer?d.params.footerTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText):"";t='<div class="'+a+'">'+f+h+u+'<div class="picker-modal-inner">'+l+s+"</div></div>",d.pickerHTML=t},d.params.input&&(d.input=l(d.params.input),d.input.length>0&&(d.params.inputReadOnly&&d.input.prop("readOnly",!0),d.inline||d.input.on("click",r),d.params.inputReadOnly&&d.input.on("focus mousedown",function(e){e.preventDefault()}))),!d.inline&&d.params.closeByOutsideClick&&l("html").on("click",s),d.opened=!1,d.open=function(){var e=t(),a=!1;d.opened||(d.value||d.params.value&&(d.value=d.params.value,a=!0),d.layout(),e?(d.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+d.pickerHTML+"</div></div>",d.popover=o.popover(d.pickerHTML,d.params.input,!0),d.container=l(d.popover).find(".picker-modal"),l(d.popover).on("popover:close",function(){c()})):d.inline?(d.container=l(d.pickerHTML),d.container.addClass("picker-modal-inline"),l(d.params.container).append(d.container)):(d.container=l(o.pickerModal(d.pickerHTML)),l(d.container).on("picker:close",function(){c()})),d.container[0].f7Calendar=d,d.wrapper=d.container.find(".picker-calendar-months-wrapper"),d.months=d.wrapper.find(".picker-calendar-month"),d.updateCurrentMonthYear(),d.monthsTranslate=0,d.setMonthsTranslate(),d.initCalendarEvents(),a?d.updateValue():o.params.material&&d.value&&d.updateValue(!0),d.input&&d.input.length>0&&o.params.material&&d.input.trigger("focus")),d.opened=!0,d.initialized=!0,d.params.onMonthAdd&&d.months.each(function(){d.params.onMonthAdd(d,this)}),d.params.onOpen&&d.params.onOpen(d)},d.close=function(){if(d.opened&&!d.inline)return i()?void o.closeModal(d.popover):void o.closeModal(d.container)},d.destroy=function(){d.close(),d.params.input&&d.input.length>0&&d.input.off("click focus",r),l("html").off("click",s)},d.inline?d.open():!d.initialized&&d.params.value&&d.setValue(d.params.value),d};o.calendar=function(e){return new _(e)};var C;o.addNotification=function(e){if(e){"undefined"==typeof e.media&&(e.media=o.params.notificationMedia),"undefined"==typeof e.title&&(e.title=o.params.notificationTitle),"undefined"==typeof e.subtitle&&(e.subtitle=o.params.notificationSubtitle),"undefined"==typeof e.closeIcon&&(e.closeIcon=o.params.notificationCloseIcon),"undefined"==typeof e.hold&&(e.hold=o.params.notificationHold),"undefined"==typeof e.closeOnClick&&(e.closeOnClick=o.params.notificationCloseOnClick),"undefined"==typeof e.button&&(e.button=o.params.notificationCloseButtonText&&{text:o.params.notificationCloseButtonText,close:!0}),C||(C=document.createElement("div")),e.material=o.params.material;var t=l(".notifications");0===t.length&&(o.root.append('<div class="notifications list-block'+(e.material?"":" media-list")+'"><ul></ul></div>'),t=l(".notifications"));var a=t.children("ul"),i=o.params.notificationTemplate||'{{#if custom}}<li>{{custom}}</li>{{else}}<li class="notification-item notification-hidden"><div class="item-content">{{#if material}}<div class="item-inner"><div class="item-title">{{js "this.message || this.title || this.subtitle"}}</div>{{#if ../button}}{{#button}}<div class="item-after"><a href="#" class="button {{#if color}}color-{{color}}{{/if}} {{#js_compare "this.close !== false"}}close-notification{{/js_compare}}">{{text}}</a></div>{{/button}}{{/if}}</div>{{else}}{{#if media}}<div class="item-media">{{media}}</div>{{/if}}<div class="item-inner"><div class="item-title-row">{{#if title}}<div class="item-title">{{title}}</div>{{/if}}{{#if closeIcon}}<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>{{/if}}</div>{{#if subtitle}}<div class="item-subtitle">{{subtitle}}</div>{{/if}}{{#if message}}<div class="item-text">{{message}}</div></div>{{/if}}{{/if}}</div></li>{{/if}}';o._compiledTemplates.notification||(o._compiledTemplates.notification=c.compile(i)),C.innerHTML=o._compiledTemplates.notification(e);var n=l(C).children();n.on("click",function(t){var a=!1,i=l(t.target);e.material&&i.hasClass("button")&&e.button&&e.button.onClick&&e.button.onClick.call(i[0],t,n[0]),i.is(".close-notification")||l(t.target).parents(".close-notification").length>0?a=!0:(e.onClick&&e.onClick(t,n[0]),e.closeOnClick&&(a=!0)),a&&o.closeNotification(n[0])}),e.onClose&&n.data("f7NotificationOnClose",function(){e.onClose(n[0])}),e.additionalClass&&n.addClass(e.additionalClass),e.hold&&setTimeout(function(){n.length>0&&o.closeNotification(n[0])},e.hold),o.params.material||o.closeNotification(a.children("li.notification-item:last-child")),a.append(n[0]),t.show();var r,s=n.outerHeight();return e.material?(t.transform("translate3d(0, "+s+"px, 0)"),t.transition(0),r=n[0].clientLeft,t.transform("translate3d(0, 0, 0)"),t.transition("")):(n.transform("translate3d(0,"+-s+"px,0)"),n.transition(0),r=n[0].clientLeft,n.transition(""),n.transform("translate3d(0,0px,0)")),t.transform("translate3d(0, 0,0)"),n.removeClass("notification-hidden"),n[0]}},o.closeNotification=function(e){if(e=l(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=l(".notifications"),a=e.outerHeight();e.css("height",a+"px").transition(0).addClass("notification-item-removing");e[0].clientLeft;e.css({height:"0px",marginBottom:"0px"}).transition(""),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}},o.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||o.params.templates||{},Template7.data=Template7.data||o.params.template7Data||{},Template7.cache=Template7.cache||{},o.templates=Template7.templates,o.template7Data=Template7.data,o.template7Cache=Template7.cache,o.params.precompileTemplates&&l('script[type="text/template7"]').each(function(){var e=l(this).attr("id");e&&(Template7.templates[e]=Template7.compile(l(this).html()))}))};var k=[];return o.initPlugins=function(){for(var e in o.plugins){var t=o.plugins[e](o,o.params[e]);t&&k.push(t)}},o.pluginHook=function(e){for(var t=0;t<k.length;t++)k[t].hooks&&e in k[t].hooks&&k[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},o.pluginPrevent=function(e){for(var t=!1,a=0;a<k.length;a++)k[a].prevents&&e in k[a].prevents&&k[a].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},o.pluginProcess=function(e,t){for(var a=t,i=0;i<k.length;i++)k[i].preprocess&&e in k[i].preprocess&&(a=k[i].preprocess[e](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return a},o.init=function(){o.initTemplate7Templates&&o.initTemplate7Templates(),o.initPlugins&&o.initPlugins(),o.getDeviceInfo&&o.getDeviceInfo(),o.initFastClicks&&o.params.fastClicks&&o.initFastClicks(),o.initClickEvents&&o.initClickEvents(),l(".page:not(.cached)").each(function(){o.initPageWithCallback(this)}),l(".navbar:not(.cached)").each(function(){o.initNavbarWithCallback(this)}),o.initResize&&o.initResize(),o.initPushState&&o.params.pushState&&o.initPushState(),o.initSwipeout&&o.params.swipeout&&o.initSwipeout(),o.initSortable&&o.params.sortable&&o.initSortable(),o.initSwipePanels&&(o.params.swipePanel||o.params.swipePanelOnlyClose)&&o.initSwipePanels(),o.params.material&&o.initMaterialWatchInputs&&o.initMaterialWatchInputs(),o.params.onAppInit&&o.params.onAppInit(),o.pluginHook("appInit")},o.params.init&&o.init(),o};var e=function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,this},t=function(t,a){var i=[],n=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var r,o,s;if(t=s=t.trim(),s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=s,n=0;n<o.childNodes.length;n++)i.push(o.childNodes[n])}else for(r=a||"#"!==t[0]||t.match(/[ .<>:~]/)?(a||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],n=0;n<r.length;n++)r[n]&&i.push(r[n])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(n=0;n<t.length;n++)i.push(t[n]);return new e(i)};e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)"undefined"!=typeof this[i].classList&&this[i].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)"undefined"!=typeof this[i].classList&&this[i].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)"undefined"!=typeof this[i].classList&&this[i].classList.toggle(t[a]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(e,t);else for(var i in e)this[a][i]=e[i],this[a].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a][e]=t;else for(var i in e)this[a][i]=e[i];return this},data:function(e,t){if("undefined"!=typeof t){for(var a=0;a<this.length;a++){var i=this[a];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];var n=this[0].getAttribute("data-"+e);return n?n:void 0}},removeData:function(e){for(var t=0;t<this.length;t++){var a=this[t];a.dom7ElementDataStorage&&a.dom7ElementDataStorage[e]&&(a.dom7ElementDataStorage[e]=null,delete a.dom7ElementDataStorage[e])}},dataset:function e(){var a=this[0];if(a){var e={};if(a.dataset)for(var i in a.dataset)e[i]=a.dataset[i];else for(var n=0;n<a.attributes.length;n++){var r=a.attributes[n];r.name.indexOf("data-")>=0&&(e[t.toCamelCase(r.name.split("data-")[1])]=r.value)}for(var o in e)"false"===e[o]?e[o]=!1:"true"===e[o]?e[o]=!0:parseFloat(e[o])===1*e[o]&&(e[o]=1*e[o]);return e}},val:function(e){if("undefined"!=typeof e){for(var t=0;t<this.length;t++)this[t].value=e;return this}if(this[0]){if(this[0].multiple&&"select"===this[0].nodeName.toLowerCase()){for(var a=[],t=0;t<this[0].selectedOptions.length;t++)a.push(this[0].selectedOptions[t].value);return a}return this[0].value}},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,i,n){function r(e){var n=e.target;if(t(n).is(a))i.call(n,e);else for(var r=t(n).parents(),o=0;o<r.length;o++)t(r[o]).is(a)&&i.call(r[o],e)}var o,s,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof a||a===!1)for("function"==typeof a&&(i=arguments[1],n=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],i,n);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:i,liveListener:r}),this[o].addEventListener(l[s],r,n);return this},off:function(e,t,a,i){for(var n=e.split(" "),r=0;r<n.length;r++)for(var o=0;o<this.length;o++)if("function"==typeof t||t===!1)"function"==typeof t&&(a=arguments[1],i=arguments[2]||!1),this[o].removeEventListener(n[r],a,i);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===a&&this[o].removeEventListener(n[r],this[o].dom7LiveListeners[s].liveListener,i);return this},once:function(e,t,a,i){function n(o){a.call(o.target,o),r.off(e,t,n,i)}var r=this;return"function"==typeof t&&(a=arguments[1],i=arguments[2],t=!1),r.on(e,t,n,i)},trigger:function(e,t){for(var a=e.split(" "),i=0;i<a.length;i++)for(var n=0;n<this.length;n++){var r;try{r=new CustomEvent(a[i],{detail:t,bubbles:!0,cancelable:!0})}catch(e){r=document.createEvent("Event"),r.initEvent(a[i],!0,!0),r.detail=t}this[n].dispatchEvent(r)}return this},transitionEnd:function(e){function t(r){if(r.target===this)for(e.call(this,r),a=0;a<i.length;a++)n.off(i[a],t)}var a,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(a=0;a<i.length;a++)n.on(i[a],t);return this},animationEnd:function(e){function t(r){for(e(r),a=0;a<i.length;a++)n.off(i[a],t)}var a,i=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],n=this;if(e)for(a=0;a<i.length;a++)n.on(i[a],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,i=e.clientTop||a.clientTop||0,n=e.clientLeft||a.clientLeft||0,r=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:t.top+r-i,left:t.left+o-n}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var i in e)this[a].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},filter:function(t){for(var a=[],i=this,n=0;n<i.length;n++)t.call(i[n],n,i[n])&&a.push(i[n]);return new e(a)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(a){if(!this[0]||"undefined"==typeof a)return!1;var i,n;if("string"==typeof a){var r=this[0];if(r===document)return a===document;if(r===window)return a===window;if(r.matches)return r.matches(a);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(a);if(r.mozMatchesSelector)return r.mozMatchesSelector(a);if(r.msMatchesSelector)return r.msMatchesSelector(a);for(i=t(a),n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(i=a.nodeType?[a]:a,n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var a,i=this.length;return t>i-1?new e([]):t<0?(a=i+t,new e(a<0?[]:[this[a]])):new e([this[t]])},append:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)this[a].appendChild(n.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].appendChild(t[i]);else this[a].appendChild(t);return this},appendTo:function(e){return t(e).append(this),this},prepend:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t,i=n.childNodes.length-1;i>=0;i--)this[a].insertBefore(n.childNodes[i],this[a].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].insertBefore(t[i],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},prependTo:function(e){return t(e).prepend(this),this},insertBefore:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0]);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n])},insertAfter:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0].nextSibling);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n].nextSibling)},next:function(a){return new e(this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;a?t(r).is(a)&&i.push(r):i.push(r),n=r}return new e(i)},prev:function(a){return new e(this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;a?t(r).is(a)&&i.push(r):i.push(r),n=r}return new e(i)},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},parent:function(e){for(var a=[],i=0;i<this.length;i++)null!==this[i].parentNode&&(e?t(this[i].parentNode).is(e)&&a.push(this[i].parentNode):a.push(this[i].parentNode));return t(t.unique(a))},parents:function e(a){for(var e=[],i=0;i<this.length;i++)for(var n=this[i].parentNode;n;)a?t(n).is(a)&&e.push(n):e.push(n),n=n.parentNode;return t(t.unique(e))},closest:function t(a){var t=this;return"undefined"==typeof a?new e([]):(t.is(a)||(t=t.parents(a).eq(0)),t)},find:function(t){for(var a=[],i=0;i<this.length;i++)for(var n=this[i].querySelectorAll(t),r=0;r<n.length;r++)a.push(n[r]);return new e(a)},children:function a(i){for(var a=[],n=0;n<this.length;n++)for(var r=this[n].childNodes,o=0;o<r.length;o++)i?1===r[o].nodeType&&t(r[o]).is(i)&&a.push(r[o]):1===r[o].nodeType&&a.push(r[o]);return new e(t.unique(a))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(){var e,a,i=this;for(e=0;e<arguments.length;e++){var n=t(arguments[e]);for(a=0;a<n.length;a++)i[i.length]=n[a],i.length++}return i},empty:function(){for(var e=0;e<this.length;e++){var t=this[e];if(1===t.nodeType){for(var a=0;a<t.childNodes.length;a++)t.childNodes[a].parentNode&&t.childNodes[a].parentNode.removeChild(t.childNodes[a]);t.textContent=""}}return this}},function(){function a(a){e.prototype[a]=function(e,i,r){var o;if("undefined"==typeof e){for(o=0;o<this.length;o++)n.indexOf(a)<0&&(a in this[o]?this[o][a]():t(this[o]).trigger(a));return this}return this.on(a,e,i,r)}}for(var i="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),n="resize scroll".split(" "),r=0;r<i.length;r++)a(i[r])}();var i={};t.ajaxSetup=function(e){e.type&&(e.method=e.type),t.each(e,function(e,t){i[e]=t})};var n=0;t.ajax=function(e){function a(a,n,r){var o=arguments;a&&t(document).trigger(a,n),r&&(r in i&&i[r](o[3],o[4],o[5],o[6]),e[r]&&e[r](o[3],o[4],o[5],o[6]))}var r={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},o=["beforeSend","error","complete","success","statusCode"];e.type&&(e.method=e.type),t.each(i,function(e,t){o.indexOf(e)<0&&(r[e]=t)}),t.each(r,function(t,a){t in e||(e[t]=a)}),e.url||(e.url=window.location.toString());var s=e.url.indexOf("?")>=0?"&":"?",l=e.method.toUpperCase();if(("GET"===l||"HEAD"===l||"OPTIONS"===l||"DELETE"===l)&&e.data){var c;c="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),c.length&&(e.url+=s+c,"?"===s&&(s="&"))}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var d,p="f7jsonp_"+Date.now()+n++,u=e.url.split("callback="),f=u[0]+"callback="+p;if(u[1].indexOf("&")>=0){var h=u[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");h.length>0&&(f+="&"+h)}var m=document.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(d),a(void 0,void 0,"error",null,"scripterror")},m.src=f,window[p]=function(e){clearTimeout(d),a(void 0,void 0,"success",e),m.parentNode.removeChild(m),m=null,delete window[p]},document.querySelector("head").appendChild(m),void(e.timeout>0&&(d=setTimeout(function(){m.parentNode.removeChild(m),m=null,a(void 0,void 0,"error",null,"timeout")},e.timeout)))}"GET"!==l&&"HEAD"!==l&&"OPTIONS"!==l&&"DELETE"!==l||e.cache===!1&&(e.url+=s+"_nocache="+Date.now());var v=new XMLHttpRequest;v.requestUrl=e.url,v.requestParameters=e,v.open(l,e.url,e.async,e.user,e.password);var g=null;if(("POST"===l||"PUT"===l||"PATCH"===l)&&e.data)if(e.processData){var y=[ArrayBuffer,Blob,Document,FormData];if(y.indexOf(e.data.constructor)>=0)g=e.data;else{var b="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?v.setRequestHeader("Content-Type","multipart/form-data; boundary="+b):v.setRequestHeader("Content-Type",e.contentType),g="";var w=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){b="---------------------------"+Date.now().toString(16),w=w.split("&");for(var _=[],C=0;C<w.length;C++)_.push('Content-Disposition: form-data; name="'+w[C].split("=")[0]+'"\r\n\r\n'+w[C].split("=")[1]+"\r\n");g="--"+b+"\r\n"+_.join("--"+b+"\r\n")+"--"+b+"--\r\n"}else g=w}}else g=e.data;e.headers&&t.each(e.headers,function(e,t){v.setRequestHeader(e,t)}),"undefined"==typeof e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||v.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields&&t.each(e.xhrFields,function(e,t){v[e]=t});var k;return v.onload=function(t){if(k&&clearTimeout(k),v.status>=200&&v.status<300||0===v.status){var n;if("json"===e.dataType)try{n=JSON.parse(v.responseText),a("ajaxSuccess ajax:success",{xhr:v},"success",n,v.status,v)}catch(e){a("ajaxError ajax:error",{xhr:v,parseerror:!0},"error",v,"parseerror")}else n="text"===v.responseType||""===v.responseType?v.responseText:v.response,a("ajaxSuccess ajax:success",{xhr:v},"success",n,v.status,v)}else a("ajaxError ajax:error",{xhr:v},"error",v,v.status);e.statusCode&&(i.statusCode&&i.statusCode[v.status]&&i.statusCode[v.status](v),e.statusCode[v.status]&&e.statusCode[v.status](v)),a("ajaxComplete ajax:complete",{xhr:v},"complete",v,v.status)},v.onerror=function(e){k&&clearTimeout(k),a("ajaxError ajax:error",{xhr:v},"error",v,v.status)},a("ajaxStart ajax:start",{xhr:v},"start",v),a(void 0,void 0,"beforeSend",v),e.timeout>0&&(v.onabort=function(){k&&clearTimeout(k)},k=setTimeout(function(){v.abort(),a("ajaxError ajax:error",{xhr:v,timeout:!0},"error",v,"timeout"),a("ajaxComplete ajax:complete",{xhr:v,timeout:!0},"complete",v,"timeout")},e.timeout)),v.send(g),v},function(){function e(e){t[e]=function(a,i,n,r){return t.ajax({url:a,method:"post"===e?"POST":"GET",data:"function"==typeof i?void 0:i,success:"function"==typeof i?i:n,error:"function"==typeof i?n:r,dataType:"getJSON"===e?"json":void 0})}}for(var a="get post getJSON".split(" "),i=0;i<a.length;i++)e(a[i])}(),t.parseUrlQuery=function(e){var t,a,i,e=e||location.href,n={};if("string"==typeof e&&e.length){if(e=e.indexOf("#")>-1?e.split("#")[0]:e,!(e.indexOf("?")>-1))return n;for(e=e.split("?")[1],a=e.split("&"),t=0;t<a.length;t++)i=a[t].split("="),n[i[0]]=i[1]}return n},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},t.each=function(i,n){if("object"===("undefined"==typeof i?"undefined":a(i))&&n){var r,o;if(t.isArray(i)||i instanceof e)for(r=0;r<i.length;r++)n(r,i[r]);else for(o in i)i.hasOwnProperty(o)&&n(o,i[o])}},t.unique=function(e){for(var t=[],a=0;a<e.length;a++)t.indexOf(e[a])===-1&&t.push(e[a]);return t},t.serializeObject=t.param=function(e,i){function n(e){if(i.length>0){for(var t="",a=0;a<i.length;a++)t+=0===a?i[a]:"["+encodeURIComponent(i[a])+"]";return t+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function r(e){return encodeURIComponent(e)}if("string"==typeof e)return e;var o=[],s="&";i=i||[];var l;for(var c in e)if(e.hasOwnProperty(c)){var d;if(t.isArray(e[c])){d=[];for(var p=0;p<e[c].length;p++)t.isArray(e[c][p])||"object"!==a(e[c][p])?d.push(n(c)+"[]="+r(e[c][p])):(l=i.slice(),l.push(c),l.push(p+""),d.push(t.serializeObject(e[c][p],l)));d.length>0&&o.push(d.join(s))}else null===e[c]?o.push(n(c)+"="):"object"===a(e[c])?(l=i.slice(),l.push(c),d=t.serializeObject(e[c],l),""!==d&&o.push(d)):"undefined"!=typeof e[c]&&""!==e[c]?o.push(n(c)+"="+r(e[c])):""===e[c]&&o.push(n(c))}return o.join(s)},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.dataset=function(e){return t(e).dataset()},t.getTranslate=function(e,t){var a,i,n,r;return"undefined"==typeof t&&(t="x"),n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=n.transform||n.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new WebKitCSSMatrix("none"===i?"":i)):(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?r.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=window.WebKitCSSMatrix?r.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60);
},t.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);for(var r=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],o={},s=0;s<r.length;s++)for(var l=r[s].letters,c=0;c<l.length;c++)o[l[c]]=r[s].base;return t.removeDiacritics=function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return o[e]||e})},t.fn=e.prototype,t.fn.scrollTo=function(e,a,i,n,r){return 4===arguments.length&&"function"==typeof n&&(r=n,n=void 0),this.each(function(){function o(e){void 0===e&&(e=(new Date).getTime()),null===y&&(y=e);var a,c=Math.max(Math.min((e-y)/i,1),0),d="linear"===n?c:.5-Math.cos(c*Math.PI)/2;return v&&(f=s+d*(p-s)),g&&(h=l+d*(u-l)),v&&p>s&&f>=p&&(m.scrollTop=p,a=!0),v&&p<s&&f<=p&&(m.scrollTop=p,a=!0),g&&u>l&&h>=u&&(m.scrollLeft=u,a=!0),g&&u<l&&h<=u&&(m.scrollLeft=u,a=!0),a?void(r&&r()):(v&&(m.scrollTop=f),g&&(m.scrollLeft=h),void t.requestAnimationFrame(o))}var s,l,c,d,p,u,f,h,m=this,v=a>0||0===a,g=e>0||0===e;if("undefined"==typeof n&&(n="swing"),v&&(s=m.scrollTop,i||(m.scrollTop=a)),g&&(l=m.scrollLeft,i||(m.scrollLeft=e)),i){v&&(c=m.scrollHeight-m.offsetHeight,p=Math.max(Math.min(a,c),0)),g&&(d=m.scrollWidth-m.offsetWidth,u=Math.max(Math.min(e,d),0));var y=null;v&&p===s&&(v=!1),g&&u===l&&(g=!1),t.requestAnimationFrame(o)}})},t.fn.scrollTop=function(e,t,a,i){3===arguments.length&&"function"==typeof a&&(i=a,a=void 0);var n=this;return"undefined"==typeof e?n.length>0?n[0].scrollTop:null:n.scrollTo(void 0,e,t,a,i)},t.fn.scrollLeft=function(e,t,a,i){3===arguments.length&&"function"==typeof a&&(i=a,a=void 0);var n=this;return"undefined"==typeof e?n.length>0?n[0].scrollLeft:null:n.scrollTo(e,void 0,t,a,i)},t}();Framework7.$=e;var t=e;window.Dom7=e;var i=function(e,a,i){a=a||{},i=i||{};var n={duration:300,easing:"swing"};for(var r in n)"undefined"==typeof i[r]&&(i[r]=n[r]);var o=this;if(o.params=i,o.props=a,o.elements=t(e),0===o.elements.length)return o;o.easingProgress=function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},o.stop=function(){o.frameId&&t.cancelAnimationFrame(o.frameId),o.animating=!1,o.elements.each(function(e,t){delete t.animate7Instance}),o.que=[]},o.done=function(t){if(o.animating=!1,o.elements.each(function(e,t){delete t.animate7Instance}),t&&t(e),o.que.length>0){var a=o.que.shift();o.animate(a[0],a[1])}},o.animating=!1,o.que=[],o.animate=function(a,i){function n(){s=(new Date).getTime();var f,h,m;u||(u=!0,i.begin&&i.begin(e)),null===c&&(c=s),i.progress&&i.progress(o.elements,Math.max(Math.min((s-c)/i.duration,1),0),c+i.duration-s<0?0:c+i.duration-s,c);for(var v=0;v<r.length;v++)if(!l&&(m=r[v],!m.done))for(var g in a){if(f=Math.max(Math.min((s-c)/i.duration,1),0),h=o.easingProgress(i.easing,f),m[g].currentValue=m[g].initialValue+h*(m[g].finalValue-m[g].initialValue),(m[g].finalValue>m[g].initialValue&&m[g].currentValue>=m[g].finalValue||m[g].finalValue<m[g].initialValue&&m[g].currentValue<=m[g].finalValue)&&(m._container.style[g]=m[g].finalValue+m[g].unit,p++,p===Object.keys(a).length&&(m.done=!0,d++),d===r.length&&(l=!0)),l)return o.done(i.complete),o;m._container.style[g]=m[g].currentValue+m[g].unit}o.frameId=t.requestAnimationFrame(n)}if(o.animating)return o.que.push([a,i]),o;o.params=i;var r=[];o.elements.each(function(e,t){var i,n,o,s,l;r[e]={_container:t};for(var c in a)i=window.getComputedStyle(t,null).getPropertyValue(c).replace(",","."),n=parseFloat(i),o=i.replace(n,""),s=a[c],l=a[c]+o,r[e][c]={initialFullValue:i,initialValue:n,unit:o,finalValue:s,finalFullValue:l,currentValue:n}});var s,l,c=null,d=0,p=0,u=!1;return o.animating=!0,o.frameId=t.requestAnimationFrame(n),o};for(var s,l=0;l<o.elements.length;l++)o.elements[l].animate7Instance?s=o.elements[l].animate7Instance:o.elements[l].animate7Instance=o;return s?s.animate(a,i):(o.animate(a,i),o)};window.Animate7=function(e,t,a){return new i(e,t,a)},e.fn.animate=function(e,t){return new i(this,e,t),this},Framework7.prototype.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}()};return e}(),Framework7.prototype.device=function(){var t={},a=navigator.userAgent,i=e,n=a.match(/(Android);?[\s\/]+([\d.]+)?/),r=a.match(/(iPad).*OS\s([\d_]+)/),o=a.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipod=t.ipad=t.androidChrome=!1,n&&(t.os="android",t.osVersion=n[2],t.android=!0,t.androidChrome=a.toLowerCase().indexOf("chrome")>=0),(r||s||o)&&(t.os="ios",t.ios=!0),s&&!o&&(t.osVersion=s[2].replace(/_/g,"."),t.iphone=!0),r&&(t.osVersion=r[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&a.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(s||r||o)&&a.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||s)&&(1*l[0]===7?1*l[1]>=1:1*l[0]>7)&&i('meta[name="viewport"]').length>0&&i('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=i(window).width(),d=i(window).height();t.needsStatusBar=function(){return!(!t.webView||c*d!==screen.width*screen.height)},t.statusBar=t.needsStatusBar();var p=[];return t.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&p.push("retina"),t.statusBar?p.push("with-statusbar-overlay"):i("html").removeClass("with-statusbar-overlay"),p.length>0&&i("html").addClass(p.join(" ")),t}(),Framework7.prototype.plugins={},window.Template7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function a(e){return"undefined"!=typeof window&&window.escape?window.escape(e):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(e){var t,a,i,n=e.replace(/[{}#}]/g,"").split(" "),s=[];for(a=0;a<n.length;a++){var l,c,d=n[a];if(0===a)s.push(d);else if(0===d.indexOf('"')||0===d.indexOf("'"))if(l=0===d.indexOf('"')?o:r,c=0===d.indexOf('"')?'"':"'",2===d.match(l).length)s.push(d);else{for(t=0,i=a+1;i<n.length;i++)if(d+=" "+n[i],n[i].indexOf(c)>=0){t=i,s.push(d);break}t&&(a=t)}else if(d.indexOf("=")>0){var p=d.split("="),u=p[0],f=p[1];if(l||(l=0===f.indexOf('"')?o:r,c=0===f.indexOf('"')?'"':"'"),2!==f.match(l).length){for(t=0,i=a+1;i<n.length;i++)if(f+=" "+n[i],n[i].indexOf(c)>=0){t=i;break}t&&(a=t)}var h=[u,f.replace(l,"")];s.push(h)}else s.push(d)}return s}function n(t){var a,n,r=[];if(!t)return[];var o=t.split(/({{[^{^}]*}})/);for(a=0;a<o.length;a++){var s=o[a];if(""!==s)if(s.indexOf("{{")<0)r.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){r.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var l=i(s),c=l[0],d=">"===c,p=[],u={};for(n=1;n<l.length;n++){var f=l[n];e(f)?u[f[0]]="false"!==f[1]&&f[1]:p.push(f)}if(s.indexOf("{#")>=0){var h,m="",v="",g=0,y=!1,b=!1,w=0;for(n=a+1;n<o.length;n++)if(o[n].indexOf("{{#")>=0&&w++,o[n].indexOf("{{/")>=0&&w--,o[n].indexOf("{{#"+c)>=0)m+=o[n],b&&(v+=o[n]),g++;else if(o[n].indexOf("{{/"+c)>=0){if(!(g>0)){h=n,y=!0;break}g--,m+=o[n],b&&(v+=o[n])}else o[n].indexOf("else")>=0&&0===w?b=!0:(b||(m+=o[n]),b&&(v+=o[n]));y&&(h&&(a=h),r.push({type:"helper",helperName:c,contextName:p,content:m,inverseContent:v,hash:u}))}else s.indexOf(" ")>0&&(d&&(c="_partial",p[0]&&(p[0]='"'+p[0].replace(/"|'/g,"")+'"')),r.push({type:"helper",helperName:c,contextName:p,hash:u}))}}return r}var r=new RegExp("'","g"),o=new RegExp('"',"g"),s=function(e,t){function a(e,t){return e.content?s(e.content,t):function(){return""}}function i(e,t){return e.inverseContent?s(e.inverseContent,t):function(){return""}}function r(e,t){var a,i,n=0;if(0===e.indexOf("../")){n=e.split("../").length-1;var r=t.split("_")[1]-n;t="ctx_"+(r>=1?r:1),i=e.split("../")[n].split(".")}else 0===e.indexOf("@global")?(t="Template7.global",i=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="root",i=e.split("@root.")[1].split(".")):i=e.split(".");a=t;for(var o=0;o<i.length;o++){var s=i[o];0===s.indexOf("@")?o>0?a+="[(data && data."+s.replace("@","")+")]":a="(data && data."+e.replace("@","")+")":isFinite(s)?a+="["+s+"]":"this"===s||s.indexOf("this.")>=0||s.indexOf("this[")>=0||s.indexOf("this(")>=0?a=s.replace("this",t):a+="."+s}return a}function o(e,t){for(var a=[],i=0;i<e.length;i++)/^['"]/.test(e[i])?a.push(e[i]):/^(true|false|\d+)$/.test(e[i])?a.push(e[i]):a.push(r(e[i],t));return a.join(", ")}function s(e,t){if(t=t||1,e=e||l.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var s=n(e);if(0===s.length)return function(){return""};var c="ctx_"+t,d="";d+=1===t?"(function ("+c+", data, root) {\n":"(function ("+c+", data) {\n",1===t&&(d+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",d+="function isFunction(func){return (typeof func === 'function');}\n",d+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',d+="root = root || ctx_1 || {};\n"),d+="var r = '';\n";var p;for(p=0;p<s.length;p++){var u=s[p];if("plain"!==u.type){var f,h;if("variable"===u.type&&(f=r(u.contextName,c),d+="r += c("+f+", "+c+");"),"helper"===u.type)if(u.helperName in l.helpers)h=o(u.contextName,c),d+="r += (Template7.helpers."+u.helperName+").call("+c+", "+(h&&h+", ")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+i(u,t+1)+", root: root});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');f=r(u.helperName,c),d+="if ("+f+") {",d+="if (isArray("+f+")) {",d+="r += (Template7.helpers.each).call("+c+", "+f+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+i(u,t+1)+", root: root});",d+="}else {",d+="r += (Template7.helpers.with).call("+c+", "+f+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+a(u,t+1)+", inverse: "+i(u,t+1)+", root: root});",d+="}}"}}else d+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return d+="\nreturn r;})",eval.call(window,d)}var l=this;l.template=e,l.compile=function(e){return l.compiled||(l.compiled=s(e)),l.compiled}};s.prototype={options:{},partials:{},helpers:{_partial:function(e,t){var a=s.prototype.partials[e];if(!a||a&&!a.template)return"";a.compiled||(a.compiled=new s(a.template).compile());var i=this;for(var n in t.hash)i[n]=t.hash[n];return a.compiled(i,t.data,t.root)},escape:function(e,t){if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return a(e)},if:function(e,a){return t(e)&&(e=e.call(this)),e?a.fn(this,a.data):a.inverse(this,a.data)},unless:function(e,a){return t(e)&&(e=e.call(this)),e?a.inverse(this,a.data):a.fn(this,a.data)},each:function(a,i){var n="",r=0;if(t(a)&&(a=a.call(this)),e(a)){for(i.hash.reverse&&(a=a.reverse()),r=0;r<a.length;r++)n+=i.fn(a[r],{first:0===r,last:r===a.length-1,index:r});i.hash.reverse&&(a=a.reverse())}else for(var o in a)r++,n+=i.fn(a[o],{key:o});return r>0?n:i.inverse(this)},with:function(e,a){return t(e)&&(e=e.call(this)),a.fn(e)},join:function(e,a){return t(e)&&(e=e.call(this)),e.join(a.hash.delimiter||a.hash.delimeter)},js:function(e,t){var a;return a=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,a).call(this)},js_compare:function(e,t){var a;a=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var i=eval.call(this,a).call(this);return i?t.fn(this,t.data):t.inverse(this,t.data)}}};var l=function(e,t){if(2===arguments.length){var a=new s(e),i=a.compile()(t);return a=null,i}return new s(e)};return l.registerHelper=function(e,t){s.prototype.helpers[e]=t},l.unregisterHelper=function(e){s.prototype.helpers[e]=void 0,delete s.prototype.helpers[e]},l.registerPartial=function(e,t){s.prototype.partials[e]={template:t}},l.unregisterPartial=function(e,t){s.prototype.partials[e]&&(s.prototype.partials[e]=void 0,delete s.prototype.partials[e])},l.compile=function(e,t){var a=new s(e,t);return a.compile()},l.options=s.prototype.options,l.helpers=s.prototype.helpers,l.partials=s.prototype.partials,l}(),window.Swiper=function(i,n){function r(e){return Math.floor(e)}function o(){var e=y.params.autoplay,t=y.slides.eq(y.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||y.params.autoplay),y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext(),y.emit("onAutoplay",y)):y.isEnd?n.autoplayStopOnLast?y.stopAutoplay():(y._slideTo(0),y.emit("onAutoplay",y)):(y._slideNext(),y.emit("onAutoplay",y))},e)}function s(e,a){var i=t(e.target);if(!i.is(a))if("string"==typeof a)i=i.parents(a);else if(a.nodeType){var n;return i.parents().each(function(e,t){t===a&&(n=a)}),n?a:void 0}if(0!==i.length)return i[0]}function l(e,t){t=t||{};var a=window.MutationObserver||window.WebkitMutationObserver,i=new a(function(e){e.forEach(function(e){y.onResize(!0),y.emit("onObserverUpdate",y,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes||t.attributes,childList:"undefined"==typeof t.childList||t.childList,characterData:"undefined"==typeof t.characterData||t.characterData}),y.observers.push(i)}function c(e,a){e=t(e);var i,n,r,o=y.rtl?-1:1;i=e.attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),r=e.attr("data-swiper-parallax-y"),n||r?(n=n||"0",r=r||"0"):y.isHorizontal()?(n=i,r="0"):(r=i,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*a*o+"%":n*a*o+"px",r=r.indexOf("%")>=0?parseInt(r,10)*a+"%":r*a+"px",e.transform("translate3d("+n+", "+r+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof Swiper))return new Swiper(i,n);var p={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},u=n&&n.virtualTranslate;n=n||{};var f={};for(var h in n)if("object"!==a(n[h])||null===n[h]||(n[h].nodeType||n[h]===window||n[h]===document||"undefined"!=typeof e&&n[h]instanceof e||"undefined"!=typeof jQuery&&n[h]instanceof jQuery))f[h]=n[h];else{f[h]={};for(var m in n[h])f[h][m]=n[h][m]}for(var v in p)if("undefined"==typeof n[v])n[v]=p[v];else if("object"===a(n[v]))for(var g in p[v])"undefined"==typeof n[v][g]&&(n[v][g]=p[v][g]);var y=this;if(y.params=n,y.originalParams=f,y.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof e&&(t=e),("undefined"!=typeof t||(t="undefined"==typeof e?window.Dom7||window.Zepto||window.jQuery:e))&&(y.$=t,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var e,t=!1,a=[];for(e in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(e)&&a.push(e);a.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<a.length;i++)e=a[i],e>=window.innerWidth&&!t&&(t=e);return t||"max"},y.setBreakpoint=function(){var e=y.getActiveBreakpoint();if(e&&y.currentBreakpoint!==e){var t=e in y.params.breakpoints?y.params.breakpoints[e]:y.originalParams,a=y.params.loop&&t.slidesPerView!==y.params.slidesPerView;for(var i in t)y.params[i]=t[i];y.currentBreakpoint=e,a&&y.destroyLoop&&y.reLoop(!0)}},y.params.breakpoints&&y.setBreakpoint(),y.container=t(i),0!==y.container.length)){if(y.container.length>1){var b=[];return y.container.each(function(){b.push(new Swiper(this,n))}),b}y.container[0].swiper=y,y.container.data("swiper",y),y.classNames.push(y.params.containerModifierClass+y.params.direction),y.params.freeMode&&y.classNames.push(y.params.containerModifierClass+"free-mode"),y.support.flexbox||(y.classNames.push(y.params.containerModifierClass+"no-flexbox"),y.params.slidesPerColumn=1),y.params.autoHeight&&y.classNames.push(y.params.containerModifierClass+"autoheight"),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),y.params.touchReleaseOnEdges&&(y.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(y.params.effect)>=0&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push(y.params.containerModifierClass+"3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push(y.params.containerModifierClass+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),"fade"!==y.params.effect&&"flip"!==y.params.effect||(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,y.params.setWrapperSize=!1,"undefined"==typeof u&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=t(y.params.pagination),y.params.uniqueNavElements&&"string"==typeof y.params.pagination&&y.paginationContainer.length>1&&1===y.container.find(y.params.pagination).length&&(y.paginationContainer=y.container.find(y.params.pagination)),"bullets"===y.params.paginationType&&y.params.paginationClickable?y.paginationContainer.addClass(y.params.paginationModifierClass+"clickable"):y.params.paginationClickable=!1,y.paginationContainer.addClass(y.params.paginationModifierClass+y.params.paginationType)),(y.params.nextButton||y.params.prevButton)&&(y.params.nextButton&&(y.nextButton=t(y.params.nextButton),y.params.uniqueNavElements&&"string"==typeof y.params.nextButton&&y.nextButton.length>1&&1===y.container.find(y.params.nextButton).length&&(y.nextButton=y.container.find(y.params.nextButton))),y.params.prevButton&&(y.prevButton=t(y.params.prevButton),y.params.uniqueNavElements&&"string"==typeof y.params.prevButton&&y.prevButton.length>1&&1===y.container.find(y.params.prevButton).length&&(y.prevButton=y.container.find(y.params.prevButton)))),y.isHorizontal=function(){return"horizontal"===y.params.direction},y.rtl=y.isHorizontal()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push(y.params.containerModifierClass+"rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),y.params.slidesPerColumn>1&&y.classNames.push(y.params.containerModifierClass+"multirow"),y.device.android&&y.classNames.push(y.params.containerModifierClass+"android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1,y.params.allowSwipeToPrev===!1&&y.params.grabCursor&&y.unsetGrabCursor()},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1,y.params.allowSwipeToNext===!1&&y.params.grabCursor&&y.unsetGrabCursor()},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1,y.params.grabCursor&&y.unsetGrabCursor()},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0,y.params.allowSwipeToPrev===!0&&y.params.grabCursor&&y.setGrabCursor()},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0,y.params.allowSwipeToNext===!0&&y.params.grabCursor&&y.setGrabCursor()},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0,y.params.grabCursor&&y.setGrabCursor()},y.setGrabCursor=function(e){y.container[0].style.cursor="move",y.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",y.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",y.container[0].style.cursor=e?"grabbing":"grab"},y.unsetGrabCursor=function(){y.container[0].style.cursor=""},y.params.grabCursor&&y.setGrabCursor(),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(e,t,a,i,n,r){function o(){r&&r()}var s;e.complete&&n?o():t?(s=new window.Image,s.onload=o,s.onerror=o,i&&(s.sizes=i),a&&(s.srcset=a),t&&(s.src=t)):o()},y.preloadImages=function(){function e(){"undefined"!=typeof y&&null!==y&&y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var t=0;t<y.imagesToLoad.length;t++)y.loadImage(y.imagesToLoad[t],y.imagesToLoad[t].currentSrc||y.imagesToLoad[t].getAttribute("src"),y.imagesToLoad[t].srcset||y.imagesToLoad[t].getAttribute("srcset"),y.imagesToLoad[t].sizes||y.imagesToLoad[t].getAttribute("sizes"),!0,e)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return"undefined"==typeof y.autoplayTimeoutId&&(!!y.params.autoplay&&(!y.autoplaying&&(y.autoplaying=!0,y.emit("onAutoplayStart",y),void o())))},y.stopAutoplay=function(e){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(e){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===e?(y.autoplayPaused=!1,o()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?o():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateAutoHeight=function(){var e,t=[],a=0;if("auto"!==y.params.slidesPerView&&y.params.slidesPerView>1)for(e=0;e<Math.ceil(y.params.slidesPerView);e++){var i=y.activeIndex+e;if(i>y.slides.length)break;t.push(y.slides.eq(i)[0])}else t.push(y.slides.eq(y.activeIndex)[0]);for(e=0;e<t.length;e++)if("undefined"!=typeof t[e]){var n=t[e].offsetHeight;a=n>a?n:a}a&&y.wrapper.css("height",a+"px")},y.updateContainerSize=function(){var e,t;e="undefined"!=typeof y.params.width?y.params.width:y.container[0].clientWidth,t="undefined"!=typeof y.params.height?y.params.height:y.container[0].clientHeight,0===e&&y.isHorizontal()||0===t&&!y.isHorizontal()||(e=e-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),t=t-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=e,y.height=t,y.size=y.isHorizontal()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var e,t=y.params.spaceBetween,a=-y.params.slidesOffsetBefore,i=0,n=0;if("undefined"!=typeof y.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*y.size),y.virtualSize=-t,y.rtl?y.slides.css({marginLeft:"",marginTop:""}):y.slides.css({marginRight:"",marginBottom:""});var o;y.params.slidesPerColumn>1&&(o=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(o=Math.max(o,y.params.slidesPerView*y.params.slidesPerColumn)));var s,l=y.params.slidesPerColumn,c=o/l,d=c-(y.params.slidesPerColumn*c-y.slides.length);for(e=0;e<y.slides.length;e++){s=0;var p=y.slides.eq(e);if(y.params.slidesPerColumn>1){var u,f,h;"column"===y.params.slidesPerColumnFill?(f=Math.floor(e/l),h=e-f*l,(f>d||f===d&&h===l-1)&&++h>=l&&(h=0,f++),u=f+h*o/l,p.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})):(h=Math.floor(e/c),f=e-h*c),p.css("margin-"+(y.isHorizontal()?"top":"left"),0!==h&&y.params.spaceBetween&&y.params.spaceBetween+"px").attr("data-swiper-column",f).attr("data-swiper-row",h)}"none"!==p.css("display")&&("auto"===y.params.slidesPerView?(s=y.isHorizontal()?p.outerWidth(!0):p.outerHeight(!0),y.params.roundLengths&&(s=r(s))):(s=(y.size-(y.params.slidesPerView-1)*t)/y.params.slidesPerView,y.params.roundLengths&&(s=r(s)),y.isHorizontal()?y.slides[e].style.width=s+"px":y.slides[e].style.height=s+"px"),y.slides[e].swiperSlideSize=s,y.slidesSizesGrid.push(s),y.params.centeredSlides?(a=a+s/2+i/2+t,0===e&&(a=a-y.size/2-t),Math.abs(a)<.001&&(a=0),n%y.params.slidesPerGroup===0&&y.snapGrid.push(a),y.slidesGrid.push(a)):(n%y.params.slidesPerGroup===0&&y.snapGrid.push(a),y.slidesGrid.push(a),a=a+s+t),y.virtualSize+=s+t,i=s,n++)}y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter;var m;if(y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.support.flexbox&&!y.params.setWrapperSize||(y.isHorizontal()?y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}):y.wrapper.css({height:y.virtualSize+y.params.spaceBetween+"px"})),y.params.slidesPerColumn>1&&(y.virtualSize=(s+y.params.spaceBetween)*o,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.isHorizontal()?y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}):y.wrapper.css({height:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(m=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<y.virtualSize+y.snapGrid[0]&&m.push(y.snapGrid[e]);y.snapGrid=m}if(!y.params.centeredSlides){for(m=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<=y.virtualSize-y.size&&m.push(y.snapGrid[e]);y.snapGrid=m,Math.floor(y.virtualSize-y.size)-Math.floor(y.snapGrid[y.snapGrid.length-1])>1&&y.snapGrid.push(y.virtualSize-y.size);
}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&(y.isHorizontal()?y.rtl?y.slides.css({marginLeft:t+"px"}):y.slides.css({marginRight:t+"px"}):y.slides.css({marginBottom:t+"px"})),y.params.watchSlidesProgress&&y.updateSlidesOffset()}},y.updateSlidesOffset=function(){for(var e=0;e<y.slides.length;e++)y.slides[e].swiperSlideOffset=y.isHorizontal()?y.slides[e].offsetLeft:y.slides[e].offsetTop},y.currentSlidesPerView=function(){var e,t,a=1;if(y.params.centeredSlides){var i,n=y.slides[y.activeIndex].swiperSlideSize;for(e=y.activeIndex+1;e<y.slides.length;e++)y.slides[e]&&!i&&(n+=y.slides[e].swiperSlideSize,a++,n>y.size&&(i=!0));for(t=y.activeIndex-1;t>=0;t--)y.slides[t]&&!i&&(n+=y.slides[t].swiperSlideSize,a++,n>y.size&&(i=!0))}else for(e=y.activeIndex+1;e<y.slides.length;e++)y.slidesGrid[e]-y.slidesGrid[y.activeIndex]<y.size&&a++;return a},y.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=y.translate||0),0!==y.slides.length){"undefined"==typeof y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var t=-e;y.rtl&&(t=e),y.slides.removeClass(y.params.slideVisibleClass);for(var a=0;a<y.slides.length;a++){var i=y.slides[a],n=(t+(y.params.centeredSlides?y.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var r=-(t-i.swiperSlideOffset),o=r+y.slidesSizesGrid[a],s=r>=0&&r<y.size||o>0&&o<=y.size||r<=0&&o>=y.size;s&&y.slides.eq(a).addClass(y.params.slideVisibleClass)}i.progress=y.rtl?-n:n}}},y.updateProgress=function(e){"undefined"==typeof e&&(e=y.translate||0);var t=y.maxTranslate()-y.minTranslate(),a=y.isBeginning,i=y.isEnd;0===t?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(e-y.minTranslate())/t,y.isBeginning=y.progress<=0,y.isEnd=y.progress>=1),y.isBeginning&&!a&&y.emit("onReachBeginning",y),y.isEnd&&!i&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(e),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var e,t,a,i=y.rtl?y.translate:-y.translate;for(t=0;t<y.slidesGrid.length;t++)"undefined"!=typeof y.slidesGrid[t+1]?i>=y.slidesGrid[t]&&i<y.slidesGrid[t+1]-(y.slidesGrid[t+1]-y.slidesGrid[t])/2?e=t:i>=y.slidesGrid[t]&&i<y.slidesGrid[t+1]&&(e=t+1):i>=y.slidesGrid[t]&&(e=t);y.params.normalizeSlideIndex&&(e<0||"undefined"==typeof e)&&(e=0),a=Math.floor(e/y.params.slidesPerGroup),a>=y.snapGrid.length&&(a=y.snapGrid.length-1),e!==y.activeIndex&&(y.snapIndex=a,y.previousIndex=y.activeIndex,y.activeIndex=e,y.updateClasses(),y.updateRealIndex())},y.updateRealIndex=function(){y.realIndex=parseInt(y.slides.eq(y.activeIndex).attr("data-swiper-slide-index")||y.activeIndex,10)},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass+" "+y.params.slideDuplicateActiveClass+" "+y.params.slideDuplicateNextClass+" "+y.params.slideDuplicatePrevClass);var e=y.slides.eq(y.activeIndex);e.addClass(y.params.slideActiveClass),n.loop&&(e.hasClass(y.params.slideDuplicateClass)?y.wrapper.children("."+y.params.slideClass+":not(."+y.params.slideDuplicateClass+')[data-swiper-slide-index="'+y.realIndex+'"]').addClass(y.params.slideDuplicateActiveClass):y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+y.realIndex+'"]').addClass(y.params.slideDuplicateActiveClass));var a=e.next("."+y.params.slideClass).addClass(y.params.slideNextClass);y.params.loop&&0===a.length&&(a=y.slides.eq(0),a.addClass(y.params.slideNextClass));var i=e.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass);if(y.params.loop&&0===i.length&&(i=y.slides.eq(-1),i.addClass(y.params.slidePrevClass)),n.loop&&(a.hasClass(y.params.slideDuplicateClass)?y.wrapper.children("."+y.params.slideClass+":not(."+y.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(y.params.slideDuplicateNextClass):y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(y.params.slideDuplicateNextClass),i.hasClass(y.params.slideDuplicateClass)?y.wrapper.children("."+y.params.slideClass+":not(."+y.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(y.params.slideDuplicatePrevClass):y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(y.params.slideDuplicatePrevClass)),y.paginationContainer&&y.paginationContainer.length>0){var r,o=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length;if(y.params.loop?(r=Math.ceil((y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup),r>y.slides.length-1-2*y.loopedSlides&&(r-=y.slides.length-2*y.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==y.params.paginationType&&(r=o+r)):r="undefined"!=typeof y.snapIndex?y.snapIndex:y.activeIndex||0,"bullets"===y.params.paginationType&&y.bullets&&y.bullets.length>0&&(y.bullets.removeClass(y.params.bulletActiveClass),y.paginationContainer.length>1?y.bullets.each(function(){t(this).index()===r&&t(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(r).addClass(y.params.bulletActiveClass)),"fraction"===y.params.paginationType&&(y.paginationContainer.find("."+y.params.paginationCurrentClass).text(r+1),y.paginationContainer.find("."+y.params.paginationTotalClass).text(o)),"progress"===y.params.paginationType){var s=(r+1)/o,l=s,c=1;y.isHorizontal()||(c=s,l=1),y.paginationContainer.find("."+y.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(y.params.speed)}"custom"===y.params.paginationType&&y.params.paginationCustomRender&&(y.paginationContainer.html(y.params.paginationCustomRender(y,r+1,o)),y.emit("onPaginationRendered",y,y.paginationContainer[0]))}y.params.loop||(y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.isBeginning?(y.prevButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.prevButton)):(y.prevButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.prevButton))),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.isEnd?(y.nextButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.nextButton)):(y.nextButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.nextButton))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&y.paginationContainer.length>0){var e="";if("bullets"===y.params.paginationType){for(var t=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,a=0;a<t;a++)e+=y.params.paginationBulletRender?y.params.paginationBulletRender(y,a,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(e),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}"fraction"===y.params.paginationType&&(e=y.params.paginationFractionRender?y.params.paginationFractionRender(y,y.params.paginationCurrentClass,y.params.paginationTotalClass):'<span class="'+y.params.paginationCurrentClass+'"></span> / <span class="'+y.params.paginationTotalClass+'"></span>',y.paginationContainer.html(e)),"progress"===y.params.paginationType&&(e=y.params.paginationProgressRender?y.params.paginationProgressRender(y,y.params.paginationProgressbarClass):'<span class="'+y.params.paginationProgressbarClass+'"></span>',y.paginationContainer.html(e)),"custom"!==y.params.paginationType&&y.emit("onPaginationRendered",y,y.paginationContainer[0])}},y.update=function(e){function t(){y.rtl?-y.translate:y.translate;i=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(i),y.updateActiveIndex(),y.updateClasses()}if(y)if(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),e){var a,i;y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?(t(),y.params.autoHeight&&y.updateAutoHeight()):(a=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0),a||t())}else y.params.autoHeight&&y.updateAutoHeight()},y.onResize=function(e){y.params.breakpoints&&y.setBreakpoint();var t=y.params.allowSwipeToPrev,a=y.params.allowSwipeToNext;y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||e)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0);var i=!1;if(y.params.freeMode){var n=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(n),y.updateActiveIndex(),y.updateClasses(),y.params.autoHeight&&y.updateAutoHeight()}else y.updateClasses(),i=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.lazyLoading&&!i&&y.lazy&&y.lazy.load(),y.params.allowSwipeToPrev=t,y.params.allowSwipeToNext=a},y.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?y.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(y.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":y.touchEventsDesktop.start,move:y.support.touch||!y.params.simulateTouch?"touchmove":y.touchEventsDesktop.move,end:y.support.touch||!y.params.simulateTouch?"touchend":y.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(e){var t=e?"off":"on",a=e?"removeEventListener":"addEventListener",i="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],r=y.support.touch?i:document,o=!!y.params.nested;if(y.browser.ie)i[a](y.touchEvents.start,y.onTouchStart,!1),r[a](y.touchEvents.move,y.onTouchMove,o),r[a](y.touchEvents.end,y.onTouchEnd,!1);else{if(y.support.touch){var s=!("touchstart"!==y.touchEvents.start||!y.support.passiveListener||!y.params.passiveListeners)&&{passive:!0,capture:!1};i[a](y.touchEvents.start,y.onTouchStart,s),i[a](y.touchEvents.move,y.onTouchMove,o),i[a](y.touchEvents.end,y.onTouchEnd,s)}(n.simulateTouch&&!y.device.ios&&!y.device.android||n.simulateTouch&&!y.support.touch&&y.device.ios)&&(i[a]("mousedown",y.onTouchStart,!1),document[a]("mousemove",y.onTouchMove,o),document[a]("mouseup",y.onTouchEnd,!1))}window[a]("resize",y.onResize),y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.nextButton[t]("click",y.onClickNext),y.params.a11y&&y.a11y&&y.nextButton[t]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.prevButton[t]("click",y.onClickPrev),y.params.a11y&&y.a11y&&y.prevButton[t]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(y.paginationContainer[t]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&y.paginationContainer[t]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&i[a]("click",y.preventClicks,!0)},y.attachEvents=function(){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(e){y.allowClick||(y.params.preventClicks&&e.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},y.onClickNext=function(e){e.preventDefault(),y.isEnd&&!y.params.loop||y.slideNext()},y.onClickPrev=function(e){e.preventDefault(),y.isBeginning&&!y.params.loop||y.slidePrev()},y.onClickIndex=function(e){e.preventDefault();var a=t(this).index()*y.params.slidesPerGroup;y.params.loop&&(a+=y.loopedSlides),y.slideTo(a)},y.updateClickedSlide=function(e){var a=s(e,"."+y.params.slideClass),i=!1;if(a)for(var n=0;n<y.slides.length;n++)y.slides[n]===a&&(i=!0);if(!a||!i)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=a,y.clickedIndex=t(a).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var r,o=y.clickedIndex,l="auto"===y.params.slidesPerView?y.currentSlidesPerView():y.params.slidesPerView;if(y.params.loop){if(y.animating)return;r=parseInt(t(y.clickedSlide).attr("data-swiper-slide-index"),10),y.params.centeredSlides?o<y.loopedSlides-l/2||o>y.slides.length-y.loopedSlides+l/2?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+y.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o):o>y.slides.length-l?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+y.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o)}else y.slideTo(o)}};var w,_,C,k,x,T,S,P,O,I,D="input, select, textarea, button, video",E=Date.now(),M=[];y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var j,L;y.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),j="touchstart"===e.type,j||!("which"in e)||3!==e.which){if(y.params.noSwiping&&s(e,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||s(e,y.params.swipeHandler)){var a=y.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i=y.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&a<=y.params.iOSEdgeSwipeThreshold)){if(w=!0,_=!1,C=!0,x=void 0,L=void 0,y.touches.startX=a,y.touches.startY=i,k=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,y.params.threshold>0&&(P=!1),"touchstart"!==e.type){var n=!0;t(e.target).is(D)&&(n=!1),document.activeElement&&t(document.activeElement).is(D)&&document.activeElement.blur(),n&&e.preventDefault()}y.emit("onTouchStart",y,e)}}}},y.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!j||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return y.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(y.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(y.params.onlyExternal)return y.allowClick=!1,void(w&&(y.touches.startX=y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.startY=y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,k=Date.now()));if(j&&y.params.touchReleaseOnEdges&&!y.params.loop)if(y.isHorizontal()){if(y.touches.currentX<y.touches.startX&&y.translate<=y.maxTranslate()||y.touches.currentX>y.touches.startX&&y.translate>=y.minTranslate())return}else if(y.touches.currentY<y.touches.startY&&y.translate<=y.maxTranslate()||y.touches.currentY>y.touches.startY&&y.translate>=y.minTranslate())return;if(j&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(D))return _=!0,void(y.allowClick=!1);if(C&&y.emit("onTouchMove",y,e),!(e.targetTouches&&e.targetTouches.length>1)){if(y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof x){var a;y.isHorizontal()&&y.touches.currentY===y.touches.startY||!y.isHorizontal()&&y.touches.currentX===y.touches.startX?x=!1:(a=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI,x=y.isHorizontal()?a>y.params.touchAngle:90-a>y.params.touchAngle)}if(x&&y.emit("onTouchMoveOpposite",y,e),"undefined"==typeof L&&y.browser.ieTouch&&(y.touches.currentX===y.touches.startX&&y.touches.currentY===y.touches.startY||(L=!0)),w){if(x)return void(w=!1);if(L||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,e),e.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&e.stopPropagation(),_||(n.loop&&y.fixLoop(),S=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),I=!1,!y.params.grabCursor||y.params.allowSwipeToNext!==!0&&y.params.allowSwipeToPrev!==!0||y.setGrabCursor(!0)),_=!0;var i=y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;i*=y.params.touchRatio,y.rtl&&(i=-i),y.swipeDirection=i>0?"prev":"next",T=i+S;var r=!0;if(i>0&&T>y.minTranslate()?(r=!1,y.params.resistance&&(T=y.minTranslate()-1+Math.pow(-y.minTranslate()+S+i,y.params.resistanceRatio))):i<0&&T<y.maxTranslate()&&(r=!1,y.params.resistance&&(T=y.maxTranslate()+1-Math.pow(y.maxTranslate()-S-i,y.params.resistanceRatio))),r&&(e.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&T<S&&(T=S),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&T>S&&(T=S),y.params.threshold>0){if(!(Math.abs(i)>y.params.threshold||P))return void(T=S);if(!P)return P=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,T=S,void(y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}y.params.followFinger&&((y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===M.length&&M.push({position:y.touches[y.isHorizontal()?"startX":"startY"],time:k}),M.push({position:y.touches[y.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(T),y.setWrapperTranslate(T))}}}}},y.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),C&&y.emit("onTouchEnd",y,e),C=!1,w){y.params.grabCursor&&_&&w&&(y.params.allowSwipeToNext===!0||y.params.allowSwipeToPrev===!0)&&y.setGrabCursor(!1);var a=Date.now(),i=a-k;if(y.allowClick&&(y.updateClickedSlide(e),y.emit("onTap",y,e),i<300&&a-E>300&&(O&&clearTimeout(O),O=setTimeout(function(){y&&(y.params.paginationHide&&y.paginationContainer.length>0&&!t(e.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,e))},300)),i<300&&a-E<300&&(O&&clearTimeout(O),y.emit("onDoubleTap",y,e))),E=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!w||!_||!y.swipeDirection||0===y.touches.diff||T===S)return void(w=_=!1);w=_=!1;var n;if(n=y.params.followFinger?y.rtl?y.translate:-y.translate:-T,y.params.freeMode){if(n<-y.minTranslate())return void y.slideTo(y.activeIndex);if(n>-y.maxTranslate())return void(y.slides.length<y.snapGrid.length?y.slideTo(y.snapGrid.length-1):y.slideTo(y.slides.length-1));if(y.params.freeModeMomentum){if(M.length>1){var r=M.pop(),o=M.pop(),s=r.position-o.position,l=r.time-o.time;y.velocity=s/l,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(l>150||(new window.Date).getTime()-r.time>300)&&(y.velocity=0)}else y.velocity=0;y.velocity=y.velocity*y.params.freeModeMomentumVelocityRatio,M.length=0;var c=1e3*y.params.freeModeMomentumRatio,d=y.velocity*c,p=y.translate+d;y.rtl&&(p=-p);var u,f=!1,h=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(p<y.maxTranslate())y.params.freeModeMomentumBounce?(p+y.maxTranslate()<-h&&(p=y.maxTranslate()-h),u=y.maxTranslate(),f=!0,I=!0):p=y.maxTranslate();else if(p>y.minTranslate())y.params.freeModeMomentumBounce?(p-y.minTranslate()>h&&(p=y.minTranslate()+h),u=y.minTranslate(),f=!0,I=!0):p=y.minTranslate();else if(y.params.freeModeSticky){var m,v=0;for(v=0;v<y.snapGrid.length;v+=1)if(y.snapGrid[v]>-p){m=v;break}p=Math.abs(y.snapGrid[m]-p)<Math.abs(y.snapGrid[m-1]-p)||"next"===y.swipeDirection?y.snapGrid[m]:y.snapGrid[m-1],y.rtl||(p=-p)}if(0!==y.velocity)c=y.rtl?Math.abs((-p-y.translate)/y.velocity):Math.abs((p-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&f?(y.updateProgress(u),y.setWrapperTransition(c),y.setWrapperTranslate(p),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&I&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(u),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(p),y.setWrapperTransition(c),y.setWrapperTranslate(p),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(p),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||i>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var g,b=0,x=y.slidesSizesGrid[0];for(g=0;g<y.slidesGrid.length;g+=y.params.slidesPerGroup)"undefined"!=typeof y.slidesGrid[g+y.params.slidesPerGroup]?n>=y.slidesGrid[g]&&n<y.slidesGrid[g+y.params.slidesPerGroup]&&(b=g,x=y.slidesGrid[g+y.params.slidesPerGroup]-y.slidesGrid[g]):n>=y.slidesGrid[g]&&(b=g,x=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var P=(n-y.slidesGrid[b])/x;if(i>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&(P>=y.params.longSwipesRatio?y.slideTo(b+y.params.slidesPerGroup):y.slideTo(b)),"prev"===y.swipeDirection&&(P>1-y.params.longSwipesRatio?y.slideTo(b+y.params.slidesPerGroup):y.slideTo(b))}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(b+y.params.slidesPerGroup),"prev"===y.swipeDirection&&y.slideTo(b)}}},y._slideTo=function(e,t){return y.slideTo(e,t,!0,!0)},y.slideTo=function(e,t,a,i){"undefined"==typeof a&&(a=!0),"undefined"==typeof e&&(e=0),e<0&&(e=0),y.snapIndex=Math.floor(e/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var n=-y.snapGrid[y.snapIndex];if(y.params.autoplay&&y.autoplaying&&(i||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(t):y.stopAutoplay()),y.updateProgress(n),y.params.normalizeSlideIndex)for(var r=0;r<y.slidesGrid.length;r++)-Math.floor(100*n)>=Math.floor(100*y.slidesGrid[r])&&(e=r);return!(!y.params.allowSwipeToNext&&n<y.translate&&n<y.minTranslate())&&(!(!y.params.allowSwipeToPrev&&n>y.translate&&n>y.maxTranslate()&&(y.activeIndex||0)!==e)&&("undefined"==typeof t&&(t=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=e,y.updateRealIndex(),y.rtl&&-n===y.translate||!y.rtl&&n===y.translate?(y.params.autoHeight&&y.updateAutoHeight(),y.updateClasses(),"slide"!==y.params.effect&&y.setWrapperTranslate(n),!1):(y.updateClasses(),y.onTransitionStart(a),0===t||y.browser.lteIE9?(y.setWrapperTranslate(n),y.setWrapperTransition(0),y.onTransitionEnd(a)):(y.setWrapperTranslate(n),y.setWrapperTransition(t),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(a)}))),!0)))},y.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),y.params.autoHeight&&y.updateAutoHeight(),y.lazy&&y.lazy.onTransitionStart(),e&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(e){y.animating=!1,y.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),y.lazy&&y.lazy.onTransitionEnd(),e&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.history&&y.history&&y.history.setHistory(y.params.history,y.activeIndex),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(e,t,a){if(y.params.loop){if(y.animating)return!1;y.fixLoop();y.container[0].clientLeft;return y.slideTo(y.activeIndex+y.params.slidesPerGroup,t,e,a)}return y.slideTo(y.activeIndex+y.params.slidesPerGroup,t,e,a)},y._slideNext=function(e){return y.slideNext(!0,e,!0)},y.slidePrev=function(e,t,a){if(y.params.loop){if(y.animating)return!1;y.fixLoop();y.container[0].clientLeft;return y.slideTo(y.activeIndex-1,t,e,a)}return y.slideTo(y.activeIndex-1,t,e,a)},y._slidePrev=function(e){return y.slidePrev(!0,e,!0)},y.slideReset=function(e,t,a){return y.slideTo(y.activeIndex,t,e)},y.disableTouchControl=function(){return y.params.onlyExternal=!0,!0},y.enableTouchControl=function(){return y.params.onlyExternal=!1,!0},y.setWrapperTransition=function(e,t){y.wrapper.transition(e),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(e),y.params.parallax&&y.parallax&&y.parallax.setTransition(e),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(e),y.params.control&&y.controller&&y.controller.setTransition(e,t),y.emit("onSetTransition",y,e)},y.setWrapperTranslate=function(e,t,a){var i=0,n=0,o=0;y.isHorizontal()?i=y.rtl?-e:e:n=e,y.params.roundLengths&&(i=r(i),n=r(n)),y.params.virtualTranslate||(y.support.transforms3d?y.wrapper.transform("translate3d("+i+"px, "+n+"px, "+o+"px)"):y.wrapper.transform("translate("+i+"px, "+n+"px)")),y.translate=y.isHorizontal()?i:n;var s,l=y.maxTranslate()-y.minTranslate();s=0===l?0:(e-y.minTranslate())/l,s!==y.progress&&y.updateProgress(e),t&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,a),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(e,t){var a,i,n,r;return"undefined"==typeof t&&(t="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=n.transform||n.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===i?"":i)):(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?r.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=window.WebKitCSSMatrix?r.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),y.rtl&&i&&(i=-i),i||0)},y.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=y.isHorizontal()?"x":"y"),y.getTranslate(y.wrapper[0],e)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var e=y.container.parents(),t=0;t<e.length;t++)l(e[t]);l(y.container[0],{childList:!1}),l(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var e=0;e<y.observers.length;e++)y.observers[e].disconnect();y.observers=[]},y.createLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove();var e=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=e.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>e.length&&(y.loopedSlides=e.length);var a,i=[],n=[];for(e.each(function(a,r){var o=t(this);a<y.loopedSlides&&n.push(r),a<e.length&&a>=e.length-y.loopedSlides&&i.push(r),o.attr("data-swiper-slide-index",a)}),a=0;a<n.length;a++)y.wrapper.append(t(n[a].cloneNode(!0)).addClass(y.params.slideDuplicateClass));for(a=i.length-1;a>=0;a--)y.wrapper.prepend(t(i[a].cloneNode(!0)).addClass(y.params.slideDuplicateClass))},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.reLoop=function(e){var t=y.activeIndex-y.loopedSlides;y.destroyLoop(),y.createLoop(),y.updateSlidesSize(),e&&y.slideTo(t+y.loopedSlides,0,!1)},y.fixLoop=function(){var e;y.activeIndex<y.loopedSlides?(e=y.slides.length-3*y.loopedSlides+y.activeIndex,e+=y.loopedSlides,y.slideTo(e,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(e=-y.slides.length+y.activeIndex+y.loopedSlides,e+=y.loopedSlides,y.slideTo(e,0,!1,!0))},y.appendSlide=function(e){if(y.params.loop&&y.destroyLoop(),"object"===("undefined"==typeof e?"undefined":a(e))&&e.length)for(var t=0;t<e.length;t++)e[t]&&y.wrapper.append(e[t]);else y.wrapper.append(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(e){y.params.loop&&y.destroyLoop();var t=y.activeIndex+1;if("object"===("undefined"==typeof e?"undefined":a(e))&&e.length){for(var i=0;i<e.length;i++)e[i]&&y.wrapper.prepend(e[i]);t=y.activeIndex+e.length}else y.wrapper.prepend(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(t,0,!1)},y.removeSlide=function(e){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var t,i=y.activeIndex;if("object"===("undefined"==typeof e?"undefined":a(e))&&e.length){for(var n=0;n<e.length;n++)t=e[n],y.slides[t]&&y.slides.eq(t).remove(),t<i&&i--;i=Math.max(i,0)}else t=e,y.slides[t]&&y.slides.eq(t).remove(),t<i&&i--,i=Math.max(i,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(i+y.loopedSlides,0,!1):y.slideTo(i,0,!1)},y.removeAllSlides=function(){for(var e=[],t=0;t<y.slides.length;t++)e.push(t);y.removeSlide(e)},y.effects={fade:{setTranslate:function(){for(var e=0;e<y.slides.length;e++){var t=y.slides.eq(e),a=t[0].swiperSlideOffset,i=-a;y.params.virtualTranslate||(i-=y.translate);var n=0;y.isHorizontal()||(n=i,i=0);var r=y.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:r}).transform("translate3d("+i+"px, "+n+"px, 0px)")}},setTransition:function(e){if(y.slides.transition(e),y.params.virtualTranslate&&0!==e){var t=!1;y.slides.transitionEnd(function(){if(!t&&y){t=!0,y.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<e.length;a++)y.wrapper.trigger(e[a])}})}}},flip:{setTranslate:function(){for(var e=0;e<y.slides.length;e++){var a=y.slides.eq(e),i=a[0].progress;y.params.flip.limitRotation&&(i=Math.max(Math.min(a[0].progress,1),-1));var n=a[0].swiperSlideOffset,r=-180*i,o=r,s=0,l=-n,c=0;if(y.isHorizontal()?y.rtl&&(o=-o):(c=l,l=0,s=-o,o=0),a[0].style.zIndex=-Math.abs(Math.round(i))+y.slides.length,y.params.flip.slideShadows){var d=y.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),p=y.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),a.append(d)),0===p.length&&(p=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),a.append(p)),d.length&&(d[0].style.opacity=Math.max(-i,0)),p.length&&(p[0].style.opacity=Math.max(i,0))}a.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+s+"deg) rotateY("+o+"deg)")}},setTransition:function(e){if(y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),y.params.virtualTranslate&&0!==e){var a=!1;y.slides.eq(y.activeIndex).transitionEnd(function(){if(!a&&y&&t(this).hasClass(y.params.slideActiveClass)){a=!0,y.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)y.wrapper.trigger(e[i])}})}}},cube:{
setTranslate:function(){var e,a=0;y.params.cube.shadow&&(y.isHorizontal()?(e=y.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(e)),e.css({height:y.width+"px"})):(e=y.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),y.container.append(e))));for(var i=0;i<y.slides.length;i++){var n=y.slides.eq(i),r=90*i,o=Math.floor(r/360);y.rtl&&(r=-r,o=Math.floor(-r/360));var s=Math.max(Math.min(n[0].progress,1),-1),l=0,c=0,d=0;i%4===0?(l=4*-o*y.size,d=0):(i-1)%4===0?(l=0,d=4*-o*y.size):(i-2)%4===0?(l=y.size+4*o*y.size,d=y.size):(i-3)%4===0&&(l=-y.size,d=3*y.size+4*y.size*o),y.rtl&&(l=-l),y.isHorizontal()||(c=l,l=0);var p="rotateX("+(y.isHorizontal()?0:-r)+"deg) rotateY("+(y.isHorizontal()?r:0)+"deg) translate3d("+l+"px, "+c+"px, "+d+"px)";if(s<=1&&s>-1&&(a=90*i+90*s,y.rtl&&(a=90*-i-90*s)),n.transform(p),y.params.cube.slideShadows){var u=y.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),f=y.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),n.append(u)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),n.append(f)),u.length&&(u[0].style.opacity=Math.max(-s,0)),f.length&&(f[0].style.opacity=Math.max(s,0))}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(y.isHorizontal())e.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var h=Math.abs(a)-90*Math.floor(Math.abs(a)/90),m=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),v=y.params.cube.shadowScale,g=y.params.cube.shadowScale/m,b=y.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+g+") translate3d(0px, "+(y.height/2+b)+"px, "+-y.height/2/g+"px) rotateX(-90deg)")}var w=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(y.isHorizontal()?0:a)+"deg) rotateY("+(y.isHorizontal()?-a:0)+"deg)")},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),y.params.cube.shadow&&!y.isHorizontal()&&y.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=y.translate,a=y.isHorizontal()?-e+y.width/2:-e+y.height/2,i=y.isHorizontal()?y.params.coverflow.rotate:-y.params.coverflow.rotate,n=y.params.coverflow.depth,r=0,o=y.slides.length;r<o;r++){var s=y.slides.eq(r),l=y.slidesSizesGrid[r],c=s[0].swiperSlideOffset,d=(a-c-l/2)/l*y.params.coverflow.modifier,p=y.isHorizontal()?i*d:0,u=y.isHorizontal()?0:i*d,f=-n*Math.abs(d),h=y.isHorizontal()?0:y.params.coverflow.stretch*d,m=y.isHorizontal()?y.params.coverflow.stretch*d:0;Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0);var v="translate3d("+m+"px,"+h+"px,"+f+"px)  rotateX("+u+"deg) rotateY("+p+"deg)";if(s.transform(v),s[0].style.zIndex=-Math.abs(Math.round(d))+1,y.params.coverflow.slideShadows){var g=y.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),b=y.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===g.length&&(g=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),s.append(g)),0===b.length&&(b=t('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),s.append(b)),g.length&&(g[0].style.opacity=d>0?d:0),b.length&&(b[0].style.opacity=-d>0?-d:0)}}if(y.browser.ie){var w=y.wrapper[0].style;w.perspectiveOrigin=a+"px 50%"}},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,a){if("undefined"!=typeof e&&("undefined"==typeof a&&(a=!0),0!==y.slides.length)){var i=y.slides.eq(e),n=i.find("."+y.params.lazyLoadingClass+":not(."+y.params.lazyStatusLoadedClass+"):not(."+y.params.lazyStatusLoadingClass+")");!i.hasClass(y.params.lazyLoadingClass)||i.hasClass(y.params.lazyStatusLoadedClass)||i.hasClass(y.params.lazyStatusLoadingClass)||(n=n.add(i[0])),0!==n.length&&n.each(function(){var e=t(this);e.addClass(y.params.lazyStatusLoadingClass);var n=e.attr("data-background"),r=e.attr("data-src"),o=e.attr("data-srcset"),s=e.attr("data-sizes");y.loadImage(e[0],r||n,o,s,!1,function(){if(n?(e.css("background-image",'url("'+n+'")'),e.removeAttr("data-background")):(o&&(e.attr("srcset",o),e.removeAttr("data-srcset")),s&&(e.attr("sizes",s),e.removeAttr("data-sizes")),r&&(e.attr("src",r),e.removeAttr("data-src"))),e.addClass(y.params.lazyStatusLoadedClass).removeClass(y.params.lazyStatusLoadingClass),i.find("."+y.params.lazyPreloaderClass+", ."+y.params.preloaderClass).remove(),y.params.loop&&a){var t=i.attr("data-swiper-slide-index");if(i.hasClass(y.params.slideDuplicateClass)){var l=y.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(l.index(),!1)}else{var c=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');y.lazy.loadImageInSlide(c.index(),!1)}}y.emit("onLazyImageReady",y,i[0],e[0])}),y.emit("onLazyImageLoad",y,i[0],e[0])})}},load:function(){var e,a=y.params.slidesPerView;if("auto"===a&&(a=0),y.lazy.initialImageLoaded||(y.lazy.initialImageLoaded=!0),y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(t(this).index())});else if(a>1)for(e=y.activeIndex;e<y.activeIndex+a;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(a>1||y.params.lazyLoadingInPrevNextAmount&&y.params.lazyLoadingInPrevNextAmount>1){var i=y.params.lazyLoadingInPrevNextAmount,n=a,r=Math.min(y.activeIndex+n+Math.max(i,n),y.slides.length),o=Math.max(y.activeIndex-Math.max(n,i),0);for(e=y.activeIndex+a;e<r;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);for(e=o;e<y.activeIndex;e++)y.slides[e]&&y.lazy.loadImageInSlide(e)}else{var s=y.wrapper.children("."+y.params.slideNextClass);s.length>0&&y.lazy.loadImageInSlide(s.index());var l=y.wrapper.children("."+y.params.slidePrevClass);l.length>0&&y.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(e){var t=y.scrollbar,a=y.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=a-t.track.offset()[y.isHorizontal()?"left":"top"]-t.dragSize/2,n=-y.minTranslate()*t.moveDivider,r=-y.maxTranslate()*t.moveDivider;i<n?i=n:i>r&&(i=r),i=-i/t.moveDivider,y.updateProgress(i),y.setWrapperTranslate(i,!0)},dragStart:function(e){var t=y.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),y.params.scrollbarHide&&t.track.css("opacity",1),y.wrapper.transition(100),t.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(e){var t=y.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),y.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(e){var t=y.scrollbar;t.isTouched&&(t.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},draggableEvents:function(){return y.params.simulateTouch!==!1||y.support.touch?y.touchEvents:y.touchEventsDesktop}(),enableDraggable:function(){var e=y.scrollbar,a=y.support.touch?e.track:document;t(e.track).on(e.draggableEvents.start,e.dragStart),t(a).on(e.draggableEvents.move,e.dragMove),t(a).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=y.scrollbar,a=y.support.touch?e.track:document;t(e.track).off(e.draggableEvents.start,e.dragStart),t(a).off(e.draggableEvents.move,e.dragMove),t(a).off(e.draggableEvents.end,e.dragEnd)},set:function(){if(y.params.scrollbar){var e=y.scrollbar;e.track=t(y.params.scrollbar),y.params.uniqueNavElements&&"string"==typeof y.params.scrollbar&&e.track.length>1&&1===y.container.find(y.params.scrollbar).length&&(e.track=y.container.find(y.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=y.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=y.size/y.virtualSize,e.moveDivider=e.divider*(e.trackSize/y.size),e.dragSize=e.trackSize*e.divider,y.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",y.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var e,t=y.scrollbar,a=(y.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*y.progress,y.rtl&&y.isHorizontal()?(e=-e,e>0?(a=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(a=t.trackSize+e)):e<0?(a=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(a=t.trackSize-e),y.isHorizontal()?(y.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=a+"px"):(y.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=a+"px"),y.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){y.params.scrollbar&&y.scrollbar.drag.transition(e)}},y.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var a,i;this.x.length;this.interpolate=function(e){return e?(i=n(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0};var n=function(){var e,t,a;return function(i,n){for(t=-1,e=i.length;e-t>1;)i[a=e+t>>1]<=n?t=a:e=a;return e}}()},getInterpolateFunction:function(e){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,e.slidesGrid):new y.controller.LinearSpline(y.snapGrid,e.snapGrid))},setTranslate:function(e,t){function a(t){e=t.rtl&&"horizontal"===t.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(t),n=-y.controller.spline.interpolate(-e)),n&&"container"!==y.params.controlBy||(i=(t.maxTranslate()-t.minTranslate())/(y.maxTranslate()-y.minTranslate()),n=(e-y.minTranslate())*i+t.minTranslate()),y.params.controlInverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setWrapperTranslate(n,!1,y),t.updateActiveIndex()}var i,n,r=y.params.control;if(y.isArray(r))for(var o=0;o<r.length;o++)r[o]!==t&&r[o]instanceof Swiper&&a(r[o]);else r instanceof Swiper&&t!==r&&a(r)},setTransition:function(e,t){function a(t){t.setWrapperTransition(e,y),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){n&&(t.params.loop&&"slide"===y.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var i,n=y.params.control;if(y.isArray(n))for(i=0;i<n.length;i++)n[i]!==t&&n[i]instanceof Swiper&&a(n[i]);else n instanceof Swiper&&t!==n&&a(n)}},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,y.progress)}),y.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);c(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=t(this),i=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),a.transition(i)})}},y.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:y.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,n=e.targetTouches[1].pageY,r=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-a,2));return r},onGestureStart:function(e){var a=y.zoom;if(!y.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;a.gesture.scaleStart=a.getDistanceBetweenTouches(e)}return a.gesture.slide&&a.gesture.slide.length||(a.gesture.slide=t(this),0===a.gesture.slide.length&&(a.gesture.slide=y.slides.eq(y.activeIndex)),a.gesture.image=a.gesture.slide.find("img, svg, canvas"),a.gesture.imageWrap=a.gesture.image.parent("."+y.params.zoomContainerClass),a.gesture.zoomMax=a.gesture.imageWrap.attr("data-swiper-zoom")||y.params.zoomMax,0!==a.gesture.imageWrap.length)?(a.gesture.image.transition(0),void(a.isScaling=!0)):void(a.gesture.image=void 0)},onGestureChange:function(e){var t=y.zoom;if(!y.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(y.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<y.params.zoomMin&&(t.scale=y.params.zoomMin+1-Math.pow(y.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=y.zoom;!y.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),y.params.zoomMin),t.gesture.image.transition(y.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var a=e.zoom;a.gesture.image&&0!==a.gesture.image.length&&(a.image.isTouched||("android"===e.device.os&&t.preventDefault(),a.image.isTouched=!0,a.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,a.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=y.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(y.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=y.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=y.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),y.rtl&&(t.image.startX=-t.image.startX),y.rtl&&(t.image.startY=-t.image.startY));var a=t.image.width*t.scale,i=t.image.height*t.scale;if(!(a<t.gesture.slideWidth&&i<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-a/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-i/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(y.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!y.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var a=e.zoom;if(a.gesture.image&&0!==a.gesture.image.length){if(!a.image.isTouched||!a.image.isMoved)return a.image.isTouched=!1,void(a.image.isMoved=!1);a.image.isTouched=!1,a.image.isMoved=!1;var i=300,n=300,r=a.velocity.x*i,o=a.image.currentX+r,s=a.velocity.y*n,l=a.image.currentY+s;0!==a.velocity.x&&(i=Math.abs((o-a.image.currentX)/a.velocity.x)),0!==a.velocity.y&&(n=Math.abs((l-a.image.currentY)/a.velocity.y));var c=Math.max(i,n);a.image.currentX=o,a.image.currentY=l;var d=a.image.width*a.scale,p=a.image.height*a.scale;a.image.minX=Math.min(a.gesture.slideWidth/2-d/2,0),a.image.maxX=-a.image.minX,a.image.minY=Math.min(a.gesture.slideHeight/2-p/2,0),a.image.maxY=-a.image.minY,a.image.currentX=Math.max(Math.min(a.image.currentX,a.image.maxX),a.image.minX),a.image.currentY=Math.max(Math.min(a.image.currentY,a.image.maxY),a.image.minY),a.gesture.imageWrap.transition(c).transform("translate3d("+a.image.currentX+"px, "+a.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(e,a){var i=e.zoom;if(i.gesture.slide||(i.gesture.slide=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),i.gesture.image=i.gesture.slide.find("img, svg, canvas"),i.gesture.imageWrap=i.gesture.image.parent("."+e.params.zoomContainerClass)),i.gesture.image&&0!==i.gesture.image.length){var n,r,o,s,l,c,d,p,u,f,h,m,v,g,y,b,w,_;"undefined"==typeof i.image.touchesStart.x&&a?(n="touchend"===a.type?a.changedTouches[0].pageX:a.pageX,r="touchend"===a.type?a.changedTouches[0].pageY:a.pageY):(n=i.image.touchesStart.x,r=i.image.touchesStart.y),i.scale&&1!==i.scale?(i.scale=i.currentScale=1,i.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),i.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),i.gesture.slide=void 0):(i.scale=i.currentScale=i.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,a?(w=i.gesture.slide[0].offsetWidth,_=i.gesture.slide[0].offsetHeight,o=i.gesture.slide.offset().left,s=i.gesture.slide.offset().top,l=o+w/2-n,c=s+_/2-r,u=i.gesture.image[0].offsetWidth,f=i.gesture.image[0].offsetHeight,h=u*i.scale,m=f*i.scale,v=Math.min(w/2-h/2,0),g=Math.min(_/2-m/2,0),y=-v,b=-g,d=l*i.scale,p=c*i.scale,d<v&&(d=v),d>y&&(d=y),p<g&&(p=g),p>b&&(p=b)):(d=0,p=0),i.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+p+"px,0)"),i.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+i.scale+")"))}},attachEvents:function(e){var a=e?"off":"on";if(y.params.zoom){var i=(y.slides,!("touchstart"!==y.touchEvents.start||!y.support.passiveListener||!y.params.passiveListeners)&&{passive:!0,capture:!1});y.support.gestures?(y.slides[a]("gesturestart",y.zoom.onGestureStart,i),y.slides[a]("gesturechange",y.zoom.onGestureChange,i),y.slides[a]("gestureend",y.zoom.onGestureEnd,i)):"touchstart"===y.touchEvents.start&&(y.slides[a](y.touchEvents.start,y.zoom.onGestureStart,i),y.slides[a](y.touchEvents.move,y.zoom.onGestureChange,i),y.slides[a](y.touchEvents.end,y.zoom.onGestureEnd,i)),y[a]("touchStart",y.zoom.onTouchStart),y.slides.each(function(e,i){t(i).find("."+y.params.zoomContainerClass).length>0&&t(i)[a](y.touchEvents.move,y.zoom.onTouchMove)}),y[a]("touchEnd",y.zoom.onTouchEnd),y[a]("transitionEnd",y.zoom.onTransitionEnd),y.params.zoomToggle&&y.on("doubleTap",y.zoom.toggleZoom)}},init:function(){y.zoom.attachEvents()},destroy:function(){y.zoom.attachEvents(!0)}},y._plugins=[];for(var A in y.plugins){var N=y.plugins[A](y,y.params[A]);N&&y._plugins.push(N)}return y.callPlugins=function(e){for(var t=0;t<y._plugins.length;t++)e in y._plugins[t]&&y._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(e){y.params[e]&&y.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(y.emitterEventListeners[e])for(t=0;t<y.emitterEventListeners[e].length;t++)y.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(e,t){return e=d(e),y.emitterEventListeners[e]||(y.emitterEventListeners[e]=[]),y.emitterEventListeners[e].push(t),y},y.off=function(e,t){var a;if(e=d(e),"undefined"==typeof t)return y.emitterEventListeners[e]=[],y;if(y.emitterEventListeners[e]&&0!==y.emitterEventListeners[e].length){for(a=0;a<y.emitterEventListeners[e].length;a++)y.emitterEventListeners[e][a]===t&&y.emitterEventListeners[e].splice(a,1);return y}},y.once=function(e,t){e=d(e);var a=function a(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(e,a)};return y.on(e,a),y},y.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(y.params.nextButton)?(y.onClickNext(e),y.isEnd?y.a11y.notify(y.params.lastSlideMessage):y.a11y.notify(y.params.nextSlideMessage)):t(e.target).is(y.params.prevButton)&&(y.onClickPrev(e),y.isBeginning?y.a11y.notify(y.params.firstSlideMessage):y.a11y.notify(y.params.prevSlideMessage)),t(e.target).is("."+y.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="'+y.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=y.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){y.params.nextButton&&y.nextButton&&y.nextButton.length>0&&(y.a11y.makeFocusable(y.nextButton),y.a11y.addRole(y.nextButton,"button"),y.a11y.addLabel(y.nextButton,y.params.nextSlideMessage)),y.params.prevButton&&y.prevButton&&y.prevButton.length>0&&(y.a11y.makeFocusable(y.prevButton),y.a11y.addRole(y.prevButton,"button"),y.a11y.addLabel(y.prevButton,y.params.prevSlideMessage)),t(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var e=t(this);y.a11y.makeFocusable(e),y.a11y.addRole(e,"button"),y.a11y.addLabel(e,y.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){y.a11y.liveRegion&&y.a11y.liveRegion.length>0&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.zoom&&y.zoom&&y.zoom.init(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnavReplaceState&&(y.params.replaceState=y.params.hashnavReplaceState),y.params.history&&y.history&&y.history.init(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&t(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&t(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(e,t){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),t&&y.cleanupStyles(),y.disconnectObservers(),y.params.zoom&&y.zoom&&y.zoom.destroy(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.params.history&&!y.params.replaceState&&window.removeEventListener("popstate",y.history.setHistoryPopState),y.params.hashnav&&y.hashnav&&y.hashnav.destroy(),y.emit("onDestroy"),e!==!1&&(y=null)},y.init(),y}},Swiper.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!a&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:a||n||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a++)if(t[a]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}}}()},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports="<li> <div class=content-block-title>{{title}} <span id=calculate-value{{_id}}></span></div> </li>"},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} </span><span class=item-value>{{value}}</span> </div>"},function(e,t){e.exports='<div class="popup contact"> <div class=navbar style=position:absolute> <div class=left id=contact-cancel{{identifier}}>取消</div> <div class=center><div class=title>选择人员</div></div> </div> <div class="pages navbar-through toolbar-through"> <div class=page> <div class=page-content> <div class="searchbar searchbar-init"> <div class=searchbar-input> <input type=search id=contact-search-input{{identifier}}> <a href=# class="searchbar-clear searchbar-clear{{identifier}}"></a> </div> <a class=searchbar-cancel id=searchbar-cancel{{identifier}}>取消</a> <div class="search-tips search-tips{{identifier}}"> <span id=search-tip-content{{identifier}}><i class="iconfont icon-sousuowujieguo"></i> 搜索姓名/拼音</span> </div> </div> <div class="org-tree org-tree{{identifier}}"></div> <div class="contact-search-result contact-search-result{{identifier}}"></div> </div> <div class="toolbar launch-toolbar contact-toolbar"> <div class=selected-name id=selected-name{{identifier}}></div> <div class=selected-btn id=selected-finish{{identifier}}><span id=selected-num{{identifier}}></span> 确定</div> </div> </div> </div> </div>'},function(e,t){e.exports='<div class=tree-container> <div class=root-element data-id={{id}}> <div class=tree-item data-id={{id}}> <div class="tree-select tree-select-org tree-select-org{{identifier}}" data-orgid={{id}} id=select-org{{id}}></div> <div class=tree-title data-id={{id}}>{{name}}<span class=tree-count data-id={{id}}>({{allEmployeeCount}}人)</span></div> </div> </div> <div class="tree-extend active" data-id={{id}} id=tree-extend{{id}}><i class="iconfont icon-jiantou-huise" data-id={{id}}></i></div> <div id=tree-children{{id}}></div> </div> ';
},function(e,t){e.exports='<div class=tree-child> {{#each employees}} <div class="tree-container tree-select-employee" data-id={{id}}{{../id}}> <div class=tree-item data-id={{id}}{{../id}}> <div class=tree-select data-id={{id}}{{../id}} id=select-employee{{id}}{{../id}}></div> <div class=tree-title data-id={{id}}{{../id}}>{{displayName}}</div> </div> </div> {{/each}} {{#each children}} <div class="tree-container children-element" data-id={{id}}> <div class=tree-item> <div class="tree-select tree-select-org tree-select-org{{identifier}}" data-orgid={{id}} id=select-org{{id}}></div> <div class=tree-title data-id={{id}}>{{displayName}}<span class=tree-count data-id={{id}}>({{allEmployeeCount}}人)</span></div> </div> <div class="tree-extend children-tree-extend" id=tree-extend{{id}} data-id={{id}}> <i class="iconfont icon-jiantou-huise" data-id={{id}}></i> </div> <div id=tree-children{{id}}></div> </div> {{/each}} </div>'},function(e,t){e.exports='<div class=flow-list-empty> <div class=empty-icon> <i class="iconfont icon-sousuowujieguo"></i> </div> <div class=empty-tip>搜索无结果</div> </div>'},function(e,t){e.exports='{{#each this}} <div class="query-result-item query-result-item{{id}}"> {{#js_compare "this.positions.length > 0 && this.positions[0].type === \'CORP\'"}} <div class=item-name>{{displayName}} - {{positions[0].orgName}} - {{rootOrg.name}}</div> {{/js_compare}} {{#js_compare "this.positions.length > 0 && this.positions[0].type === \'DEPT\'"}} <div class=item-name>{{displayName}} - {{positions[0].orgName}} - {{rootOrg.name}}</div> {{/js_compare}} {{#js_compare "this.positions.length > 0 && this.positions[0].type === \'ORG\'"}} <div class=item-name>{{displayName}} - {{rootOrg.name}}</div> {{/js_compare}} {{#js_compare "this.positions.length == 0"}} <div class=item-name>{{displayName}} - {{rootOrg.name}}</div> {{/js_compare}} {{#js_compare "!this.selected"}} <div class="item-icon item-icon-add item-icon-add{{id}}" data-id={{id}}> <i class="iconfont icon-tianjia-lanse" data-id={{id}}></i> </div> {{/js_compare}} {{#js_compare "this.selected"}} <div class="item-icon item-icon-delete item-icon-delete{{id}}" data-id={{id}}> <i class="iconfont icon-guanbi-xiao" data-id={{id}}></i> </div> {{/js_compare}} </div> {{/each}}'},function(e,t){e.exports="<li> <div class=content-block-title>{{title}}: <span id=database-value{{_id}}>{{value}}</span></div> </li>"},function(e,t){e.exports='<div class=flow-detail-item> {{#js_compare "this.urlValue"}} <span class=item-label>{{title}} : </span><a id=database-view-detail{{_id}}><span class=item-value>{{value}}</span></a> {{/js_compare}} {{#js_compare "!this.urlValue"}} <span class=item-label>{{title}} : </span><span class=item-value>{{value}}</span> {{/js_compare}} </div>'},function(e,t){e.exports='<li> <a href=# class="item-link item-content"> <div class=item-inner id=date{{_id}}> <div class="item-title label">{{title}}</div> {{#js_compare "this.value"}} <div class="item-after active" id=date-value-{{_id}}>{{value}}</div> {{/js_compare}} {{#js_compare "!this.value"}} <div class=item-after id=date-value-{{_id}}>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> {{/js_compare}} </div> </a> </li>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span><span class=item-value>{{value}}</span> </div>"},function(e,t){e.exports='<li> <a href=# class="item-link item-content" id=date-range-start{{_id}}> <div class=item-inner> <div class="item-title label">{{start.title}}</div> {{#js_compare "this.value && this.value.from"}} <div class="item-after active" id=date-range-start-value{{_id}}>{{this.value.from}}</div> {{/js_compare}} {{#js_compare "!this.value || !this.value.from"}} <div class=item-after id=date-range-start-value{{_id}}>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> {{/js_compare}} </div> </a> <a href=# class="item-link item-content" id=date-range-end{{_id}}> <div class=item-inner> <div class="item-title label">{{end.title}}</div> {{#js_compare "this.value && this.value.to"}} <div class="item-after active" id=date-range-end-value{{_id}}>{{this.value.to}}</div> {{/js_compare}} {{#js_compare "!this.value || !this.value.to"}} <div class=item-after id=date-range-end-value{{_id}}>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> {{/js_compare}} </div> </a> </li>'},function(e,t){e.exports='<div class=flow-detail-item> <span class=item-label>{{start.title}} : </span><span class=item-value>{{#js_compare "this.value && this.value.from"}}{{value.from}}{{/js_compare}}</span><br> <span class=item-label>{{end.title}} : </span><span class=item-value>{{#js_compare "this.value && this.value.to"}}{{value.to}}{{/js_compare}}</span> </div>'},function(e,t){e.exports="<li> <div class=content-block-title>{{displayTips}}</div> </li>"},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{displayTips}}</span> </div>"},function(e,t){e.exports='{{#js_compare "this.value && this.value.length > 0"}} <li> <a href=# class="item-link item-content hide" id=file{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after> <i class="iconfont icon-fujian"></i> </div> </div> </a> <div class="image-component show" id=file-list{{_id}} style=padding-bottom:10px> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=file-plus{{_id}}></i> </div> <ul style=padding-left:0;padding-bottom:0;margin-top:10px class=file-list id=file-list-result{{_id}}> {{#each this.value}} <li class=swipeout style=margin-top:0;margin-bottom:0 data-id={{mediaId}} id=swipeout{{id}}> <div class=swipeout-content> <div class=file-block> <div class="list-block file-detail" style=margin-left:0> <i class="iconfont fujian"></i> <div class=file-name>{{name}}</div> <div class=file-size>{{size}}</div> </div> </div> </div> <div class=swipeout-actions-right> <a href=# class=swipeout-delete>删除</a> </div> </li> {{/each}} </ul> </div> </li> {{/js_compare}} {{#js_compare "!this.value || this.value.length == 0"}} <li> <a href=# class="item-link item-content show" id=file{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after> <i class="iconfont icon-fujian"></i> </div> </div> </a> <div class="image-component hide" id=file-list{{_id}} style=padding-bottom:10px> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=file-plus{{_id}}></i> </div> <ul style=padding-left:0;padding-bottom:0;margin-top:10px class=file-list id=file-list-result{{_id}}> </ul> </div> </li> {{/js_compare}} '},function(e,t){e.exports='<div class=flow-detail-item> <span class=item-label>{{title}} : </span> <div class=file-block> {{#each value}} <div class="list-block file-detail" id=file-detail-item{{id}}> <i class="iconfont fujian"></i> <div class=fujian-border></div> <div class=file-name>{{name}}</div> <div class=file-size>{{size}}</div> <div class=file-download data-id={{mediaId}} id=file-detail-item-download{{id}}> 下载 </div> </div> {{/each}} </div> </div>'},function(e,t){e.exports='<div class=grids style="display:-webkit-flex;display:-moz-flex;display:-ms-flex;display:-o-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-flow:row wrap;-moz-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap"> {{#each this}} <div class=grid-item data-id={{id}}> <div class=icon-inner data-id={{id}}> <img class=icon src={{icon}} data-id={{id}} /> </div> <div class=title data-id={{id}}>{{name}}</div> </div> {{/each}} </div>'},function(e,t){e.exports="{{#each this}} <div class=image-item id=image-item{{id}} data-id={{mediaId}}> <img src={{src}} data-id={{mediaId}}> <div class=image-delete data-id={{mediaId}} id=image-shangchu{{id}}></div> </div> {{/each}}"},function(e,t){e.exports='{{#js_compare "this.value && this.value.length > 0"}} <li> <a href=# class="item-link item-content hide" id=image{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after> <i class="iconfont icon-tupian"></i> </div> </div> </a> <a href=# class="item-link image-component show" id=image-list{{_id}}> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=image-plus{{_id}}></i> </div> <div class=image-list id=image-list-result{{_id}}> {{#each this.value}} <div class=image-item id=image-item{{id}} data-id={{mediaId}}> <img src={{src}} data-id={{mediaId}}> <div class=image-delete data-id={{mediaId}} id=image-shangchu{{id}}></div> </div> {{/each}} </div> </a> </li> {{/js_compare}} {{#js_compare "!this.value || this.value.length == 0"}} <li> <a href=# class="item-link item-content show" id=image{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after> <i class="iconfont icon-tupian"></i> </div> </div> </a> <a href=# class="item-link image-component hide" id=image-list{{_id}}> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=image-plus{{_id}}></i> </div> <div class=image-list id=image-list-result{{_id}}> </div> </a> </li> {{/js_compare}} '},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span> <div class=image-block> {{#each value}} <img src={{src}} width=60 height=60 class=image-detail{{id}} data-id={{mediaId}}> {{/each}} </div> </div>"},function(e,t){e.exports="<div class=loading-block> <div class=loading-container> <div class=loading-animation> <div class=spinner> <div class=double-bounce1></div> <div class=double-bounce2></div> </div> </div> <div class=loading-tips>{{alertInfo}}...</div> </div> </div>"},function(e,t){e.exports='<li> <a href=# class=item-link id=multi-selection{{_id}}> <div class="item-content item-content-selection"> <div class=item-inner> <div class="item-title label">{{title}}</div> {{#js_compare "this.value"}} <div class="item-after active selection-label" id=multi-selection-label{{_id}}>{{displayValue}}</div> {{/js_compare}} {{#js_compare "!this.value"}} <div class="item-after selection-label" id=multi-selection-label{{_id}}>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> {{/js_compare}} </div> </div> </a> </li>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span><span class=item-value>{{displayValue}}</span> </div>"},function(e,t){e.exports='<div class="picker-modal picker-info custom-picker-modal"> <div class=toolbar> <div class=toolbar-inner> <div class=left id=custom-picker-modal-cancel><a href=# class="close-picker cancel-remind">取消</a></div> <div class=center></div> <div class=right id=custom-picker-modal-finish><a href=# class="close-picker save-remind">完成</a></div> </div> </div> <div class="picker-modal-inner multi-selection-picker"> <div id=multi-selection-container> {{#each this}} <div class="multi-selection-item {{#if selected}}active{{/if}}" data-id={{_id}} data-text={{value}}> <div class=multi-selection-item-text> {{value}} </div> <div style=display:inline-block> <i class="iconfont icon-gouxuan"></i> </div> </div> {{/each}} </div> </div> </div>'},function(e,t){e.exports='{{#each this}} <div class=sub-process-block> <div class=sub-process-distribute-block> <div class=sub-process-distribute-title>{{title}}</div> <div class=sub-process-distribute-selection id=approver-name{{id}}>请选择</div> <div class="approver-buttons-row buttons-row"> {{#js_compare "this.users.length > 0"}} <a href=#tab-user{{id}} class="button tab-link">人员</a> {{/js_compare}} {{#js_compare "this.orgs.length > 0"}} <a href=#tab-org{{id}} class="button tab-link">部门</a> {{/js_compare}} {{#js_compare "this.roles.length > 0"}} <a href=#tab-role{{id}} class="button tab-link">角色</a> {{/js_compare}} </div> <div class="tabs approver-tabs"> {{#js_compare "this.users.length > 0"}} <div id=tab-user{{id}} class=tab> {{#each users}} <div class="tree-container tree-select-approver{{../id}}" data-id={{id}} data-value={{value}}> <div class=tree-item data-id={{id}} data-value={{value}}> <div class=tree-select id=select-approver{{id}}{{../id}} data-id={{id}} data-value={{value}}></div> <div class=tree-title data-id={{id}} data-value={{value}}>{{displayText}}</div> </div> </div> {{/each}} {{#js_compare "this.users.length == 0"}} <div class=approver-empty>暂无数据</div> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.orgs.length > 0"}} <div id=tab-org{{id}} class=tab> {{#each orgs}} <div class="tree-container tree-select-approver{{../id}}" data-id={{id}} data-value={{value}}> <div class=tree-item data-id={{id}} data-value={{value}}> <div class=tree-select id=select-approver{{id}}{{../id}} data-id={{id}} data-value={{value}}></div> <div class=tree-title data-id={{id}} data-value={{value}}>{{displayText}}</div> </div> </div> {{/each}} {{#js_compare "this.orgs.length == 0"}} <div class=approver-empty>暂无数据</div> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.roles.length > 0"}} <div id=tab-role{{id}} class=tab> {{#each roles}} <div class="tree-container tree-select-approver{{../id}}" data-id={{id}} data-value={{value}}> <div class=tree-item data-id={{id}} data-value={{value}}> <div class=tree-select id=select-approver{{id}}{{../id}} data-id={{id}} data-value={{value}}></div> <div class=tree-title data-id={{id}} data-value={{value}}>{{displayText}}</div> </div> </div> {{/each}} {{#js_compare "this.roles.length == 0"}} <div class=approver-empty>暂无数据</div> {{/js_compare}} </div> {{/js_compare}} </div> </div> </div> {{/each}}'},function(e,t){e.exports='{{#each this}} <div class=sub-process-block> <div class=sub-process-distribute-block> <div class=sub-process-distribute-title>{{title}}</div> <div class="sub-process-distribute-selection next-selection-item" data-id={{id}}>请选择</div> </div> </div> {{/each}}'},function(e,t){e.exports='<div class=tree-container style=padding-top:20px> <div class=root-element data-id={{id}}> <div class=tree-item data-id={{id}}> <div class="tree-select tree-select-org tree-select-org{{identifier}}" data-orgid={{id}} id=select-org{{id}}></div> <div class=tree-title data-id={{id}}>{{name}}</div> </div> </div> <div class="tree-extend active" data-id={{id}} id=tree-extend{{id}}><i class="iconfont icon-jiantou-huise" data-id={{id}}></i></div> <div id=tree-children{{id}}></div> </div> '},function(e,t){e.exports='<div class=tree-child> {{#each children}} <div class="tree-container children-element" data-id={{id}}> <div class=tree-item> <div class="tree-select tree-select-org tree-select-org{{identifier}}" data-orgid={{id}} id=select-org{{id}}></div> <div class=tree-title data-id={{id}}>{{name}}</div> </div> <div class="tree-extend children-tree-extend" id=tree-extend{{id}} data-id={{id}}> <i class="iconfont icon-jiantou-huise" data-id={{id}}></i> </div> <div id=tree-children{{id}}></div> </div> {{/each}} </div>'},function(e,t){e.exports='<div class="popup contact"> <div class=navbar style=position:absolute> <div class=left id=organization-cancel>取消</div> <div class=center><div class=title>选择机构</div></div> </div> <div class="pages navbar-through toolbar-through"> <div class=page> <div class=page-content> <div class="org-tree{{identifier}} organization-tree"></div> </div> <div class="toolbar launch-toolbar contact-toolbar"> <div class=selected-name id=selected-org-name></div> <div class=selected-btn id=selected-org-finish><span id=selected-org-num></span> 确定</div> </div> </div> </div> </div>'},function(e,t){e.exports='<div class="picker-modal picker-info custom-picker-modal"> <div class=toolbar> <div class=toolbar-inner> <div class=left id=custom-picker-modal-cancel><a href=# class="close-picker cancel-remind">取消</a></div> <div class=center></div> <div class=right id=custom-picker-modal-finish><a href=# class="close-picker save-remind">完成</a></div> </div> </div> <div class=picker-modal-inner> <div id=picker-date-container></div> </div> </div>'},function(e,t){e.exports='<div class=posistion> {{#js_compare "this.type === \'DEPT\'"}} <div class=jobtitle>{{job_title}}-{{org_name}}</div> <div class=corp-name>{{corp_name}}</div> {{/js_compare}} {{#js_compare "this.type === \'ORG\'"}} <div class=jobtitle>{{job_title}}</div> <div class=corp-name>{{org_name}}</div> {{/js_compare}} {{#js_compare "this.type === \'CORP\'"}} <div class=jobtitle>{{job_title}}</div> <div class=corp-name>{{org_name}}</div> {{/js_compare}} <div class=switch-icon><i class="iconfont icon-qiehuanzuzhi"></i></div> </div>'},function(e,t){e.exports='<div class="picker-modal remove-on-close position-picker"> <div class=picker-modal-inner> {{#each this}} <div class=posistion-item data-id={{org_id}}> {{#js_compare "this.type === \'DEPT\'"}} <div class="item-jobtitle {{#if selected}}active{{/if}}" data-id={{org_id}}>{{job_title}}-{{org_name}}</div> <div class="item-corp-name {{#if selected}}active{{/if}}" data-id={{org_id}}>{{corp_name}}</div> {{/js_compare}} {{#js_compare "this.type === \'ORG\'"}} <div class="item-jobtitle {{#if selected}}active{{/if}}" data-id={{org_id}}>{{job_title}}</div> <div class="item-corp-name {{#if selected}}active{{/if}}" data-id={{org_id}}>{{org_name}}</div> {{/js_compare}} {{#js_compare "this.type === \'CORP\'"}} <div class="item-jobtitle {{#if selected}}active{{/if}}" data-id={{org_id}}>{{job_title}}</div> <div class="item-corp-name {{#if selected}}active{{/if}}" data-id={{org_id}}>{{org_name}}</div> {{/js_compare}} </div> {{/each}} </div> </div>'},function(e,t,a){e.exports='{{#each this}} <div class="image-item employee-item" id=employee-item{{id}}> <div> {{#js_compare "this.src"}} <img src={{src}} width=40 height=40> {{/js_compare}} {{#js_compare "!this.src"}} <img src='+a(19)+" width=40 height=40> {{/js_compare}} <div class=image-delete id=employss-delete{{id}} data-id={{id}}></div> </div> <div class=employee-name>{{displayName}}</div> </div> {{/each}}"},function(e,t,a){e.exports='{{#js_compare "this.value && this.value.length > 0"}} <li> <a href=# class="item-link item-content hide" id=employee{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class="item-after selection-label">{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> </div> </a> <a href=# class="item-link image-component show" id=employee-list{{_id}}> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=employee-plus{{_id}}></i> </div> <div class=image-list id=employee-list-result{{_id}}> {{#each this.value}} <div class="image-item employee-item" id=employee-item{{id}}> <div> {{#js_compare "this.src"}} <img src={{src}} width=40 height=40> {{/js_compare}} {{#js_compare "!this.src"}} <img src='+a(19)+' width=40 height=40> {{/js_compare}} <div class=image-delete id=employss-delete{{id}} data-id={{id}}></div> </div> <div class=employee-name>{{name}}</div> </div> {{/each}} </div> </a> </li> {{/js_compare}} {{#js_compare "!this.value || this.value.length == 0"}} <li> <a href=# class="item-link item-content show" id=employee{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class="item-after selection-label">{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> </div> </a> <a href=# class="item-link image-component hide" id=employee-list{{_id}}> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=employee-plus{{_id}}></i> </div> <div class=image-list id=employee-list-result{{_id}}> </div> </a> </li> {{/js_compare}} '},function(e,t,a){e.exports='<div class=flow-detail-item> <span class=item-label>{{title}} : </span> <div class=image-list style=margin-top:10px> {{#each value}} <div class="image-item employee-item"> <div> {{#js_compare "this.src"}} <img src={{src}} width=60 height=60> {{/js_compare}} {{#js_compare "!this.src"}} <img src='+a(19)+" width=60 height=60> {{/js_compare}} </div> <div class=employee-name>{{name}}</div> </div> {{/each}} </div> </div>"},function(e,t){e.exports='{{#each this}} <li class=swipeout style=margin-top:0 data-id={{id}} id=org-swipeout{{id}}> <div class=swipeout-content> <div class=file-block> <div class="list-block file-detail" style=margin-left:0> <i class="iconfont icon-org"></i> <div class=fujian-border></div> <div class=org-name>{{name}}</div> </div> </div> </div> <div class=swipeout-actions-right> <a href=# class=swipeout-delete>删除</a> </div> </li> {{/each}}'},function(e,t){e.exports='{{#js_compare "this.value && this.value.length > 0"}} <li> <a href=# class="item-link item-content hide" id=select-org{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> </div> </a> <div class="image-component show" id=org-list{{_id}} style=padding-bottom:10px> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=org-plus{{_id}}></i> </div> <ul style=padding-left:0;padding-bottom:0;margin-top:10px class=file-list id=org-list-result{{_id}}> {{#each this.value}} <li class=swipeout style=margin-top:0 data-id={{id}} id=org-swipeout{{id}}> <div class=swipeout-content> <div class=file-block> <div class="list-block file-detail" style=margin-left:0> <i class="iconfont icon-org"></i> <div class=org-name>{{name}}</div> </div> </div> </div> <div class=swipeout-actions-right> <a href=# class=swipeout-delete>删除</a> </div> </li> {{/each}} </ul> </div> </li> {{/js_compare}} {{#js_compare "!this.value || this.value.length == 0"}} <li> <a href=# class="item-link item-content show" id=select-org{{_id}}> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-after>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> </div> </a> <div class="image-component hide" id=org-list{{_id}} style=padding-bottom:10px> <div class=image-title> {{title}} <i class="iconfont icon-tianjia-lanse" id=org-plus{{_id}}></i> </div> <ul style=padding-left:0;padding-bottom:0;margin-top:10px class=file-list id=org-list-result{{_id}}> </ul> </div> </li> {{/js_compare}}'},function(e,t){e.exports='<div class=flow-detail-item> <span class=item-label>{{title}} : </span> <div class=file-block> {{#each value}} <div class="list-block file-detail"> <i class="iconfont icon-org"></i> <div class=fujian-border></div> <div class=org-name>{{name}}</div> </div> {{/each}} </div> </div>'},function(e,t){e.exports='<li> {{#js_compare "this.subProcess"}} <div>触发子流程: {{subProcess.name}}</div> {{/js_compare}} <a href=# class=item-link id=selection{{_id}}> <div class="item-content item-content-selection"> <div class=item-inner> <div class="item-title label">{{title}}</div> {{#js_compare "this.value"}} <div class="item-after active selection-label" id=selection-label{{_id}}>{{value}}</div> {{/js_compare}} {{#js_compare "!this.value"}} <div class="item-after selection-label" id=selection-label{{_id}}>{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}</div> {{/js_compare}} </div> </div> </a> </li>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span><span class=item-value>{{value}}</span> </div>"},function(e,t){e.exports='<div class=popup> <div class=pages> <div class=page> <div class="page-content signature-page-content"> <div class=wrapper> <canvas id=signature-pad class=signature-pad> 当前手机版本不支持Canvas </canvas> </div> <div class=signature-tips>请工整输入签名...</div> <div class="signature-btn signature-cancel">取消</div> <div class="signature-btn signature-clear">清除</div> <div class="signature-btn signature-confirm">确认</div> </div> </div> </div> </div>'},function(e,t){e.exports='<div class=sub-form-container id=sub-form-container{{_id}}></div> <div class=sub-form-btn id=sub-form-btn{{_id}}> <span class=btn-detail><i class="iconfont icon-tianjia-lanse"></i>添加{{title}}</span> </div>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} ({{index}})</span> </div> "},function(e,t){e.exports='<div class=sub-form-item id=sub-form{{identifier}}> <div class=sub-form-title> <span class="sub-form-title-label sub-form-title-label{{identifier}}">{{title}} ({{index}})</span> {{#js_compare "this.index > 1"}} <span class=sub-form-delete data-id={{identifier}} id=sub-form-delete{{identifier}}>删除</span> {{/js_compare}} </div> <div class=sub-from-component></div> </div>'},function(e,t){e.exports="{{#each this}} {{#each subAssignmentInfoVos}} <div class=sub-process-block> <div class=sub-process-title>触发子流程：{{subProcDefName}}</div> <div id={{subProcDefId}}></div> </div> {{/each}} {{/each}}"},function(e,t){e.exports='<li> <div class="item-content {{#if showScan}}show-scan-content{{/if}}"> <div class=item-inner> <div class="item-title label">{{title}} {{#if unit}}({{unit}}){{/if}}</div> <div class=item-input> {{#js_compare "this.value"}} <input id={{_id}} type={{inputType}} oninput=\'inputEvent(event,"{{type}}")\' placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}} value={{value}}> {{/js_compare}} {{#js_compare "this.defaultValue && !this.value"}} <input id={{_id}} type={{inputType}} oninput=\'inputEvent(event,"{{type}}")\' placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}} value={{defaultValue}}> {{/js_compare}} {{#js_compare "!this.defaultValue && !this.value"}} <input id={{_id}} type={{inputType}} oninput=\'inputEvent(event,"{{type}}")\' placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}}> {{/js_compare}} </div> </div> {{#js_compare "this.showScan"}} <i class="iconfont icon-scan" id=scan{{_id}}></i> {{/js_compare}} </div> </li>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span><span class=item-value>{{value}}</span> </div>"},function(e,t){e.exports='<li class=align-top> <div class="item-content {{#if showScan}}show-scan-content{{/if}}"> <div class=item-inner> <div class="item-title label">{{title}}</div> <div class=item-input style=padding-top:10px;padding-bottom:10px> {{#js_compare "this.value"}} <textarea id={{_id}} placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}}>{{value}}</textarea> {{/js_compare}} {{#js_compare "!this.value && this.defaultValue"}} <textarea id={{_id}} placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}}>{{defaultValue}}</textarea> {{/js_compare}} {{#js_compare "!this.value && !this.defaultValue"}} <textarea id={{_id}} placeholder="{{displayTips}}&nbsp;{{#if required}}(必填){{/if}}" maxlength={{maxLength}}></textarea> {{/js_compare}} </div> </div> {{#js_compare "this.showScan"}} <i class="iconfont icon-scan" id=scan{{_id}}></i> {{/js_compare}} </div> </li>'},function(e,t){e.exports="<div class=flow-detail-item> <span class=item-label>{{title}} : </span><span class=item-value>{{value}}</span> </div>"},function(e,t){e.exports='<div class=detail-handle>流程信息({{this.length}})</div> <div class=timeline> {{#each this}} {{#js_compare "this.isSubTask == true"}} <div class=timeline-item> <div class=timeline-item-divider> <div class="timeline-item-txt system">系统</div> </div> <div class=timeline-item-content> <div class=timeline-item-inner> <div class=approver> {{starterName}} <span>{{createDate}}</span> </div> <div class=content> {{#each details}} <div style=color:#999> 触发子流程<a id=sub-task{{id}} style=text-decoration:underline;color:#999>&lt;&lt;{{name}}&gt;&gt;</a> &nbsp; {{#js_compare "this.processStatus == \'Pass\'"}} 完成 {{/js_compare}} {{#js_compare "this.processStatus == \'Approvel\'"}} 流转中 {{/js_compare}} </div> {{/each}} </div> </div> </div> </div> {{/js_compare}} {{#js_compare "this.isCirculationTask == true"}} <div class=timeline-item> <div class=timeline-item-divider> <div class="timeline-item-txt system">系统</div> </div> <div class=timeline-item-content> <div class=timeline-item-inner> <div class=approver> {{actName}} <span>{{createDate}}</span> </div> <div class=content> {{#js_compare "this.readNames"}} <div>已阅</div> <div class=value style=margin-bottom:5px>{{readNames}}</div> {{/js_compare}} {{#js_compare "this.unreadNames"}} <div>待阅</div> <div class=value>{{unreadNames}}</div> {{/js_compare}} </div> </div> </div> </div> {{/js_compare}} {{#js_compare "this.isTask == true"}} <div class=timeline-item> <div class=timeline-item-divider> {{#js_compare "this.status == \'Pending\'"}} <div class="timeline-item-txt handle">待处理</div> {{/js_compare}} {{#js_compare "this.processResult == \'Pass\' || this.processResult == \'SignPass\'"}} <div class="timeline-item-txt comment">处理</div> {{/js_compare}} {{#js_compare "this.processResult == \'Deny\'"}} <div class="timeline-item-txt comment">处理</div> {{/js_compare}} {{#js_compare "this.processResult == \'BackToFirst\' || this.processResult == \'Back\'"}} <div class="timeline-item-txt comment">处理</div> {{/js_compare}} {{#js_compare "this.processResult == \'Resubmit\'"}} <div class="timeline-item-txt handle">提交</div> {{/js_compare}} {{#js_compare "this.processResult == \'Start\'"}} <div class="timeline-item-txt handle">提交</div> {{/js_compare}} {{#js_compare "this.processResult == \'Revoke\'"}} <div class="timeline-item-txt comment">处理</div> {{/js_compare}} {{#js_compare "this.processResult == \'Unknown\'"}} <div class="timeline-item-txt refuse">结束</div> {{/js_compare}} {{#js_compare "this.status != \'Pending\' && (this.processResult == \'Manual\' || this.processResult == \'WithdrawFirst\' || this.processResult == \'Withdraw\')"}} <div class="timeline-item-txt comment">处理</div> {{/js_compare}} </div> {{#js_compare "this.status == \'Pending\'"}} <div class=timeline-item-content> <div class=timeline-item-inner> <div class=approver> <span class=operator>当前节点名称：</span> <span class=value>{{name}}</span> </div> <div class=content> <span class=operator>当前处理人：</span> <span class=value>{{approver}}</span> </div> {{#each comments}} <div class=content>{{this}}</div> {{/each}} </div> </div> {{/js_compare}} {{#js_compare "this.status != \'Pending\'"}} <div class=timeline-item-content> <div class=timeline-item-inner> <div class=approver> {{approver}} <span>{{createDate}}</span> </div> {{#js_compare "this.status != \'Pending\' && this.processResult != \'Start\' && this.name != null && this.processResult != \'Unknown\'"}} <div class=content> <span class=operator>节点名称：</span> <span class=value>{{this.name}}</span> </div> {{/js_compare}} {{#js_compare "this.processResult == \'Manual\' || this.processResult == \'WithdrawFirst\' || this.processResult == \'Withdraw\'"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.comment && (this.processResult == \'Pass\' || this.processResult == \'SignPass\')"}} <div class=content>{{comment}}</div> {{/js_compare}} {{#js_compare "!this.comment && (this.processResult == \'Pass\' || this.processResult == \'SignPass\')"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} {{#js_compare "!this.itemName"}} <span class=value>同意</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.comment && this.processResult == \'Deny\'"}} <div class=content>{{comment}}</div> {{/js_compare}} {{#js_compare "!this.comment && this.processResult == \'Deny\'"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} {{#js_compare "!this.itemName"}} <span class=value>不同意</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.comment && this.processResult == \'Back\'"}} <div class=content>操作：退回到上级审批：{{comment}}</div> {{/js_compare}} {{#js_compare "!this.comment && this.processResult == \'Back\'"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} {{#js_compare "!this.itemName"}} <span class=value>退回到上级审批</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.comment && this.processResult == \'BackToFirst\'"}} <div class=content>退回到发起人： {{comment}}</div> {{/js_compare}} {{#js_compare "!this.comment && this.processResult == \'BackToFirst\'"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} {{#js_compare "!this.itemName"}} <span class=value>退回到发起人</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.processResult == \'Resubmit\'"}} <div class=content> <span class=operator>操作：</span> {{#js_compare "this.itemName"}} <span class=value>{{itemName}}</span> {{/js_compare}} {{#js_compare "!this.itemName"}} <span class=value>再次提交</span> {{/js_compare}} </div> {{/js_compare}} {{#js_compare "this.processResult == \'Start\'"}} <div class=content> <span class=operator>操作：</span> <span class=value>提交流程</span> </div> {{/js_compare}} {{#js_compare "this.parent"}} <div class=content> <div style=color:#999> 父流程<a style=text-decoration:underline;color:#999>&lt;&lt;{{parent.name}}&gt;&gt;</a> &nbsp; {{#js_compare "this.parent.processStatus == \'Pass\'"}} 完成 {{/js_compare}} {{#js_compare "this.parent.processStatus == \'Approval\'"}} 流转中 {{/js_compare}} </div> </div> {{/js_compare}} {{#each comments}} <div class=content>{{this}}</div> {{/each}} {{#js_compare "this.attachment"}} <div class=sign-picture> <img src={{attachment}}> </div> {{/js_compare}} {{#js_compare "this.files != null"}} <div class="comment-attachment file-block"> {{#each files}} <div class=file-detail data-id={{mediaId}} id=file-detail{{id}}> <i class="iconfont fujian"></i> <div class=fujian-border></div> <div class=file-name>{{name}}</div> <div class=file-size>{{size}}</div> <div class=file-download data-id={{mediaId}} id=file-download{{id}}> 下载 </div> </div> {{/each}} </div> {{/js_compare}} </div> </div> {{/js_compare}} </div> {{/js_compare}} {{/each}} </div> <div class=timeline> {{#each this}} {{#js_compare "this.isComment == true"}} <div class=timeline-item> <div class=timeline-item-divider> <div class="timeline-item-txt comment">评论</div> </div> <div class=timeline-item-content> <div class=timeline-item-inner> <div class=approver> {{editor.name}} <span>{{createDate}}</span> </div> <div class=content>{{content}}</div> {{#js_compare "this.pictures != null"}} <div class=comment-image id=comment-image{{id}}> {{#each pictures}} <img src={{src}} data-id={{mediaId}} data-index={{index}}> {{/each}} </div> {{/js_compare}} {{#js_compare "this.attachments != null"}} <div class="comment-attachment file-block"> {{#each attachments}} <div class=file-detail data-id={{mediaId}} id=file-detail{{id}}> <i class="iconfont fujian"></i> <div class=fujian-border></div> <div class=file-name>{{name}}</div> <div class=file-size>{{size}}</div> <div class=file-download data-id={{mediaId}} id=file-download{{id}}> 下载 </div> </div> {{/each}} </div> {{/js_compare}} </div> </div> </div> {{/js_compare}} {{/each}} </div>';
},function(e,t){e.exports='{{#js_compare "this.sn == null"}} <div class=title>{{processDefinition.name}}-{{startUser.name}}</div> <div class=sub-title>{{startUser.name}} {{createDate}}</div> {{/js_compare}} {{#js_compare "this.sn != null"}} <div class=title>{{processDefinition.name}}-{{startUser.name}}-{{sn}}</div> <div class=sub-title>{{startUser.name}} {{createDate}}</div> {{/js_compare}} <div class=state> {{#js_compare "this.status === \'Approval\'"}} <i class="iconfont icon-zhang-meizi icon-shenpizhong"></i> <div class=state-text><div class=state-approval>流转中</div></div> {{/js_compare}} {{#js_compare "this.status === \'Pass\'"}} <i class="iconfont icon-zhang-meizi icon-shenpibutongguo"></i> <div class=state-text><div class=state-end>结束</div></div> {{/js_compare}} {{#js_compare "this.status === \'NoPass\'"}} <i class="iconfont icon-zhang-meizi icon-shenpibutongguo"></i> <div class=state-text><div class=state-end>结束</div></div> {{/js_compare}} {{#js_compare "this.status === \'Revoke\'"}} <i class="iconfont icon-zhang-meizi icon-shenpichehui"></i> <div class=state-text><div class=state-revoke>作废</div></div> {{/js_compare}} {{#js_compare "this.status === \'Draft\'"}} <i class="iconfont icon-zhang-meizi icon-caogao"></i> <div class=state-text><div class=state-draft>草稿</div></div> {{/js_compare}} {{#js_compare "this.status === \'Unknown\'"}} <i class="iconfont icon-zhang-meizi icon-yichangjieshu"></i> <div class=state-text><div class=state-end>结束</div></div> {{/js_compare}} </div>'},function(e,t){e.exports='{{#js_compare "this.currentUserId == this.startUser.id"}} {{#js_compare "this.status === \'Approval\' && !this.fromTodo && !this.fromApproved && this.canWithdrawFirst && !this.canAbandoned"}} <div class="detail-btn-item btn-delete" id=flow-revoke>撤回</div> {{/js_compare}} {{/js_compare}} {{#js_compare "this.status === \'Approval\' && this.fromApproved && this.tasks.length > 2 && this.canWithdraw"}} <div class="detail-btn-item btn-delete" id=flow-revoke-approve>撤回审批</div> {{/js_compare}} {{#js_compare "this.status === \'Draft\'"}} <div class="detail-btn-item btn-delete" id=flow-remove>删除</div> {{/js_compare}} {{#js_compare "this.status === \'Pass\' || this.status === \'Approval\' || this.status === \'Revoke\'"}} <div class="detail-btn-item btn-comment" id=flow-comment>评论</div> {{/js_compare}} {{#js_compare "this.currentUserId == this.startUser.id"}} {{#js_compare "this.status === \'Approval\' && !this.fromTodo && !this.fromApproved && !this.canAbandoned"}} <div class="detail-btn-item btn-handle" id=flow-remind>催办</div> {{/js_compare}} {{#js_compare "this.canAbandoned == true && this.status === \'Approval\' && this.fromTodo"}} <div class="detail-btn-item btn-handle" id=flow-resubmit>重新提交</div> {{/js_compare}} {{#js_compare "this.canAbandoned == true && this.status === \'Approval\' && !this.fromTodo && !this.fromApproved"}} <div class="detail-btn-item btn-delete" id=flow-invalid>作废</div> {{/js_compare}} {{/js_compare}} {{#js_compare "this.status === \'Draft\'"}} <div class="detail-btn-item btn-handle" id=flow-edit>编辑</div> <div class="detail-btn-item btn-handle" id=flow-submit>提交</div> {{/js_compare}} {{#js_compare "!this.invalid && this.approveToMe == true && this.fromTodo && !this.fromApproved && !this.back"}} <div class="detail-btn-item btn-handle" id=flow-handle>处理</div> {{/js_compare}}'},function(e,t){e.exports="{{#each this}} <div class=result-btn-item data-id={{flowid}} data-manual={{manual}}>{{flowName}}</div> {{/each}}"},function(e,t){e.exports='<div class=popup> <div class=navbar> <div class=navbar-inner> <div class=left id=launch-plus-back> <a href=# class="link icon-only"> <i class="iconfont icon-fanhui-baise"></i> </a> </div> <div class=center>请选择</div> <div class="right launch-plus-confirm-btn" id=launch-plus-confirm>确定</div> </div> </div> <div class=launch-plus-block> <div id=launch-next-approver-container></div> <div id=launch-sub-process-container></div> <div id=launch-next-circulation-container></div> </div> </div>'},function(e,t){e.exports='{{#each this}} {{#js_compare "this.processInstance == null"}} <li class=flow-list-item data-id={{cid}} id=flow-list-item{{cid}}> <div class=item-content data-id={{cid}}> <div class=item-media data-id={{cid}}><img src={{processDefinition.icon}} width=45 height=45 data-id={{cid}}></div> <div class=item-inner data-id={{cid}}> {{#js_compare "this.queryName == null"}} {{#js_compare "this.sn == null"}} <div class=item-title data-id={{cid}}>{{processDefinition.name}}</div> {{/js_compare}} {{#js_compare "this.sn != null"}} <div class=item-title data-id={{cid}}>{{processDefinition.name}}-{{startUser.name}}-{{sn}}</div> {{/js_compare}} {{/js_compare}} {{#js_compare "this.queryName != null"}} <div class="item-title item-query-title" data-id={{cid}}>{{queryName}}</div> {{/js_compare}} <div class=item-subtitle data-id={{cid}}>{{createDate}}</div> </div> </div> </li> {{/js_compare}} {{#js_compare "this.processInstance != null"}} <li class=flow-list-item data-id={{cid}} id=flow-list-item{{cid}}> <div class=item-content data-id={{cid}}> <div class=item-media data-id={{cid}}><img src={{processInstance.processDefinition.icon}} width=45 height=45 data-id={{cid}}></div> <div class=item-inner data-id={{cid}}> {{#js_compare "this.queryName == null"}} <div class=item-title data-id={{cid}}>{{processInstance.processDefinition.name}}-{{processInstance.startUser.name}}-{{processInstance.sn}}</div> {{/js_compare}} {{#js_compare "this.queryName != null"}} <div class="item-title item-query-title" data-id={{cid}}>{{queryName}}</div> {{/js_compare}} <div class=item-subtitle data-id={{cid}}>{{createDate}}</div> </div> </div> </li> {{/js_compare}} {{/each}}'},function(e,t){e.exports='<div class=flow-list-empty> <div class=empty-icon> <i class="iconfont icon-wuquanxian"></i> </div> <div class=empty-tip>没有设置代理的角色权限</div> </div>'},function(e,t){e.exports='{{#each this}} {{#js_compare "this.delegater == null"}} <div class=proxy-block id=proxy{{id}}> <div class=proxy-company> {{organization.name}} <span>{{role.name}}</span> </div> <div class=proxy-tip>待办申请转交给</div> <div class=proxy-setting> <div class=proxy-setting-item> <span>选择人员</span> <div class=proxy-select-employee-block> <input type=text placeholder=点击选择人员... readonly=readonly class=proxy-select-employee data-id={{id}} id=proxy-select-employee{{id}}> </div> </div> <div class=proxy-setting-item> <span>开始时间</span> <div class=proxy-start-time-block> <input type=text placeholder=点击选择时间... readonly=readonly class=proxy-start-time data-id={{id}} id=proxy-start-time{{id}}> </div> </div> <div class="proxy-btn proxy-start-btn" data-id={{id}} id=proxy-btn{{id}}>开始代理</div> </div> </div> <div class=proxy-line id=proxy-line{{id}}></div> {{/js_compare}} {{#js_compare "this.delegater != null"}} <div class=proxy-block id=proxy{{id}}> <div class=proxy-company> {{organization.name}} <span>{{role.name}}</span> </div> <div class=proxy-tip>{{delegater.name}} 于{{fromDate}}开始代理</div> <div class=proxy-setting> <div class=proxy-time>{{proxyDuration}}</div> <div class="proxy-btn cancel proxy-cancel-btn" data-id={{id}} id=proxy-cancel-btn{{id}}>取消代理</div> </div> </div> <div class=proxy-line id=proxy-line{{id}}></div> {{/js_compare}} {{/each}}'},function(e,t){e.exports='<div class=flow-list-empty> <div class=empty-icon> <i class="iconfont icon-wudaiban"></i> </div> <div class=empty-tip>暂无数据</div> </div>'}]);